on_actions = {
	on_startup = {
		effect = {
			if = { limit = {has_game_rule = {rule = horst_host_country option = ENG}} set_variable={host = ENG.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = GER}} set_variable={host = GER.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = ITA}} set_variable={host = ITA.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = ROM}} set_variable={host = ROM.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = HUN}} set_variable={host = HUN.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = FIN}} set_variable={host = FIN.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = USA}} set_variable={host = USA.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = CAN}} set_variable={host = CAN.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = SAF}} set_variable={host = SAF.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = RAJ}} set_variable={host = RAJ.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = AST}} set_variable={host = AST.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = NZL}} set_variable={host = NZL.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = CZE}} set_variable={host = CZE.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = YUG}} set_variable={host = YUG.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = JAP}} set_variable={host = JAP.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = MAN}} set_variable={host = MAN.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = SOV}} set_variable={host = SOV.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = FRA}} set_variable={host = FRA.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = SPR}} set_variable={host = SPR.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = NOR}} set_variable={host = NOR.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = ETH}} set_variable={host = ETH.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = EFR}} set_variable={host = EFR.id} }	
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = BUL}} set_variable={host = BUL.id} }
			else_if = { limit = {has_game_rule = {rule = horst_host_country option = BRA}} set_variable={host = BRA.id} }
			var:host = { set_variable = { marked_states = 0 } set_country_flag = host	}
			SWE = { HFU_fuel_startup_effect = yes }
			ENG = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 12200 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 9600 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 259 }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 100 }

				add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 180 producer = ENG variant_name = "Light Tank Mk. VI" }
			}
			GER = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 24900 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 891 }
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 607 }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 349 }

				add_equipment_to_stockpile = { type = light_tank_chassis_2 amount = 720 producer = GER variant_name = "Panzer II Ausf. A" }
			}
			FRA = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 14400 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 31300 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 766 }
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 2500 }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 217 }
				add_equipment_to_stockpile = { type = light_tank_chassis_0 amount = 480 producer = FRA variant_name = "FT mod. 31" }
				add_equipment_to_stockpile = { type = light_tank_chassis_0 amount = 240 producer = FRA variant_name = "FT Char Cannon" }
				add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 480 producer = FRA variant_name = "H-35" }
			}
			JAP = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 7700 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 31700 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 801 }
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 880 }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 25 }

				add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 180 producer = JAP variant_name = "Type 95 Ha-Go" }
				
			}
			USA = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 11100 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 344 }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 106 }
			}
			HUN = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4700 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 11 }
			}
			ROM = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 9600 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 303 }
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 70 }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 87 }

				add_equipment_to_stockpile = { type = light_tank_chassis_0 amount = 72 producer = ROM variant_name = "FT Char Cannon" }
			}
			SOV = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 16200 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 61700 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 443 }
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 16000 }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 814 }

				add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 1300 producer = SOV variant_name = "T-26TU mod. 1933" }
				add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 1000 producer = SOV variant_name = "BT-5" }
			}
			MAN = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3900 }
			}
			BRA = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 2900 }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 75 }
			}
			MEX = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 5605 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 900 }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 55 }
			}
			CAN = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2700 }
			}

			RAJ = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 3600 }
			}
			AST = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2300 }
			}
			NZL = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 700 }
			}
			SAF = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 815 }
			}
			SWE = { JFU_startup_on_action = yes }
			SPR = {
				country_event = { id = lar_spain.2 days = 230 }
			}
			if = { 
				limit = {
					has_game_rule = {
						rule = JFU_closed_eco_JAPAN
						option = ENABLE_CLOSED_ECO
					}
				}
				JAP = {
					add_ideas = closed_economy 
					add_ideas = limited_exports_idea
				}
				
			}
			if = { 
				limit = {
					has_game_rule = {
						rule = JFU_closed_eco_SOVIET
						option = ENABLE_CLOSED_ECO
					}
				}
				SOV = {
					add_ideas = closed_economy 
					add_ideas = export_focus_idea
					403 = {
						add_extra_state_shared_building_slots = 8
						add_building_construction = {
							type = industrial_complex
							level = 8
							instant_build = yes
							}
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = JFU_pre_grinded_generals
						option = PRE_GRINDED_GENERALS_ON
					}
				}
				GER = { 
					recruit_character = GER_erwin_rommel_grinded 
					recruit_character = GER_fedor_von_bock_grinded
					recruit_character = GER_erich_von_manstein_grinded
					recruit_character = GER_erwin_von_witzleben_grinded
					recruit_character = GER_gerd_von_rundstedt_grinded
				}
				SOV = {
					recruit_character = SOV_nikolay_vatutin_grinded
					recruit_character = SOV_georgy_zhukov_grinded
					recruit_character = SOV_vasily_chuykov_grinded
					recruit_character = SOV_andrey_grechko_grinded
					recruit_character = SOV_dmitry_lelyushenko_grinded
					SOV_georgy_zhukov_grinded = { 
						set_character_flag = SOV_safe_from_purge_flag
					}
					SOV_vasily_chuykov_grinded = {
						set_character_flag = SOV_safe_from_purge_flag
					}
					SOV_dmitry_lelyushenko_grinded = {
						set_character_flag = SOV_safe_from_purge_flag
					}	
					SOV_andrey_grechko_grinded = {
						set_character_flag = SOV_safe_from_purge_flag
					}
					SOV_nikolay_vatutin_grinded = {
						set_character_flag = SOV_safe_from_purge_flag
					}	
				}
				ROM = {
					recruit_character = ROM_gheorghe_avramescu_grinded
					recruit_character = ROM_ioan_mihail_racovita_grinded
					recruit_character = ROM_petre_dumitrescu_grinded
				}
				HUN = {
					recruit_character = HUN_geza_lakatos_grinded
					recruit_character = HUN_ivan_hindy_grinded
					recruit_character = HUN_karoly_beregfy_grinded
					recruit_character = HUN_lajos_veress_grinded
				}
				SPR = {
					recruit_character = SPR_antonio_cordon_garcia_grinded
					recruit_character = SPA_francisco_franco_grinded
					recruit_character = SPR_mohamed_meziane_grinded
					recruit_character = SPR_gonzalo_queipo_de_llano_grinded
				}
				ITA = {
					recruit_character = ITA_emilio_de_bono_grinded
					recruit_character = ITA_ugo_cavallero_grinded
					recruit_character = ITA_giovanni_messe_grinded
					recruit_character = ITA_ubaldo_soddu_grinded
					recruit_character = ITA_rodolfo_graziani_grinded
				}
				BUL = {
					recruit_character = BUL_ivan_markov_grinded
					recruit_character = BUL_georgi_markov_grinded
				}
				JAP = {
					recruit_character = JAP_shizuichi_tanaka_grinded
					recruit_character = JAP_akira_muto_grinded
					recruit_character = JAP_shunroku_hata_grinded
					recruit_character = JAP_hisaichi_terauchi_grinded
					recruit_character = JAP_tomoyuki_yamashita_grinded
					recruit_character = JAP_kenkichi_ueda_grinded
				}
			}
			if = {
				limit = {
					NOT = {
						has_game_rule = {
							rule = JFU_pre_grinded_generals
							option = PRE_GRINDED_GENERALS_ON
						}
					}
				}
				GER = { 
					recruit_character = GER_erwin_rommel
					recruit_character = GER_fedor_von_bock
					recruit_character = GER_erich_von_manstein
					recruit_character = GER_erwin_von_witzleben
					recruit_character = GER_gerd_von_rundstedt
				}
				SOV = {
					recruit_character = SOV_nikolay_vatutin
					recruit_character = SOV_georgy_zhukov
					recruit_character = SOV_vasily_chuykov
					recruit_character = SOV_andrey_grechko
					recruit_character = SOV_dmitry_lelyushenko
					SOV_georgy_zhukov = { 
						set_character_flag = SOV_safe_from_purge_flag
					}
					SOV_vasily_chuykov = {
						set_character_flag = SOV_safe_from_purge_flag
					}
					SOV_dmitry_lelyushenko = {
						set_character_flag = SOV_safe_from_purge_flag
					}	
					SOV_andrey_grechko = {
						set_character_flag = SOV_safe_from_purge_flag
					}
					SOV_nikolay_vatutin = {
						set_character_flag = SOV_safe_from_purge_flag
					}				
				}
				ROM = {
					recruit_character = ROM_gheorghe_avramescu
					recruit_character = ROM_ioan_mihail_racovita
					recruit_character = ROM_petre_dumitrescu
				}
				HUN = {
					recruit_character = HUN_geza_lakatos
					recruit_character = HUN_ivan_hindy
					recruit_character = HUN_karoly_beregfy
					recruit_character = HUN_lajos_veress
				}
				SPR = {
					recruit_character = SPR_antonio_cordon_garcia
					recruit_character = SPR_mohamed_meziane
					recruit_character = SPR_gonzalo_queipo_de_llano
				}
				ITA = {
					recruit_character = ITA_emilio_de_bono
					recruit_character = ITA_ugo_cavallero
					recruit_character = ITA_giovanni_messe
					recruit_character = ITA_ubaldo_soddu
					recruit_character = ITA_rodolfo_graziani
				}
				BUL = {
					recruit_character = BUL_ivan_markov
					recruit_character = BUL_georgi_markov
				}
				JAP = {
					recruit_character = JAP_shizuichi_tanaka
					recruit_character = JAP_akira_muto
					recruit_character = JAP_shunroku_hata
					recruit_character = JAP_hisaichi_terauchi
					recruit_character = JAP_tomoyuki_yamashita
					recruit_character = JAP_kenkichi_ueda
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = JFU_pre_grinded_generals
						option = HALVED_GRIND_TIME
					}
				}
				every_possible_country = {
					limit = {
						NOT = { ai_country = yes }
					}
					add_ideas = {
						HALVED_GRIND
					}
				}
			}
		}
		
	}
	on_daily = {
		effect = {
			HFU_fuel_on_daily_scripted_effect = yes
			if = {
				limit = {
					OR = {
						date > 1940.8.1
						NOT = {
							AND = {
								ENG = { controls_state = 119 }
								ENG = { controls_state = 120 }
								ENG = { controls_state = 121 }
								ENG = { controls_state = 122 }
								ENG = { controls_state = 123 }
								ENG = { controls_state = 125 }
								ENG = { controls_state = 126 }
								ENG = { controls_state = 127 }
								ENG = { controls_state = 128 }
								ENG = { controls_state = 129 }
								ENG = { controls_state = 130 }
								ENG = { controls_state = 131 }
								ENG = { controls_state = 132 }
								ENG = { controls_state = 133 }
								ENG = { controls_state = 136 }
								ENG = { controls_state = 338 }
							} 
						}
					}
					NOT = {
						USA = { is_in_faction = yes }
						BRA = { is_in_faction = yes }
						MEX = { is_in_faction = yes }
					}
				}
				ENG = {
					add_to_faction = USA
					add_to_faction = BRA
					add_to_faction = MEX
				}
			}
			if = {
				limit = {
					limit = {
						OR = {
							date > 1941.2.1
							JAP = { has_war_with = ENG }
							NOT = {
								AND = {
									ENG = { controls_state = 119 }
									ENG = { controls_state = 120 }
									ENG = { controls_state = 121 }
									ENG = { controls_state = 122 }
									ENG = { controls_state = 123 }
									ENG = { controls_state = 125 }
									ENG = { controls_state = 126 }
									ENG = { controls_state = 127 }
									ENG = { controls_state = 128 }
									ENG = { controls_state = 129 }
									ENG = { controls_state = 130 }
									ENG = { controls_state = 131 }
									ENG = { controls_state = 132 }
									ENG = { controls_state = 133 }
									ENG = { controls_state = 136 }
									ENG = { controls_state = 338 }
								} 
							}
						}
						NOT = {
							USA = { has_war_with = GER }
						}
					}
				}
				if = { limit = { country_exists = USA }	USA = { add_to_war = { targeted_alliance = ENG enemy = GER } } }
				if = { limit = { country_exists = BRA }	BRA = { add_to_war = { targeted_alliance = ENG enemy = GER } } }
				if = { limit = { country_exists = MEX }	MEX = { add_to_war = { targeted_alliance = ENG enemy = GER } } }
			}
		}
	}
	on_capitulation = {
		effect = {
			if = { 
				limit = {
					original_tag = HOL
				}
				every_state = {
					limit = {
						AND = {
							is_core_of = HOL
							is_controlled_by = GER
						}
					}
				
					add_compliance = 50 
				}
			}
			if = { 
				limit = {
					original_tag = BEL
				}
				every_state = {
					limit = {
						AND = {
							is_core_of = BEL
							is_controlled_by = GER
						}
					}
				
					add_compliance = 50 
				}
			}
			if = { 
				limit = {
					original_tag = NOR
				}
				every_state = {
					limit = {
						AND = {
							is_core_of = NOR
							is_controlled_by = GER
						}
					}
				
					add_compliance = 50 
				}
			}
			if = { 
				limit = {
					original_tag = DEN
				}
				every_state = {
					limit = {
						AND = {
							is_core_of = DEN
							is_controlled_by = GER
						}
					}
				
					add_compliance = 50 
				}
			}
			if = {
				limit = { 
				original_tag = POL

				}
				SOV = {transfer_state = 96 }
				SOV = {transfer_state = 95 }
				SOV = {transfer_state = 94 }
				SOV = {transfer_state = 784 }
				SOV = {transfer_state = 93 }
				SOV = {transfer_state = 91 }
				SOV = {transfer_state = 89 }
				SOV = {transfer_state = 97 }
				every_state = {
					limit = {
						AND = {
							is_core_of = POL
							is_controlled_by = GER
						}
					}
				
					add_compliance = 50 
				}
				every_state = {
					limit = {
						AND = {
							is_core_of = POL
							is_controlled_by = HUN
						}
					}
				
					add_compliance = 50 
				}
			}
			if = {
				limit = {
					original_tag = GRE
					ITA = { has_war_with = GRE }
				}
				add_threat = 15
				ITA = {
					transfer_state = 185
					transfer_state = 731
					transfer_state = 47
					transfer_state = 184
					transfer_state = 186
					transfer_state = 182
					transfer_state = 187
					every_state = {
             		   limit = {
              		     	is_core_of = GRE
             		      	is_controlled_by = ITA
              		 	}
              		  add_compliance = 50
		   			}
				}
			
			}
			if = {
				limit = {
					original_tag = CHI
					JAP = { has_war_with = CHI }
				}
				if = { 
					limit = {
						JAP = {
							has_country_flag = MAN_GETS_CHINA
						}
					
					}
					MAN = {
						annex_country = { target = CHI }
					}
					add_threat = 50
				}
				else = {
					JAP = {
						annex_country = { target = CHI }
					}
					add_threat = 50
				}			
			}
			if = {
				limit = {
					original_tag = FIN 
					SOV = { has_war_with = FIN}
				}
				white_peace = SOV
				SOV = {
					transfer_state = 722
					transfer_state = 147
					transfer_state = 146
					213_add = {
						add_extra_state_shared_building_slots = 10
						add_building_construction = {
							type = industrial_complex
							level = 5
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 5
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = YUG
					ITA = { has_war_with = YUG }
				}
				add_threat = 15
				HUN = {
					transfer_state = 45
					transfer_state = 764
				}
				ITA = {
					transfer_state = 102
					transfer_state = 103
					transfer_state = 104
					transfer_state = 105
					transfer_state = 106
					transfer_state = 107
					transfer_state = 108
					transfer_state = 109
					transfer_state = 804
					transfer_state = 802
					transfer_state = 803
					transfer_state = 102
				}
			}

			if = {
				limit = {
					original_tag = ETH
				}
				
				ETH = {
					transfer_state = 271
					transfer_state = 550
					transfer_state = 559

					271 = { add_core_of = ETH }
					550 = { add_core_of = ETH }
					559 = { add_core_of = ETH }
				
					inherit_technology = ITA	
				}
			
				ITA = { puppet = ETH }	
			}
			if = {
				limit = {
					original_tag = SPR
				}
				set_global_flag = scw_over
				every_state = {
					limit = { 
						AND = {
							is_core_of = SPA
							NOT = {
								is_controlled_by = SPD
							}
						}
					}
					transfer_state_to = SPR 
				}

				SPR = {
					add_timed_idea = { idea = SPR_carlists_uprising days = 365 }
				}
				SOV = {
					remove_ideas = { SPR_seized_spanish_gold_reserves}
					add_ideas = { SPR_seized_spanish_gold_reserves }
				}

			}
			if = {
				limit = {
					original_tag = SPA 
				}
				set_global_flag = scw_over
				every_state = {
					limit = { 
						AND = {
							is_core_of = SPA
							NOT = {
								is_controlled_by = SPD
							}
						}
					}
					transfer_state_to = SPR 
				}
			}
		}
	}
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { tag = FRA }
					FROM.FROM = { is_core_of = FRA }
					OR ={  AND ={  FRA = { surrender_progress	> 0.32 NOT = { OR = { controls_state = 18 controls_state = 785 controls_state = 16 }} } }	FRA = { surrender_progress	> 0.5	}	 }
					NOT = { FRA = { has_country_flag = france_is_kill }}
				}

				tp_divs_out_of_france = yes 
 
				FRA = { 
					set_country_flag = france_is_kill  
					 set_capital = { state = 539 }
					country_event = { id = france.10 }
					set_global_flag = fall_of_france
					set_cosmetic_tag = FRA_FREE
					news_event = { id = news.34 days = 0 }
				

					if = { limit = { date > 1939.9.20 } add_to_variable = { var = FRA_legitimacy value = 5 } }
					
					if = { limit = { date > 1939.10.10 } add_to_variable = { var = FRA_legitimacy value = 5 } }
					
					if = { limit = { date > 1939.10.30 } add_to_variable = { var = FRA_legitimacy value = 5 } }
					
					if = { limit = { date > 1939.11.20 } add_to_variable = { var = FRA_legitimacy value = 5 } }
					
					if = { limit = { date > 1939.12.10 } add_to_variable = { var = FRA_legitimacy value = 5 } }
					
					if = { limit = { date > 1939.12.30 } add_to_variable = { var = FRA_legitimacy value = 5 } }

					set_temp_variable = { AXIScasualtiesk = 0 }
					add_to_temp_variable = { AXIScasualtiesk = ROM.casualties_k }
					add_to_temp_variable = { AXIScasualtiesk = ITA.casualties_k }
					add_to_temp_variable = { AXIScasualtiesk = HUN.casualties_k }
					add_to_temp_variable = { AXIScasualtiesk = GER.casualties_k }
					add_to_temp_variable = { AXIScasualtiesk = SPR.casualties_k }
					add_to_temp_variable = { AXIScasualtiesk = BUL.casualties_k }	
					divide_temp_variable  = { AXIScasualtiesk  = 3  }
					add_to_variable = { var = FRA_legitimacy value = AXIScasualtiesk }

				}

				JFU_vichy_france = yes
				
				ENG = { 
					retire_country_leader = yes					
					create_country_leader = {
						name = "Winston Churchill"
						desc = "POLITICS_WINSTON_CHURCHILL_DESC"
						picture = "Portrait_Britain_Winston_Churchill.dds"
						expire = "1965.1.1"
						ideology = conservatism
						traits = {	british_bulldog	}
					}

					add_stability = 0.1
					add_war_support = 0.1
				}
				GER = {  country_event = { id = france.14 }}
				if = { limit = { country_exists = JAP } JAP = { transfer_state = 670 transfer_state = 286 transfer_state = 741 transfer_state = 671 transfer_state = 728 } }

			}
			if = {
				limit = {
					446 = { is_controlled_by = ITA }
				}
				ITA = {
					add_ideas = ITA_VICTORY_IN_AFRICA	
				}
			}
			if = {
				limit = {
					AND = {
						NOT = { 446 = { is_controlled_by = ITA } }
						ITA = { has_idea = ITA_VICTORY_IN_AFRICA }
					}
				}
				remove_ideas = ITA_VICTORY_IN_AFRICA
			}
		}
	}
	on_paradrop = {
	    effect = {
			if = {  limit = { OR = { is_owned_by = SPR state = 118 } } ROOT = { PREV = {  teleport_armies = { to_state = FROM } } }	}
		}
	}
	on_naval_invasion = { effect ={  if = { limit = { spanish_coastline = yes } teleport_armies = {limit = { allies = yes  } to_state = FROM }  PREV = { if = { limit = { SPR = { owns_state = 41 } }transfer_state_to = SPR}  else = { transfer_state_to = GER }  }  } }   }	
}
