focus_tree = {
	id = south_african_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SAF
			has_dlc = "Together for Victory"
		}
		
		#modifier = {
		#	add = 10
		#	original_tag = SAF
		#	has_dlc = "Together for Victory"
		#}
	}
	
	default = no



#	focus = {
#		id = SAF_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}



	############################
	#### WAR PREP SECTION ######
	############################
	shared_focus = ALLIES_commonwealth_of_nations
	
	

	
	

	

	


	############################
	# GO COMMONWEALTH SECTION ##
	############################

	

	

	

	
	

	############################
	## SHARED POLITICS SECTION #
	############################

	
	

	############################
	#### GO FASCIST SECTION ####
	############################

	############################
	##### INDUSTRY SECTION #####
	############################

	focus = {#1
		id = SAF_south_african_railways
		icon = GFX_goal_generic_construct_infrastructure
		x = 10
		y = 0

		cost = 5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }
		available = {
			SAF = { is_ai = no }
		}	
		completion_reward = {

			681 = {
				add_building_construction = {
					type = infrastructure 
					Level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {#2
		id = SAF_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure
		
		x = 2
		y = 0
		relative_position_id = SAF_south_african_railways
		available = {
			SAF = { is_ai = no }
		}

		cost = 5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {			
			719 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {#3
		id = SAF_expand_the_mining_industry
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SAF_south_african_railways focus = SAF_infrastructure_effort }
		x = 0
		y = 1
		relative_position_id = SAF_south_african_railways

		cost = 10


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			681 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_expand_the_mining_industry_IC
			}
		}
	}
	focus = {#4
		id = SAF_south_african_steel
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_south_african_railways focus = SAF_infrastructure_effort }
		x = 0
		y = 1
		relative_position_id = SAF_infrastructure_effort

		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			275 = {
				add_resource = {
					type = steel
					amount = 24
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {#5
		id = SAF_heavy_engineering
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_expand_the_mining_industry }
		x = 0
		y = 2
		relative_position_id = SAF_south_african_railways

		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_heavy_engineering
				bonus = 1.0
				uses = 2
				technology = advanced_machine_tools
				technology = flexible_line
				technology = assembly_line_production
				technology = streamlined_line
				technology = concentrated_industry3
				technology = concentrated_industry4
				technology = concentrated_industry5
				technology = dispersed_industry3 
				technology = dispersed_industry4 
				technology = dispersed_industry5 
			}
		}
	}
	focus = {#6
		id = SAF_war_measures_act
		icon = GFX_goal_generic_demand_territory
		relative_position_id = SAF_south_african_steel
		x = 0
		y = 1
		prerequisite = {
			focus = SAF_south_african_steel
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		available = {
		}	
		available = {
			threat > 0.2
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
	
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_timed_idea = {
				idea =  war_measures_act_idea
				days = 200
			}
		}
	}
	focus = {#7
		id = SAF_expand_the_rand_mines
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_heavy_engineering }
		x = 0
		y = 3
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = SAF_gold_exports
		}
	}
	focus = {#8
		id = SAF_emergency_workers
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_war_measures_act }
		
		x = 0
		y = 1
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = SAF_emergency_workers
		}
	}





	
	

	focus = {#9
		id = SAF_armament_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SAF_expand_the_rand_mines  }
		prerequisite = { focus = SAF_emergency_workers  }
		x = 0
		y = 1
		relative_position_id = SAF_expand_the_rand_mines

		cost = 10

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = SAF_armament_effort_AF
			}
		}
	}

	

	focus = {#10
		id = SAF_pretoria_arms
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SAF_expand_the_rand_mines  }
		prerequisite = { focus = SAF_emergency_workers  }
		x = 2
		y = 4
		relative_position_id = SAF_south_african_railways

		cost = 10


		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_pretoria_arms_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = SAF_pretoria_arms_AF
			}
		}
	}

	
	focus = {
		id = SAF_fund_the_university_of_south_africa
		icon = GFX_focus_research
		prerequisite = { focus = SAF_pretoria_arms focus = SAF_armament_effort }
		x = 1
		y = 5
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 45
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SAF_establish_the_atomics_energy_board
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SAF_fund_the_university_of_south_africa }
		x = 1
		y = 6
		relative_position_id = SAF_south_african_railways

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_establish_the_atomics_energy_board
				bonus = 1.0
				uses = 2
				category = nuclear
			}
		}
	}

	


	############################
	####### ARMY SECTION #######
	############################

	focus = {
		id = SAF_special_service_battalion
		icon = GFX_goal_generic_army_doctrines
		x = 15
		y = 0

		cost = 5
		available = {
			SAF = { is_ai = no }
		}	
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = SAF_special_service_battalion
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_improve_the_three_oh_three
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SAF_special_service_battalion }
		x = -1
		y = 1
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_improve_the_three_oh_three
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = SAF_q_services_corps
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SAF_special_service_battalion }
		x = 1
		y = 1
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_q_services_corps
				bonus = 3.0
				uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = SAF__south_african_military_college
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_improve_the_three_oh_three focus = SAF_q_services_corps }
		x = 0
		y = 2
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = SAF__south_african_military_college
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = SAF_armor_effort
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = SAF_expand_the_south_african_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SAF_improve_the_three_oh_three focus = SAF__south_african_military_college }
		x = -1
		y = 3
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_expand_the_south_african_artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = SAF_sa_engineer_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_q_services_corps focus = SAF__south_african_military_college }
		x = 1
		y = 3
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_sa_engineer_corps
				bonus = 1.0
				uses = 1
				category = support_tech
			}
		}
	}

	focus = {
		id = SAF_equipment_effort
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SAF_expand_the_south_african_artillery focus = SAF_sa_engineer_corps }
		x = 0
		y = 4
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_equipment_effort
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}
		}
	}

	focus = {
		id = SAF_mechanization_effort
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = SAF_equipment_effort }
		x = -1
		y = 5
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_mechanization_effort
				bonus = 1.0
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}

	focus = {
		id = SAF_south_african_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = SAF_equipment_effort focus = SAF_sa_engineer_corps }
		x = 1
		y = 5
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = special_forces_doctrine
			}
		}
	}

	focus = {
		id = SAF_armor_effort
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_south_african_special_forces focus = SAF_mechanization_effort }
		x = 0
		y = 6
		relative_position_id = SAF_special_service_battalion

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_armor_effort
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}


	############################
	####### JFU SECTION ########
	############################

    focus = {#1
        id = SAF_ethnic_legislation
        icon = GFX_goal_generic_propaganda
        x = 3
        y = 0
        cost = 10
        ai_will_do = {
            factor = 50
        }

        available_if_capitulated = yes
        completion_reward = {
          add_political_power = 120
        }
        search_filters = { FOCUS_FILTER_POLITICAL }
    }
	
	
	focus = {#2
        id = SAF_policy_of_cooperation
        icon = GFX_focus_chi_british_cooperation 
        prerequisite = { focus = SAF_ethnic_legislation }
        relative_position_id = SAF_ethnic_legislation
        mutually_exclusive = {  focus = SAF_push_the_unp_towards_independence }
        x = 3
        y = 1
        cost = 5
        ai_will_do = {
          factor = 20
        }
        available = {
			ENG = {
				has_completed_focus = ENG_steady_as_she_goes 
			}
           
                  
        }
        available_if_capitulated = yes
        completion_reward = {
			
			add_political_power = 120
        }
    }
    focus = {
        id = SAF_research_cooperation
		icon = GFX_goal_tfv_generic_tech_sharing
        prerequisite = { focus = SAF_policy_of_cooperation }
        relative_position_id = SAF_policy_of_cooperation
        x = -1
        y = 1
        cost = 10

        ai_will_do = {
        factor = 10
        }
        available_if_capitulated = yes

        available = {
    			
    		}

        completion_reward = {
			SAF = {
				modify_tech_sharing_bonus = {
				  id = commonwealth_research
				  bonus = 0.1  # we get 20% higher bonus from this group
			 }
		 }
        }
        search_filters = { FOCUS_FILTER_RESEARCH }
    }
    focus = {
        id = SAF_commonwealth_industrial_cooperation
        icon = GFX_focus_research
        prerequisite = { focus = SAF_research_cooperation }
        relative_position_id = SAF_research_cooperation
        x = -1
        y = 1
        cost = 10
        ai_will_do = {
        factor = 10
        }
        available_if_capitulated = yes

        available = {
    			is_subject_of = ENG	
				date > 1939.1.1
    	}

        completion_reward = {
            add_offsite_building = { type = industrial_complex level = 1 }
            add_tech_bonus = {
                name = industrial_bonus
                bonus = 1
                uses = 1
                category = electronics
            }
			add_research_slot = 1
            ENG = {
                add_offsite_building = { type = industrial_complex level = 1 }
                add_tech_bonus = {
                    name = industrial_bonus
                    bonus = 1
                    uses = 1
                    category = electronics
                }
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
    }

    focus = {
        id = SAF_finance_legislation
        icon = GFX_focus_mex_privatisation
        prerequisite = { focus = SAF_policy_of_cooperation }
        relative_position_id = SAF_policy_of_cooperation
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
   		    681 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
       			    type = industrial_complex
       			    level = 1
       				instant_build = yes
       			}
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
   		    719  = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = naval_base
                    level = 1
                    province = 1468
                    instant_build = yes
                }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }

    focus = {
        id = SAF_the_aliens_act
        icon = GFX_goal_generic_defence
        prerequisite = { focus = SAF_finance_legislation }
        relative_position_id = SAF_finance_legislation
        x = 1
        y = 1
        cost = 7.15
        ai_will_do = {
            factor = 5
        }
        available_if_capitulated = yes
        completion_reward = {
			add_ideas = AST_classify_aliens
			if = {
				limit = {
					has_government = democratic
				}
				add_popularity = {
					ideology = fascism
					popularity = -0.1
				}
				add_popularity = {
					ideology = communism
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				add_popularity = {
					ideology = democratic
					popularity = -0.1
				}
				add_popularity = {
					ideology = communism
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				add_popularity = {
					ideology = democratic
					popularity = -0.1
				}
				add_popularity = {
					ideology = fascism
					popularity = -0.1
				}
			}
 	    }
  	    search_filters = {  FOCUS_FILTER_POLITICAL }
    }




    focus = {
        id = SAF_guard_the_cape
        icon = GFX_focus_generic_coastal_fort
        prerequisite = { focus = SAF_policy_of_cooperation }
        relative_position_id = SAF_policy_of_cooperation
        x = 0
        y = 2
        cost = 5

        ai_will_do = {
            factor = 10
        }

        available_if_capitulated = yes

        completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
				}
				set_building_level = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				set_building_level = {
					type = coastal_bunker
					province = {
						all_provinces = yes							
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
			}
           }
           search_filters = { FOCUS_FILTER_INDUSTRY }
        }

		focus = {
			id = SAF_police_windhoek
			icon = GFX_goal_generic_political_pressure
			prerequisite = { focus = SAF_guard_the_cape }
			x = -1
			y = 1
			relative_position_id = SAF_guard_the_cape
	
			cost = 10
	
			ai_will_do = {
				factor = 2
			}
	
			available = {
	
			}
			
			bypass = {
	
			}
	
			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no
			search_filters = { FOCUS_FILTER_POLITICAL }
	
			completion_reward = {			
				swap_ideas = {
					remove_idea = SAF_ossewabrandwag
					add_idea = SAF_ossewabrandwag_2
				}
			}
		}
		focus = {
			id = SAF_crush_ossewabrandwag
			icon = GFX_goal_generic_military_sphere
			prerequisite = { focus = SAF_police_windhoek }
			relative_position_id = SAF_guard_the_cape
			x = -1
			y = 2
			cost = 10

			ai_will_do = {
			factor = 10
			}

			available_if_capitulated = yes

			available = {
			}

			completion_reward = {
			  remove_ideas = SAF_ossewabrandwag_2
			 }
		  }
	
		


        focus = {
            id = SAF_remobilize_the_cape_corps
			icon = GFX_goal_generic_allies_build_infantry
            prerequisite = { focus = SAF_guard_the_cape }
            relative_position_id = SAF_guard_the_cape
            x = 1
            y = 1
            cost = 10

            ai_will_do = {
            factor = 10
            }

            available_if_capitulated = yes

            available = {
            }

            completion_reward = {
				swap_ideas = {
					add_idea  = SAF_history_of_segregation_2
					remove_idea = SAF_history_of_segregation
				}
             }
             search_filters = { FOCUS_FILTER_MANPOWER }
          }
		  focus = {
			id = SAF_expand_the_cape_corps
			icon = GFX_goal_generic_demand_territory
			prerequisite = { focus = SAF_remobilize_the_cape_corps }
			x = 0
			y = 1
			relative_position_id = SAF_remobilize_the_cape_corps
	
			cost = 10
	
			ai_will_do = {
				factor = 1
			}
	
			available = {
	
			}
			
			bypass = {
	
			}
	
			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes
			search_filters = { FOCUS_FILTER_MANPOWER }
			completion_reward = {
				remove_ideas = SAF_history_of_segregation_2
			}
		}

         

            focus = {
          		id = SAF_expand_the_union
          		icon = GFX_goal_tfv_saf_secure_interests_in_africa
          		prerequisite = { focus = SAF_expand_the_cape_corps }
          		prerequisite = { focus = SAF_crush_ossewabrandwag }
          		x = -1
          		y = 2
          		relative_position_id = SAF_remobilize_the_cape_corps

          		cost = 10

          		ai_will_do = {
                    factor = 10
                    modifier = {
                        factor = 0
                        is_historical_focus_on = yes
                    }
          		}

          		available = {
					SAF = { has_country_flag = ENG_permitted_SAF } 
          		}

          		bypass = {

          		}

          		
          		
          		

                search_filters = { FOCUS_FILTER_ANNEXATION }

          		completion_reward = {
          		    ENG = {
          				country_event = tfv_south_africa.1
          			}
          		}
          	}



    focus = {#1
        id = SAF_push_the_unp_towards_independence
        icon = GFX_goal_tfv_strengthen_commonwealth_ties
        prerequisite = { focus = SAF_ethnic_legislation }
        relative_position_id = SAF_ethnic_legislation
        mutually_exclusive = {  focus = SAF_policy_of_cooperation }
        x = -2
        y = 1
        cost = 5
        ai_will_do = {
			
        }
		available = {
			date> 1938.1.1
		}
        available_if_capitulated = yes
        completion_reward = {
          add_timed_idea = { idea = democratic_influence days = 90 }
          add_popularity = {
              ideology = democratic
              popularity = 0.05
          }
          custom_effect_tooltip = available_political_advisor
          show_ideas_tooltip = SAF_sir_patrick_duncan # democratic reformer
        }
    }
	focus = {
        id = SAF_celebrate_the_voortrekkers
        icon = GFX_goal_generic_national_unity
        prerequisite = {  focus = SAF_push_the_unp_towards_independence}
        relative_position_id = SAF_push_the_unp_towards_independence
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
            factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
            add_ideas = SAF_voortrekker_monument
        }
        search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_POLITICAL }
    }
	focus = {
        id = SAF_return_to_republicanism
        icon = GFX_focus_eng_decolonization
        prerequisite = { focus = SAF_celebrate_the_voortrekkers}
        relative_position_id = SAF_celebrate_the_voortrekkers
        x = 0
        y = 1
        cost = 10

        ai_will_do = {
			factor = 5
        }

        available = {
        }

        available_if_capitulated = yes

        completion_reward = {
          add_ideas = SAF_return_to_republicanism
          SAF = {
            add_autonomy_ratio = {
              value = 0.1
              localization = SAF_republicanism
            }
          }
          }
          search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_POLITICAL }
        }
    focus = {
        id = SAF_build_a_new_state
        icon = GFX_goal_tfv_sever_ties_with_uk
        prerequisite = { focus = SAF_return_to_republicanism}
        relative_position_id = SAF_return_to_republicanism
        x = 0
        y = 1
        cost = 10

        ai_will_do = {
        factor = 200
        }

        available = {
          has_war = yes
        }

        available_if_capitulated = yes

        completion_reward = {
          country_event = tfv_south_africa.5
        }
    }

    focus = {
        id = SAF_separation_policy
        icon = GFX_goal_generic_consumer_goods
        prerequisite = { focus = SAF_build_a_new_state}
        mutually_exclusive = { focus = SAF_relax_racial_laws }
        relative_position_id = SAF_build_a_new_state
        x = -1
        y = 2
        cost = 10

        mutually_exclusive = { focus = SAF_relax_racial_laws }

        ai_will_do = {
        factor = 10
        }

        available = {
          has_country_flag = SAF_hertzog_in_power
        }

        available_if_capitulated = yes

        completion_reward = {
			add_ideas = SAF_cheap_labor_3
        }
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
    }
    focus = {
        id = SAF_relax_racial_laws
        icon = GFX_focus_ETH_freedom_at_gunpoint
        prerequisite = { focus = SAF_build_a_new_state}
        mutually_exclusive = { focus = SAF_separation_policy }
        relative_position_id = SAF_build_a_new_state
        x = 1
        y = 2
        cost = 10

        mutually_exclusive = { focus = SAF_separation_policy }

        ai_will_do = {
        factor = 10
        }

        available_if_capitulated = yes

        available = {
         has_country_flag = SAF_smuts_in_power
        }

        completion_reward = {
          
          add_ideas = SAF_relax_racial_laws
        }
        search_filters = { FOCUS_FILTER_INDUSTRY }
    }
     focus = {
        id = SAF_laager_doctrine
        icon = GFX_goal_generic_special_forces
        prerequisite = { focus = SAF_build_a_new_state}
        relative_position_id = SAF_build_a_new_state
        x = 0
        y = 1
        cost = 10
        ai_will_do = {
        factor = 10
        }
        available_if_capitulated = yes
        completion_reward = {
          add_ideas = SAF_laager_doctrine
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
    }

	############################
	###### NAVY SECTION ########
	############################

	focus = {
		id = SAF_seaward_defence_force
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 6
		y = 0		

		cost = 5
		available = {
			SAF = { is_ai = no }
		}	
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = SAF_seaward_defence_force_DY
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			681 = { 
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}	
			}
		}
	}
}		