### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
    id = indian_focus_goe
    
    country = {
        factor = 0
        
        modifier = {
            add = 10
            tag = RAJ
            has_dlc = "Graveyard of Empires"
        }
    }
    default = no
    continuous_focus_position = { x = 200 y = 3800 }

    focus = {
        id = RAJ_indianize_the_army
        icon = GFX_focus_RAJ_indianisation_of_army
        x = 24
        y = 0
        mutually_exclusive = { focus = RAJ_keep_british_generals }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

        completion_reward = {
            RAJ_frank_messervy = {
                add_unit_leader_trait = brave	
            }
        }
    }

   focus = {
        id = RAJ_great_depression_price_controls
        icon = GFX_focus_generic_price_controls
        #prerequisite = { focus = }
        x = 10
        y = 0

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            always = no
        }
        
        bypass = {

        }

        allow_branch = {
            always = no
        }

        offset = {
            x = 29
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_great_depression_price_controls
            }
        }

        offset = {
            x = 15
            y = 0
            trigger = {
                has_game_rule = {
                    rule = obsolete_focus_branches_visibility
                    option = HIDE
                }
                has_completed_focus = RAJ_look_to_the_future
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_idea = idea_RAJ_great_depression_1
                }
                swap_ideas = {
                    remove_idea = idea_RAJ_great_depression_1
                    add_idea = idea_RAJ_price_controls
                }
            }
            else_if = {
                limit = {
                    has_idea = idea_RAJ_great_depression_2
                }
                swap_ideas = {
                    remove_idea = idea_RAJ_great_depression_2
                    add_idea = idea_RAJ_price_controls
                }
            }
            add_political_power = 20

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        } 
    }



    focus = {
        id = RAJ_look_to_the_future
        icon = GFX_focus_RAJ_the_other_solution
        prerequisite = { focus = RAJ_great_depression_price_controls }
        x = 0
        y = 1
        relative_position_id = RAJ_great_depression_price_controls

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
            always = no
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_popularity = {
                ideology = neutrality
                popularity = 0.05
            }
            swap_ideas = {
                remove_idea = idea_RAJ_price_controls
                add_idea = idea_RAJ_price_controls_2
            }
            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        } 
    }


    focus = {
        id = RAJ_lobby_parliment
        icon = GFX_focus_generic_devaluation
        prerequisite = { focus = RAJ_look_to_the_future }

        x = 2
        y = 1
        relative_position_id = RAJ_look_to_the_future

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_stability < 0.4
            if = {
                limit = {
                    is_ai = no
                }
                ENG = {
                    has_opinion = {
                        target = ROOT
                        value > 70 # Use < or >
                    }
                }
            }

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            set_country_flag = RAJ_industrialists_joined_eic
            if = {
                limit = {
                    ENG = {
                        exists = yes
                        is_subject = no
                    }
                }

                ENG = {
                    country_event = { id = GOE_RAJ.31 hours = 2  }
                }
            }


        } 
    }

    focus = {
        id = RAJ_incorporation_of_the_east_india_company
        icon = GFX_focus_RAJ_the_return_of_the_east_india_trading_company_alt
        prerequisite = { focus = RAJ_lobby_parliment }
        prerequisite = { focus = RAJ_seek_intial_funding }
        mutually_exclusive = { }
        x = -2
        y = 1
        relative_position_id = RAJ_lobby_parliment

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            set_country_flag = RAJ_allow_release_states
            
            #RAJ
            drop_cosmetic_tag = yes
            hidden_effect ={
                country_event = {
                    id = GOE_RAJ_eic.1
                    days = 1
                }

            }
            remove_ideas = RAJ_risk_of_famine
            add_ideas = idea_RAJ_upset_congress_leaders
            custom_effect_tooltip = RAJ_the_return_of_the_east_india_company_tt
            #eic_normal_investments = yes
            #set_country_flag = has_payed_normal_dividends #get one free :) 
            
            set_cosmetic_tag = RAJ_eic_tag
            set_variable = { RAJ_eic_taxes_consumer_goods = 0 }
            hidden_effect = {
                add_dynamic_modifier = {
                    modifier = idea_RAJ_eic_taxes
                }
                add_dynamic_modifier = {
                    modifier = idea_RAJ_eic_dividends_investment
                }
            }
            
            OVERLORD = {
                set_autonomy = {
                    target = RAJ
                    autonomy_state = autonomy_free
                }
            }
                
            hidden_effect = {
                create_dynamic_country = {
                    original_tag = RAJ
                            # copy_tag = TAG # if set, it will copy stuff from copy tag instead of original_tag
                    save_global_event_target_as = UK_INDIA
                    reserve_dynamic_country = yes
                    every_state = {
                        limit = {
                            is_in_array = {
                                array = RAJ.owned_states_at_game_start
                                value = THIS
                            }
                            NOT = {
                                state = 428
                                state = 429
                            }
                        }
                        PREV = { transfer_state = PREV } 
                    }
                    ENG = {
                        set_autonomy = {
                            target=PREV
                            autonomy_state = autonomy_colony
                            freedom_level = 0.1 # 0-1 
                            end_wars  = yes # default yes. will not cancel non civil wars if set to no
                            end_civil_wars = yes # default yes. will not cancel civil wars if set to no
                        }
                    }
                    add_to_tech_sharing_group = commonwealth_research
                    set_cosmetic_tag = RAJ_UK
                    RAJ = {
                        random_character = {
                            limit = {
                                is_character = RAJ_freeman_freeman_thomas
                            }
                            set_nationality = PREV.PREV
                        }
                    }
                    promote_character = RAJ_freeman_freeman_thomas
                    set_popularities = {
                        democratic= 28 # 0.0-100
                        neutrality = 70 # 0.0-100
                        fascism = 1 # 0.0-100
                        communism = 1 # 0.0-100
                    }
                    set_politics = {
                        ruling_party = neutrality
                        elections_allowed = no
                    }
                }
            }
                #every_controlled_state = {
                #    limit = {
                #        is_in_array = {
                #            array = RAJ.owned_states_at_game_start
                #            value = THIS
                #        }
                #    }
                #    add_core_of = ROOT
                #}
            

            #RAJ RAJ

            custom_effect_tooltip = RAJ_incorporation_of_the_east_india_company_tt
            hidden_effect = {
                set_popularities = {
                    democratic= 50 # 0.0-100
                    neutrality = 20 # 0.0-100
                    fascism = 20 # 0.0-100
                    communism = 10 # 0.0-100
                }

                set_politics = {
                    ruling_party = neutrality
                    elections_allowed = no

                    long_name = RAJ_eic_party_long # Optional
                    name = RAJ_eic_party
                }

                retire_country_leader = yes

                every_army_leader = {
                    limit = {
                       NOT = { has_trait = loyalty_to_britain }
                    }
                    set_nationality = event_target:UK_INDIA
                }

                every_unit_leader = {
                    limit = {   
                        NOT = { 
                            has_trait = loyalty_to_britain  
                        }                
                        is_operative = no
                    }

                    set_nationality = event_target:UK_INDIA

                }
            }
            #every_core_state = {
            #    limit = { 
            #        NOT = { 
            #            state = 429 
            #            state = 439
            #        } 
            #    }
            #    remove_core_of = ROOT 
            #    add_core_of = DIP
            #    force_enable_resistance = { 
            #        clear = no
            #        occupier = ROOT
            #        occupied = DIP
            #    } 
            #    start_resistance = yes 
            #}

            custom_effect_tooltip = generic_skip_one_line_tt

            hidden_effect = {
                if = {
                    limit = {
                        has_idea = RAJ_princely_states
                    }
                    remove_ideas = RAJ_princely_states
                }
                set_country_flag = stop_unrest_events
                set_capital = {
                    state = 429
                    remember_old_capital = no #default = yes
                }
                428 = {
                    add_core_of = ROOT
                }
            }

            # add_timed_idea = {
            #     idea = idea_RAJ_widespread_turmoil
            #     days = 270
            # }


            # retire_country_leader = yes
            # add_country_leader_role = {
            #     character =  RAJ_GOE_subcontinent_chaos # optional if inside character scope
            #     promote_leader = yes
            #     country_leader = {
            #         ideology = centrism
            #         traits = { government_exodus } 
            #     }
            # }


             #Tax rate
            set_variable = { tier_one_taxes_threshold = 4 }
            set_variable = { tier_one_taxes_tax = 0 }
            set_variable = { tier_one_taxes_tax_tt = tier_one_taxes_tax }
            multiply_variable = { tier_one_taxes_tax_tt = 100 } 
            #tier two
            set_variable = { tier_two_taxes_threshold = 8 } 
            set_variable = { tier_two_taxes_threshold_plus_4 = tier_two_taxes_threshold }
            add_to_variable = { tier_two_taxes_threshold_plus_4 = 4 } #only for tooltip

            set_variable = { tier_two_taxes_threshold_plus_1 = tier_two_taxes_threshold } #for tooltip
            add_to_variable = { tier_two_taxes_threshold_plus_1 = 1 }
            set_variable = { tier_two_taxes_tax = 0.15 }
            set_variable = { tier_two_taxes_tax_tt = tier_two_taxes_tax }
            multiply_variable = { tier_two_taxes_tax_tt = 100 }

            #tier 3
            set_variable = { tier_three_taxes_threshold =  20 }
            set_variable = { tier_three_taxes_threshold_plus_4 = tier_three_taxes_threshold }
            add_to_variable = { tier_three_taxes_threshold_plus_4 = 4 } #only for tooltip

            set_variable = { tier_three_taxes_threshold_plus_1 = tier_three_taxes_threshold } #for tooltip
            add_to_variable = { tier_three_taxes_threshold_plus_1 = 1 }
            set_variable = { tier_three_taxes_tax = 0.3 }
            set_variable = { tier_three_taxes_tax_tt = tier_three_taxes_tax }
            multiply_variable = { tier_three_taxes_tax_tt = 100 }
            #tier 4
            set_variable = { tier_four_taxes_threshold = 29 }
            set_variable = { tier_four_taxes_threshold_plus_4 = tier_four_taxes_threshold }
            add_to_variable = { tier_four_taxes_threshold_plus_4 = 4 } #only for tooltip

            set_variable = { tier_four_taxes_threshold_plus_1 = tier_four_taxes_threshold } #for tooltip
            add_to_variable = { tier_four_taxes_threshold_plus_1 = 1 }
            set_variable = { tier_four_taxes_tax = 0.6 }
            set_variable = { tier_four_taxes_tax_tt = tier_four_taxes_tax } #for tooltipping val*100
            multiply_variable = { tier_four_taxes_tax_tt = 100 }


            custom_effect_tooltip = RAJ_release_subjects_hint_tt

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }

            if = {
                limit = {
                    has_completed_focus = RAJ_seek_intial_funding
                }

                capital_scope = {
                    add_extra_state_shared_building_slots = 3
                    add_building_construction = {
                        type = industrial_complex
                        level = 3
                        instant_build = yes
                    }
                }
            }

            if = {
                limit = {
                    has_idea = idea_RAJ_price_controls
                }
                remove_ideas = idea_RAJ_price_controls
            }

            if = {
                limit = {
                    has_idea = idea_RAJ_price_controls_2
                }
                remove_ideas = idea_RAJ_price_controls_2
            }
        }
    }

    focus = {
        id = RAJ_appoint_a_c_suite
        icon = GFX_focus_RAJ_appoint_a_c_suite
        prerequisite = { focus = RAJ_incorporation_of_the_east_india_company }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_incorporation_of_the_east_india_company 

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_country_flag = has_paid_initial_funding
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL}

        completion_reward = {

            RAJ_GOE_the_board_of_directors = {
                add_country_leader_role = {
                    promote_leader = yes
                    country_leader = {
                        ideology = oligarchism
                    }
                }
            }

            country_event = { id = GOE_RAJ_eic.2 hours = 2 }
             hidden_effect = {
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }


    

    focus = { 
        id = RAJ_take_over_administrative_rights
        icon = GFX_focus_RAJ_british_investors
        prerequisite = { focus = RAJ_appoint_a_c_suite }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_appoint_a_c_suite

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_ideas = {
                   idea_RAJ_taking_over_administraive_rights
             } 
        }
    }
    



    focus = {
        id = RAJ_seek_intial_funding
        icon = GFX_focus_RAJ_issue_bonds_on_the_stock_market
        prerequisite = { focus = RAJ_look_to_the_future }
        #mutually_exclusive = { focus =  }
        x = -2
        y = 1
        relative_position_id = RAJ_look_to_the_future

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = RAJ_seek_intial_funding_tt

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }




    

    focus = {
        id = RAJ_princely_autonomy
        icon = GFX_focus_GER_integration_of_puppet_economies
        prerequisite = { focus = RAJ_take_over_administrative_rights }
        #mutually_exclusive = { focus =  }
        x = -3
        y = 1
        relative_position_id = RAJ_take_over_administrative_rights

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.05

            for_each_scope_loop = { #just as failsafe
                array = RAJ.raj_releasables
                if = {
                    limit = {
                        is_subject_of = RAJ
                        exists = yes
                        NOT = { has_idea = idea_RAJ_princely_autonomy }
                    }

                    add_ideas = idea_RAJ_princely_autonomy
                }
            }

            custom_effect_tooltip = RAJ_release_subjects_hint_tt


        }
    }


    focus = {
        id = RAJ_funnel_british_investments_into_princely_states
        icon = GFX_goal_tfv_strengthen_commonwealth_ties
        prerequisite = { focus = RAJ_princely_autonomy }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_princely_autonomy

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.03


                build_civ_in_indian_releasables_once = yes
            
            
            custom_effect_tooltip = RAJ_funnel_british_investments_into_princely_states_tt
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_form_a_police_force
        icon = GFX_focus_SWE_revoke_militia_law
        prerequisite = { focus = RAJ_appoint_a_c_suite }
        #mutually_exclusive = { focus =  }
        x = -7
        y = 1
        relative_position_id = RAJ_appoint_a_c_suite

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_empowered_police_force
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_headhunt_army_personell
        icon = GFX_focus_RAJ_headhunt_army_personell
        prerequisite = { focus = RAJ_form_a_police_force }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_form_a_police_force

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no


        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_empowered_police_force
                add_idea = idea_RAJ_pmc
            }
        }
    }
    
    focus = {
        id = RAJ_a_private_military
        icon = GFX_focus_RAJ_a_private_military
        prerequisite = { focus = RAJ_headhunt_army_personell }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_headhunt_army_personell

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            division_template = {
                name = "Private Military"       
                #division_names_group = 
                is_locked = no
                force_allow_recruiting = no
                regiments = {
                    irregular_infantry = { x = 0 y = 0 }
                    irregular_infantry = { x = 0 y = 1 }
                    irregular_infantry = { x = 0 y = 2 }
                    irregular_infantry = { x = 1 y = 0 }
                    irregular_infantry = { x = 1 y = 1 }
                    irregular_infantry = { x = 1 y = 2 }
                    irregular_infantry = { x = 2 y = 0 }
                    irregular_infantry = { x = 2 y = 1 }
                }
            }
            hidden_effect = {
                set_rule = { 
                    can_send_volunteers = yes # rule to use, e.g.  can_not_declare_war = yes
                }
            }
            swap_ideas = {
                remove_idea = idea_RAJ_pmc
                add_idea = idea_RAJ_pmc_2
            }

            random_core_state = {
                limit = {
                    is_fully_controlled_by = ROOT
                }
                create_unit = {
                    division = "name = \"Private Military\" division_template = \"Private Military\" start_experience_factor = 0.1 start_equipment_factor = 1 start_manpower_factor = 1"
                    allow_spawning_on_enemy_provs = no 
                    count = 12
                    owner = ROOT
                }
                
            }

            custom_effect_tooltip = RAJ_a_private_military_tt_1
        }
    }



    

    focus = {
        id = RAJ_lobby_for_increased_policing_responsibilities
        icon = GFX_focus_chi_army_reform
        prerequisite = { focus = RAJ_a_private_military }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_a_private_military 

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
          swap_ideas = {
                remove_idea = idea_RAJ_pmc_2
                add_idea = idea_RAJ_pmc_3
            }
  
        }
    }
    

    focus = {
        id = RAJ_privatized_tutelage
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_take_over_administrative_rights }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_take_over_administrative_rights

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Gotterdammerung"
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_air
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_air
                        level = 1
                    }
                }

                
                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_land
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_land
                        level = 1
                    }
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_nuclear
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_nuclear
                        level = 1
                    }
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_naval
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_naval
                        level = 1
                    }
                }
            }
            else = {
                add_tech_bonus = {
                    bonus = 0.25
                    uses = 1
                    category = electronics # optional 
                    # technology  = technology_id # optional
                }
            }

            add_research_slot = 1
            hidden_effect = {
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    

    focus = {
        id = RAJ_privatized_healthcare
        icon = GFX_focus_generic_population_growth
        prerequisite = { focus = RAJ_take_over_administrative_rights }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 0
        relative_position_id = RAJ_privatized_tutelage

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_privatized_healthcare
                bonus = 0.5
                uses = 2
                category = hospital_tech  # optional 
                # technology  = technology_id # optional
            }


            add_breakthrough_points = {
                specialization = specialization_air
                value = 1
            }

            if = {
                limit = {
                    has_dlc = "Gotterdammerung"
                }

                add_tech_bonus = {
                    name = RAJ_privatized_healthcare
                    bonus = 0.35
                    uses = 1
                    category = helicopter_tech # optional 
                    # technology  = technology_id # optional
                }
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }

            add_manpower = 35000
        }
    } 


    focus = {
        id = RAJ_company_bonuses
        icon = GFX_focus_mex_privatisation
        prerequisite = { focus = RAJ_appoint_a_c_suite }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 1
        relative_position_id = RAJ_appoint_a_c_suite 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_union_busting
        icon = GFX_focus_RAJ_union_busting
        prerequisite = { focus = RAJ_form_a_police_force }
        #mutually_exclusive = { focus =  }
        x = -3
        y = 1
        relative_position_id = RAJ_form_a_police_force

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_union_busting
                days = 730
            }

            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_arrest_congress_leaders
        icon = GFX_focus_generic_conspiracy
        prerequisite = { focus = RAJ_union_busting }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_union_busting 

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL}

        completion_reward = {
            remove_ideas = { idea_RAJ_upset_congress_leaders }
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }

        }
    }
    



    focus = {
        id = RAJ_circuvment_demobilization_restrictions
        icon = GFX_focus_RAJ_circuvment_demobilization_restrictions
        prerequisite = { focus = RAJ_lobby_for_increased_policing_responsibilities }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_lobby_for_increased_policing_responsibilities

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = {
                    has_idea = idea_RAJ_demobilization
                }
                remove_ideas = idea_RAJ_demobilization
            }

            add_timed_idea = {
                idea = idea_RAJ_schemes_of_a_ungentlemanly_nature
                days = 270
            }
        }
    }


    focus = {
        id = RAJ_bombay_trade_port
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = RAJ_lobby_for_increased_policing_responsibilities }
        #mutually_exclusive = { focus =  }
        x = -3
        y = 1
        relative_position_id = RAJ_lobby_for_increased_policing_responsibilities

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            429 = {
                is_fully_controlled_by = ROOT
            }
        }
        
        bypass = {
            NOT = {
                429 = {
                    is_controlled_by = ROOT
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            429 = {
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = dockyard
                    level = 3
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_manipulate_army_statistics
        icon = GFX_focus_ARG_keep_it_in_the_party
        prerequisite = { focus = RAJ_lobby_for_increased_policing_responsibilities }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 0
        relative_position_id = RAJ_circuvment_demobilization_restrictions

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}

        completion_reward = {
            try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            random_core_state = {
                limit = {
                    is_fully_controlled_by = ROOT
                }
                create_unit = {
                    division = "name = \"Private Military\" division_template = \"Private Military\" start_experience_factor = 0.1 start_equipment_factor = 1 start_manpower_factor = 1"
                    allow_spawning_on_enemy_provs = no 
                    count = 12
                    owner = ROOT
                }
            }



            custom_effect_tooltip = RAJ_manipulate_army_statistics_tt
        }
    }    



    focus = {
        id = RAJ_open_up_new_markets
        icon = GFX_goal_generic_territory_or_war
        prerequisite = { focus = RAJ_circuvment_demobilization_restrictions focus = RAJ_manipulate_army_statistics }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_circuvment_demobilization_restrictions

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
        }
    }
        

    focus = {
        id = RAJ_acquire_new_resources
        icon = GFX_focus_generic_mining_industry
        prerequisite = { focus = RAJ_open_up_new_markets }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_open_up_new_markets

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    OR = {
                        controls_state = 432
                        432 = {
                            owner = { is_subject_of = ROOT }
                        }
                    }
                }

                432 = {
                    add_resource = {
                        type = oil
                        amount = 12
                    }
                }
            }

            if = {
                limit = {
                    OR = {
                        controls_state = 429
                        432 = {
                            owner = { is_subject_of = ROOT }
                        }
                    }
                }

                429 = {
                    add_resource = {
                        type = steel
                        amount = 19
                    }
                }
            }


            add_tech_bonus = {
                name = RAJ_acquire_new_resources
                bonus = 1
                uses = 1
                category = synth_resources # optional 
                # technology  = technology_id # optional
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_mineral_exploitation_institute
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_acquire_new_resources }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_acquire_new_resources

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.03
            if = {
                limit = {
                    has_dlc = "Gotterdammerung"
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_air
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_air
                        level = 1
                    }
                }
                
                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_land
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_land
                        level = 1
                    }
                }

                random_scientist = {
                    limit = {
                        has_scientist_level = {
                            specialization = specialization_naval  
                            level > 0
                        }
                    }
                    add_scientist_level = {
                        specialization = specialization_naval
                        level = 1
                    }
                }
            }


            add_research_slot = 1
            hidden_effect = {
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_attract_scientists
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_mineral_exploitation_institute }
        x = 0
        y = 1
        relative_position_id = RAJ_mineral_exploitation_institute
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            num_of_factories > 50
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            add_research_slot = 1
        }
    }

    
    focus = {
        id = RAJ_hostile_takeover
        icon = GFX_focus_generic_annex_country_2
        prerequisite = { focus = RAJ_privatized_tutelage focus = RAJ_privatized_healthcare }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_privatized_tutelage 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            custom_effect_tooltip = RAJ_hostile_takeover_tt
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_vertical_integration
        icon = GFX_goal_generic_consumer_goods
        prerequisite = { focus = RAJ_hostile_takeover }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_hostile_takeover 

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = modify_taxation_bracket_all
            add_to_variable = { tier_one_taxes_tax = -0.07 }
            set_variable = { tier_one_taxes_tax_tt = tier_one_taxes_tax }
            multiply_variable = { tier_one_taxes_tax_tt = 100 }

            add_to_variable = { tier_two_taxes_tax = -0.07 }
            set_variable = { tier_two_taxes_tax_tt = tier_two_taxes_tax }
            multiply_variable = { tier_two_taxes_tax_tt = 100 }
            #custom_effect_tooltip = newline_tt

            # custom_effect_tooltip = modify_taxation_third_bracket
             #tier 3
            add_to_variable = { tier_three_taxes_tax = -0.07 }
            set_variable = { tier_three_taxes_tax_tt = tier_three_taxes_tax }
            multiply_variable = { tier_three_taxes_tax_tt = 100 }
            custom_effect_tooltip = newline_tt
             
            # custom_effect_tooltip = modify_taxation_fourth_bracket
            add_to_variable = { tier_four_taxes_tax = -0.07 }
            set_variable = { tier_four_taxes_tax_tt = tier_four_taxes_tax } #for tooltipping val*100
            multiply_variable = { tier_four_taxes_tax_tt = 100 }
           # custom_effect_tooltip = newline_tt 
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }


    focus = {
        id = RAJ_expand_tax_loopholes
        icon = GFX_goal_generic_consumer_goods
        prerequisite = { focus = RAJ_vertical_integration }
        #mutually_exclusive = { focus =  }
        x = 3
        y = 1
        relative_position_id = RAJ_vertical_integration

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = modify_taxation_bracket_all
            add_to_variable = { tier_one_taxes_tax = -0.07 }
            set_variable = { tier_one_taxes_tax_tt = tier_one_taxes_tax }
            multiply_variable = { tier_one_taxes_tax_tt = 100 }

            add_to_variable = { tier_two_taxes_tax = -0.07 }
            set_variable = { tier_two_taxes_tax_tt = tier_two_taxes_tax }
            multiply_variable = { tier_two_taxes_tax_tt = 100 }
            #custom_effect_tooltip = newline_tt

            # custom_effect_tooltip = modify_taxation_third_bracket
             #tier 3
            add_to_variable = { tier_three_taxes_tax = -0.07 }
            set_variable = { tier_three_taxes_tax_tt = tier_three_taxes_tax }
            multiply_variable = { tier_three_taxes_tax_tt = 100 }
            custom_effect_tooltip = newline_tt
             
            # custom_effect_tooltip = modify_taxation_fourth_bracket
            add_to_variable = { tier_four_taxes_tax = -0.07 }
            set_variable = { tier_four_taxes_tax_tt = tier_four_taxes_tax } #for tooltipping val*100
            multiply_variable = { tier_four_taxes_tax_tt = 100 }
           # custom_effect_tooltip = newline_tt 
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_new_economic_policy
        icon = GFX_focus_RAJ_trickle_down_economics
        prerequisite = { focus = RAJ_vertical_integration }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_vertical_integration

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = capital_investment_model

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_special_economic_zones
        icon = GFX_focus_RAJ_special_economic_zones
        prerequisite = { focus = RAJ_vertical_integration }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_vertical_integration

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            add_ideas = special_economic_zones
        }
    }

    focus = {
        id = RAJ_phantom_armies
        icon = GFX_focus_LAT_suspend_constitution_of_latvia
        prerequisite = { focus = RAJ_expand_tax_loopholes }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 2
        relative_position_id = RAJ_new_economic_policy

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            if = {
                limit = {
                    has_completed_focus = RAJ_incorporation_of_the_east_india_company
                }
                increase_taxes_threshold_by_4 = yes
            }
            else = {
                custom_effect_tooltip = tier_threshold_increase_not_setup
            }
            

             hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }


    focus = {
        id = RAJ_debt_manipulation
        icon = GFX_focus_ETH_adopt_the_lira
        prerequisite = { focus = RAJ_phantom_armies }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_phantom_armies

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            if = {
                limit = {
                    has_completed_focus = RAJ_incorporation_of_the_east_india_company
                }
                increase_taxes_threshold_by_4 = yes
            }
            else = {
                custom_effect_tooltip = tier_threshold_increase_not_setup
            }

             hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_corporate_domination
        icon = GFX_goal_generic_positive_trade_relations
        prerequisite = { focus = RAJ_phantom_armies }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_phantom_armies

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            add_stability = -0.06
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_restrictive_administration_budget
        icon = GFX_focus_ARG_anti_corruption_policies
        prerequisite = { focus = RAJ_special_economic_zones }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 2
        relative_position_id = RAJ_special_economic_zones 

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            every_owned_state = {
                limit = {
                    is_controlled_by = ROOT
                    has_resistance = yes
                }
                add_resistance = 15
            }
            add_timed_idea = {
                idea = idea_RAJ_cost_underrun
                days = 480
            }
        }
    }

    focus = {
        id = RAJ_institutional_money_laundering
        icon = GFX_focus_RAJ_institutional_money_laundering
        prerequisite = { focus = RAJ_restrictive_administration_budget focus = RAJ_shareholder_democracy }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_restrictive_administration_budget 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.25
                uses = 1
                category = construction_tech # optional 
                # technology  = technology_id # optional
            }
            unlock_decision_tooltip = {
                decision = RAJ_GOE_tax_fraud
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }

    focus = {
        id = RAJ_deathknell_to_the_raj #I miss you so much Tirisfal
        icon = GFX_focus_SWE_neither_death_nor_dishonor
        prerequisite = { focus = RAJ_institutional_money_laundering }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_institutional_money_laundering

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            custom_trigger_tooltip = {
                tooltip = RAJ_deathknell_to_the_raj_trigger
                 has_event_target = UK_INDIA
            }   
            if = {
                limit = {
                    has_event_target = UK_INDIA
                }
                event_target:UK_INDIA = {
                    exists = yes
                    num_of_controlled_states < 5
                }
            }

        }
        
        bypass = {
            custom_trigger_tooltip = {
                tooltip = RAJ_deathknell_to_the_raj_trigger
                 has_event_target = UK_INDIA
            }   
            event_target:UK_INDIA = {
                OR = {
                    exists = no
                    has_war_with = ROOT
                    has_capitulated = yes
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY}

        completion_reward = {
             if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community
                }
                remove_ideas = RAJ_marginalized_muslim_community
            }
            if = {
                limit = {
                    has_event_target = UK_INDIA
                    event_target:UK_INDIA = {
                        num_of_controlled_states < 5
                    }
                }

                event_target:UK_INDIA = {
                    every_character = {
                        set_nationality = RAJ
                    }
                }

                annex_country = {
                    target = event_target:UK_INDIA
                    transfer_troops = yes
                }

            } 
            else = {
                custom_effect_tooltip = RAJ_deathknell_to_the_raj_trigger_tt
            }

        }
    }

    focus = {
        id = RAJ_just_good_business
        icon = GFX_focus_RAJ_just_good_business
        prerequisite = { focus = RAJ_deathknell_to_the_raj  }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_deathknell_to_the_raj

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_dockyard_in_core_otherwise_build_in_controlled = yes
            try_build_dockyard_in_core_otherwise_build_in_controlled = yes
            create_wargoal = {
                type = annex_everything
                target = INS
                #generator = { state_id } # optional 
            }

            create_wargoal = {
                type = annex_everything
                target = SIA
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    

    focus = {
        id = RAJ_crush_the_anathema
        icon = GFX_focus_RAJ_crush_the_anathema
        prerequisite = { focus = RAJ_just_good_business }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_just_good_business

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            every_country = {
                limit = {
                    OR = {
                        has_government = communism
                        communism > 0.45
                    }
                }

                ROOT = {
                    create_wargoal = {
                        type = annex_everything
                        target = PREV
                    }
                }
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    

    focus = {
        id = RAJ_nothing_personal
        icon = GFX_focus_RAJ_clamp_down_on_corruption
        prerequisite = { focus = RAJ_just_good_business }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 0
        relative_position_id = RAJ_crush_the_anathema 

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                ENG = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }

                AST = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }



                SAF = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }


                CAN = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }


                NZL = {
                    exists = yes
                    NOT = { 
                        is_subject_of = ROOT 
                        is_in_faction_with = ROOT
                    }
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    NOT = { #inverted avaialble block for tooltip
                        ENG = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }

                        AST = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }


                        SAF = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }


                        CAN = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }


                        NZL = {
                            exists = yes
                            NOT = { 
                                is_subject_of = ROOT 
                                is_in_faction_with = ROOT
                            }
                        }
                    }
                }
                custom_effect_tooltip = RAJ_nothing_personal_tt
               
            }
            if = {
                limit = {
                    ENG = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = ENG
                }
            }

            if = {
                limit = {
                    AST = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = AST
                }
            }

            if = {
                limit = {
                    SAF = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = SAF
                }
            }

            if = {
                limit = {
                    NZL = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = NZL
                }
            }

            if = {
                limit = {
                    CAN = {
                        exists = yes
                        NOT = { 
                            is_subject_of = ROOT 
                            is_in_faction_with = ROOT
                        }
                    }
                }

                create_wargoal = {
                    type = annex_everything
                    target = CAN
                }
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
            
        }
    }

    focus = {
        id = RAJ_creative_accounting
        icon = GFX_focus_SWI_embrace_rote_drei
        prerequisite = { focus = RAJ_expand_tax_loopholes }
        #mutually_exclusive = { focus =  }
        x = -1
        y = 1
        relative_position_id = RAJ_expand_tax_loopholes

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            custom_effect_tooltip = modify_taxation_bracket_all
            add_to_variable = { tier_one_taxes_tax = -0.07 }
            set_variable = { tier_one_taxes_tax_tt = tier_one_taxes_tax }
            multiply_variable = { tier_one_taxes_tax_tt = 100 }

            add_to_variable = { tier_two_taxes_tax = -0.07 }
            set_variable = { tier_two_taxes_tax_tt = tier_two_taxes_tax }
            multiply_variable = { tier_two_taxes_tax_tt = 100 }
            #custom_effect_tooltip = newline_tt

            # custom_effect_tooltip = modify_taxation_third_bracket
             #tier 3
            add_to_variable = { tier_three_taxes_tax = -0.07 }
            set_variable = { tier_three_taxes_tax_tt = tier_three_taxes_tax }
            multiply_variable = { tier_three_taxes_tax_tt = 100 }
            custom_effect_tooltip = newline_tt
             
            # custom_effect_tooltip = modify_taxation_fourth_bracket
            add_to_variable = { tier_four_taxes_tax = -0.07 }
            set_variable = { tier_four_taxes_tax_tt = tier_four_taxes_tax } #for tooltipping val*100
            multiply_variable = { tier_four_taxes_tax_tt = 100 }
           # custom_effect_tooltip = newline_tt 
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_corporate_expansion
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_appoint_a_c_suite }
        #mutually_exclusive = { focus = RAJ_expand_tax_loopholes }
        x = 4
        y = 1
        relative_position_id = RAJ_appoint_a_c_suite 

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {


            capital_scope ={
                set_state_category = metropolis
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory 
                    level = 1
                    instant_build = yes
                }
                add_building_construction = {
                    type = industrial_complex 
                    level = 1
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_legalize_the_opium_trade
        icon = GFX_focus_RAJ_legalize_the_opium_trade
        prerequisite = { focus = RAJ_corporate_expansion }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_corporate_expansion

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_permit_opium_trade
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    

    focus = {
        id = RAJ_force_china_to_accept_opium_trade
        icon = GFX_focus_attack_china
        prerequisite = { focus = RAJ_legalize_the_opium_trade }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_legalize_the_opium_trade 

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                CHI = {
                    controls_state = 743
                    owns_state = 743
                    is_subject = no
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ANNEXATION}

        completion_reward = {
            if = {
                limit = {
                    CHI = {
                        controls_state = 743
                        owns_state = 743
                    }
                }

                CHI = {
                    country_event = { id = GOE_RAJ_eic.3  hours = 2 }
                }
                custom_effect_tooltip = if_they_accept_tt
                effect_tooltip = { 
                    RAJ = {  transfer_state = 743  } 
                    custom_effect_tooltip = RAJ_force_china_to_accept_opium_trade_tt
                }
            }
            else = {
                743 = {
                    controller = {
                        if = {
                            limit = {
                                owns_state = 743 
                            }

                            country_event = { id = GOE_RAJ_eic.3  hours = 2 }
                            
                            custom_effect_tooltip = if_they_accept_tt
                            effect_tooltip = { 
                                RAJ = {  transfer_state = 743  } 
                                custom_effect_tooltip = RAJ_force_china_to_accept_opium_trade_tt
                            }
                        }
                    }
                }
            }

            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
           
        }
    }

    focus = {
        id = RAJ_shareholder_democracy
        icon = GFX_focus_usa_voter_registration_act
        prerequisite = { focus = RAJ_new_economic_policy }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 2
        relative_position_id = RAJ_new_economic_policy

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_stability = 0.03
            add_country_leader_trait = shareholder_democracy
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }
    



    focus = {
        id = RAJ_land_grab
        icon = GFX_focus_DEN_heavy_regulations
        prerequisite = { focus = RAJ_corporate_expansion }
        #mutually_exclusive = { focus =  }
        x = 2
        y = 1
        relative_position_id = RAJ_corporate_expansion

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_land_grab
                bonus = 2
                uses = 2
                category = excavation_tech  # optional 
                # technology  = technology_id # optional
            }

            try_build_infra_in_core_otherwise_build_in_controlled = yes
            try_build_infra_in_core_otherwise_build_in_controlled = yes

        }
    }
    

    focus = {
        id = RAJ_deforestation
        icon = GFX_focus_SWE_beneath_sticks_and_stone
        prerequisite = { focus = RAJ_land_grab }
        #mutually_exclusive = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_land_grab

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

             every_state = {
                random_select_amount = 4
                limit = {
                    is_in_array = {
                        array = ROOT.owned_states_at_game_start
                        value = THIS
                    }
                    is_controlled_by = ROOT
                }
                add_extra_state_shared_building_slots = 1   
            }
            add_ideas = idea_RAJ_deforestation 

        }
    }
    


    

    focus = {
        id = RAJ_productivity_mandate
        icon = GFX_focus_CZE_german_puppet
        prerequisite = { focus = RAJ_acquire_new_resources }
        mutually_exclusive = { focus = RAJ_night_shifts }
        x = 2
        y = 1
        relative_position_id = RAJ_acquire_new_resources

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_productivity_mandate
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    
    focus = {
        id = RAJ_mass_production
        icon = GFX_focus_generic_mass_production
        prerequisite = { focus = RAJ_productivity_mandate focus = RAJ_night_shifts }
        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_productivity_mandate

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_mass_production
        }
    }

    focus = {
        id = RAJ_trade_federation_of_india
        icon = GFX_focus_RAJ_trade_federation_of_india
        prerequisite = { focus = RAJ_crush_the_anathema focus = RAJ_nothing_personal }

        #mutually_exclusive = { focus =  }
        x = 1
        y = 1
        relative_position_id = RAJ_crush_the_anathema

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            custom_effect_tooltip = RAJ_india_indivisible_tt
            custom_effect_tooltip = RAJ_trade_federation_of_india_tt
        }
    }

    focus = {
        id = RAJ_night_shifts
        icon = GFX_goal_generic_production2
        prerequisite = { focus = RAJ_acquire_new_resources }
        mutually_exclusive = { focus = RAJ_productivity_mandate }
        x = 2
        y = 0
        relative_position_id = RAJ_productivity_mandate

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_night_shifts
            hidden_effect = {
                controlled_civilian_factories_excluding_trade = yes
                calc_expected_consumer_goods_for_taxes = yes
            }
        }
    }
    
   focus = {
        id = RAJ_provincial_autonomy
        icon = GFX_focus_RAJ_provincial_autonomy
        #prerequisite = { focus = }
        x = 12
        y = 0

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY }

        completion_reward = {
            add_dynamic_modifier = {
                modifier = idea_RAJ_independence_movement
            }

            hidden_effect = {
                country_event = { id = GOE_RAJ.29 days = 38 }  #April 18ish
            }

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_mahatma
        icon = GFX_focus_RAJ_mahatma
        prerequisite = { focus = RAJ_provincial_autonomy }
        x = 4
        y = 8
        relative_position_id = RAJ_provincial_autonomy
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        allow_branch = {
            always = no
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_GOE_jawaharlal_nehru
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_mahatma_mohandas_gandhi
            custom_effect_tooltip = generic_skip_one_line_tt
            unlock_decision_tooltip = {
                decision = RAJ_GOE_urge_non_violence
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }

            hidden_effect = {
                if = {
                    limit = {
                        has_game_rule = {
                            rule = obsolete_focus_branches_visibility
                            option = HIDE
                        }
                    }
                    mark_focus_tree_layout_dirty = yes
                }
            }
        }
    }


    focus = {
        id = RAJ_uplifting_the_people_of_india
        icon = GFX_goal_support_democracy
        prerequisite = { focus = RAJ_provincial_autonomy }
        x = 0
        y = 1
        relative_position_id = RAJ_provincial_autonomy
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            swap_ideas = {
                remove_idea = idea_RAJ_great_depression_1
                add_idea = idea_RAJ_great_depression_2
            }
            add_autonomy_ratio = { 
                value = 0.05 
            }
        }
    }

    focus = {
        id = RAJ_swadeshi_movement
        icon = GFX_goal_generic_forceful_treaty
        prerequisite = { focus = RAJ_provincial_autonomy }
        x =-6
        y = 1
        relative_position_id = RAJ_provincial_autonomy
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {

            custom_effect_tooltip = idea_RAJ_independence_movement_tt
            add_to_variable = { RAJ_autonomy_gain_independence_movement = 0.03 tooltip = autonomy_gain_tt }
            add_to_variable = { RAJ_resistance_activity_independence_movement = 0.1 tooltip =  resistance_activity_tt }
            add_to_variable = { RAJ_resistance_target_independence_movement = 0.1 tooltip =  resistance_target_tt }
            custom_effect_tooltip = generic_skip_one_line_tt
            try_build_civ_in_core_otherwise_build_in_controlled = yes
            
        }
    }

    focus = {
        id = RAJ_form_a_federal_court
        icon = GFX_focus_NOR_restore_public_trust_in_the_storting
        prerequisite = { focus = RAJ_uplifting_the_people_of_india }
        x = 1
        y = 1
        relative_position_id = RAJ_uplifting_the_people_of_india
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_ideas = idea_RAJ_federal_court_of_india
        }
    }

    focus = {
        id = RAJ_a_congress_resurgent
        icon = GFX_focus_RAJ_a_congress_resurgent
        prerequisite = { focus = RAJ_mahatma }
        x = 0
        y = 1
        relative_position_id = RAJ_mahatma
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            is_subject = no
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_independence_movement_tt
            add_to_variable = { RAJ_autonomy_gain_independence_movement = 0.02 tooltip = autonomy_gain_tt }
            add_to_variable = { RAJ_resistance_activity_independence_movement = 0.15 tooltip =  resistance_activity_tt }
            add_to_variable = { RAJ_resistance_target_independence_movement = 0.15 tooltip =  resistance_target_tt }
            custom_effect_tooltip = generic_skip_one_line_tt
            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_bhimrao_ramji_ambedkar
        }
    }

    focus = {
        id = RAJ_khadi_movement
        icon = GFX_focus_RAJ_khadi_movement 
        prerequisite = { focus = RAJ_swadeshi_movement }
        x = 0
        y = 1
        relative_position_id = RAJ_swadeshi_movement
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_autonomy_ratio = { 
                value = 0.03
                localization = RAJ_khadi_movement
            }
            try_build_civ_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_boycott_british_made_goods
        icon = GFX_focus_eng_decolonization
        prerequisite = { focus = RAJ_swadeshi_movement }
        x = -2
        y = 1
        relative_position_id = RAJ_swadeshi_movement
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_boycott_british_made_goods
                days = 400
            }
        }
    }

    focus = {
        id = RAJ_litteracy_effort
        icon = GFX_focus_research2
        prerequisite = { focus = RAJ_form_a_federal_court }
        x = 0
        y = 1
        relative_position_id = RAJ_form_a_federal_court
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_literacy_effort_1
                days = 365
            }
            
            custom_effect_tooltip = will_be_upgraded_to
            show_ideas_tooltip = idea_RAJ_literacy_effort_2
            custom_effect_tooltip = when_expired
        }
    }

    focus = {
        id = RAJ_indo_centric_curriculum
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_litteracy_effort }
        x = 0
        y = 1
        relative_position_id = RAJ_litteracy_effort
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_research_slot = 1
            add_autonomy_score = { 
                value = 20

            }
            
        }
    }

    focus = {
        id = RAJ_all_india_students_federation
        icon = GFX_focus_generic_university_1
        prerequisite = { focus = RAJ_litteracy_effort }
        x = 2
        y = 1
        relative_position_id = RAJ_litteracy_effort
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.05
            }
            add_tech_bonus = {
                name = RAJ_all_india_students_federation
                bonus = 0.5
                uses = 1
                category = electronics # optional 
                # technology  = technology_id # optional
            }
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 8 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes
        }
    }

    focus = {
        id = RAJ_enrollment_of_dali_children
        icon = GFX_focus_RAJ_enrollment_of_dali_children
        prerequisite = { focus = RAJ_indo_centric_curriculum }
        x = -1
        y = 1
        relative_position_id = RAJ_indo_centric_curriculum
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}
        search_filters = {FOCUS_FILTER_RESEARCH}
        search_filters = {FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_stability = 0.05
            add_tech_bonus = {
                name = RAJ_enrollment_of_dali_children
                bonus = 0.5
                uses = 1
                category = electronics # optional 
                # technology  = technology_id # optional
            }
            add_autonomy_ratio = { 
                value = 0.05 
                localization = RAJ_enrollment_of_dali_children
            }
        }
    }


    focus = {
        id = RAJ_expand_healthcare_facilities
        icon = GFX_focus_generic_field_hostpital
        prerequisite = { focus = RAJ_enrollment_of_dali_children }
        x = -1
        y = 1
        relative_position_id = RAJ_enrollment_of_dali_children
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_research_slot = 1
            random_core_state = {
                limit = { is_controlled_by = ROOT }
                add_extra_state_shared_building_slots = 1  
            }

            random_core_state = {
                limit = { is_controlled_by = ROOT }
                add_extra_state_shared_building_slots = 1  
            }

            random_core_state = {
                limit = { is_controlled_by = ROOT }
                add_extra_state_shared_building_slots = 1  
            }

            add_tech_bonus = {
                name = RAJ_expand_healthcare_facilities
                bonus = 0.25
                uses = 2
                category = support_tech # optional 
            }

            custom_effect_tooltip = newline_tt
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 5 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes


        }
    }



    focus = {
        id = RAJ_local_resistance_to_land_taxes
        icon = GFX_focus_SOV_breadbasket_of_the_union
        prerequisite = { focus = RAJ_agricultural_cooperatives   }
        prerequisite = { focus = RAJ_boycott_british_made_goods }
        x = 0
        y = 2
        relative_position_id = RAJ_boycott_british_made_goods
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            every_controlled_state = {
                random_select_amount = 3
                limit = {
                    has_resistance = yes
                    is_in_array = {
                        array = ROOT.owned_states_at_game_start
                        value = THIS
                    }
                }
                add_resistance = 15
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            add_ideas = idea_RAJ_government_budget_shortfall
        }
    }

    focus = {
        id = RAJ_tenancy_reforms
        icon = GFX_focus_generic_low_cost_housing
        prerequisite = { focus = RAJ_uplifting_the_people_of_india }
        x = -2
        y = 1
        relative_position_id = RAJ_uplifting_the_people_of_india
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = idea_RAJ_tenancy_reforms
        }
    }

    focus = {
        id = RAJ_debt_relief
        icon = GFX_focus_generic_currency_reforms
        prerequisite = { focus = RAJ_tenancy_reforms }
        x = -2
        y = 1
        relative_position_id = RAJ_tenancy_reforms
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            remove_ideas = {
                idea_RAJ_great_depression_2
            }
            #add_timed_idea = {
            #    idea = idea_RAJ_debt_relief
            #   days = 270
            #}
        }
    }

    focus = {
        id = RAJ_temple_entry_movements
        icon = GFX_focus_RAJ_temple_entry_movements
        prerequisite = { focus = RAJ_indo_centric_curriculum }
        x = 1
        y = 1
        relative_position_id = RAJ_indo_centric_curriculum
       
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_stability = 0.1
            add_popularity = {
                ideology = democratic
                popularity = 0.1
            }
        }
    }

    focus = {
        id = RAJ_freedom_of_the_press
        icon = GFX_focus_generic_improve_the_administration
        prerequisite = { focus = RAJ_form_a_federal_court }
        x = 2
        y = 1
        relative_position_id = RAJ_form_a_federal_court
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_political_power = 90
          
            add_popularity = {
                ideology = democratic
                popularity = 0.1
            }
        }
    }

    focus = {
        id = RAJ_cottage_industries
        icon = GFX_focus_CHL_enlarge_the_textile_industries
        prerequisite = { focus = RAJ_tenancy_reforms }
        x = 1
        y = 2
        relative_position_id = RAJ_tenancy_reforms
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_TFV_AUTONOMY}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_autonomy_ratio = { 
                value = 0.05 
                localization = RAJ_cottage_industries
            }
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
        }
    }










    focus = {
        id = RAJ_agricultural_cooperatives
        icon = GFX_focus_generic_agricultural_subsidies
        prerequisite = { focus = RAJ_tenancy_reforms }
        x = -4
        y = 1
        relative_position_id = RAJ_tenancy_reforms
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {
            every_owned_state = {
                limit = { has_state_flag = agcoop_built_infra }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
      
            }

            every_owned_state = { #Need to loop through twice beccause sometimes you can build a civ but not an infra if you already had a 5 infra in a state
                limit = { has_state_flag = agcoop_built_civ }
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }

        completion_reward = {
            custom_effect_tooltip = RAJ_agricultural_cooperatives_tt

            #effect_tooltip = {
            #    every_owned_state = {
            #        limit = {
            #            is_controlled_by = ROOT
            #            industrial_complex > 3 #UPDATE RAJ_agricultural_cooperatives_tt if you change this
            #            infrastructure < 5
            #        }
#
            #        add_building_construction = {
            #            type = infrastructure
            #            level = 1
            #            instant_build = yes
            #        }
            #    }
            #}

            set_variable = { agcoop_infra_build_counter = 0 }
            set_variable = { agcoop_civ_build_counter = 0 }
            for_each_scope_loop = {
                array = owned_states_at_game_start
                
                 if = {
                     limit = {
                        is_controlled_by = ROOT
                        industrial_complex > 3 #UPDATE RAJ_agricultural_cooperatives_tt if you change this
                    }     
                    ROOT = { add_to_variable = { agcoop_infra_build_counter = 1 } } #Count infra if state requirements are correct, even if one isnt build because you already technically fulfilled the requirements
                    if = {
                        limit = {
                            infrastructure < 5
                        }

                        add_building_construction = {
                            type = infrastructure
                            level = 1
                            instant_build = yes
                        }
                        set_state_flag = agcoop_built_infra #used for complete tooltip
                    }

                    log = "INFRA BUILT: [?ROOT.agcoop_infra_build_counter]"
                    set_temp_variable = { t_infra_build_counter  = ROOT.agcoop_infra_build_counter }

                    modulo_temp_variable = { var = t_infra_build_counter value = 2 } #every other infra counts as a civ

                    if = {
                        limit = {
                            check_variable = { t_infra_build_counter = 1 } 
                            check_variable = { ROOT.agcoop_civ_build_counter < 10 } #Max roof
                        }
#
                        
                        add_extra_state_shared_building_slots = 1
                        add_building_construction = {
                            type = industrial_complex
                            level = 1
                            instant_build = yes
                        }
                        set_state_flag = agcoop_built_civ
                        add_to_variable = { ROOT.agcoop_civ_build_counter = 1 }
                    }     
                }
            }
        }
    }

    focus = {
        id = RAJ_tea_exports
        icon = GFX_focus_RAJ_tea_exports
        prerequisite = { focus = RAJ_agricultural_cooperatives  }
        x = 0
        y = 1
        relative_position_id = RAJ_agricultural_cooperatives

        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

            NOT = { has_war_with = ENG }

            
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            if = {
                limit = {
                    is_subject_of = ENG
                }

                unlock_decision_tooltip = {
                    decision = RAJ_GOE_export_tea_subject
                    show_effect_tooltip = yes # default is no
                    show_modifiers = yes # default is no
                }

                custom_effect_tooltip = RAJ_tea_exports_tt
                custom_effect_tooltip = RAJ_tea_exports_tt_2
                unlock_decision_tooltip = {
                    decision = RAJ_GOE_export_tea_free
                    show_effect_tooltip = yes # default is no
                    show_modifiers = yes # default is no
                }
                custom_effect_tooltip = RAJ_tea_exports_tt
            }
            else = {
                unlock_decision_tooltip = {
                    decision = RAJ_GOE_export_tea_free
                    show_effect_tooltip = yes # default is no
                    show_modifiers = yes # default is no
                }
                custom_effect_tooltip = RAJ_tea_exports_tt
            }
        }
    }

    focus = {
        id = RAJ_handloom_weaving
        icon = GFX_focus_generic_industry_3
        prerequisite = { focus = RAJ_cottage_industries focus = RAJ_agricultural_cooperatives }
        x = -1
        y = 1
        relative_position_id = RAJ_cottage_industries
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_autonomy_ratio = { 
                value = 0.1 
                localization = RAJ_handloom_weaving
            }

            try_build_civ_in_core_otherwise_build_in_controlled = yes
            add_tech_bonus = {
                name = RAJ_handloom_weaving
                bonus = 0.35
                uses = 1
                category = industry # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_sikh_religious_guarantees
        icon = GFX_focus_RAJ_sikh_religious_guarantees
        prerequisite = { focus = RAJ_temple_entry_movements focus = RAJ_enrollment_of_dali_children }
        prerequisite = { focus = RAJ_indo_centric_curriculum  }
        x = -1
        y = 1
        relative_position_id = RAJ_temple_entry_movements
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}

        completion_reward = {
            add_timed_idea = {
                idea = idea_sikh_inclusivity_policies
                days = 180
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            custom_effect_tooltip = available_political_advisor
            show_ideas_tooltip = RAJ_GOE_tara_singh

            custom_effect_tooltip = generic_skip_one_line_tt

            RAJ_GOE_ishar_singh = {
                custom_effect_tooltip = unlock_general_tt
            }
            RAJ_GOE_parkash_singh = {
                custom_effect_tooltip = unlock_general_tt
            }


        }
    }

    focus = {
        id = RAJ_punjab_autonomy
        icon = GFX_focus_RAJ_punjab_autonomy
        prerequisite = { focus = RAJ_sikh_religious_guarantees }
        x = 0
        y = 1
        relative_position_id = RAJ_sikh_religious_guarantees
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {

            if = {
                limit = {
                    440 = {
                        is_controlled_by_ROOT_or_subject = yes
                    }
                }

                440 = {
                    add_extra_state_shared_building_slots = 2
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_sikh_approval
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            if = {
                limit = {
                    433 = {
                        is_controlled_by_ROOT_or_subject = yes
                    }
                }

                433 = {
                    add_extra_state_shared_building_slots = 2
                    add_dynamic_modifier = {
                        modifier = idea_RAJ_sikh_approval
                    }
                }
            }


            unlock_decision_tooltip = {
                decision = RAJ_GOE_sikh_recruitment

            }
            

        }
    }

    focus = {
        id = RAJ_national_planning_committee
        icon = GFX_focus_generic_public_works
        prerequisite = { focus = RAJ_tenancy_reforms }
        x = 0
        y = 1
        relative_position_id = RAJ_tenancy_reforms
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_national_planning_comittee
                days = 365
            }
        }
    }

    focus = {
        id = RAJ_india_united
        icon = GFX_focus_RAJ_seek_allies_with_the_muslim_league
        prerequisite = { focus = RAJ_a_congress_resurgent }
        x = 3
        y = 1
        relative_position_id = RAJ_a_congress_resurgent
        mutually_exclusive = { focus = RAJ_two_nation_theory_dlc }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
             compare_autonomy_state > autonomy_colony
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            custom_effect_tooltip = RAJ_india_united_tt
        }
    }

    focus = {
        id = RAJ_two_nation_theory_dlc
        icon = GFX_focus_RAJ_two_nation_theory
        prerequisite = { focus = RAJ_a_congress_resurgent }
        x = -6
        y = 0
        relative_position_id = RAJ_india_united
        mutually_exclusive = { focus = RAJ_india_united }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            compare_autonomy_state > autonomy_colony
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {

            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_angry
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy
                    remove_idea = RAJ_marginalized_muslim_community_angry
                }
            }
            else = {
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy
                    remove_idea = RAJ_marginalized_muslim_community
                }
            }
           # add_ideas = idea_RAJ_guided_by_britain     
        }
    }

    #NEW ID
    focus = {
        id = RAJ_the_pakistan_movement
        icon = GFX_focus_RAJ_the_pakistan_movement
        prerequisite = { focus = RAJ_two_nation_theory_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_two_nation_theory_dlc
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {

            add_timed_idea = {
                 idea = idea_RAJ_muslims_demanding_a_homeland
                 days = 270
            }

            add_timed_idea = {
                idea = idea_RAJ_growing_hindu_nationalism
                days = 270
            }



        }
    }

    focus = {
        id = RAJ_cripps_mission_dlc
        icon = GFX_goal_generic_major_alliance
        prerequisite = { focus = RAJ_tea_exports }
        x = 0
        y = 1
        relative_position_id = RAJ_tea_exports
        mutually_exclusive = { focus = RAJ_haripura_session_of_the_indian_national_congress  }
        cost = 5

        ai_will_do = {
            factor = 25
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no


        search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY }

        completion_reward = {
            add_autonomy_score = { 
                value = 100 
                localization = RAJ_cripps_mission_dlc
            }
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_very_happy
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy
                    remove_idea = RAJ_marginalized_muslim_community_very_happy
                }
            }
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_happy
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community
                    remove_idea = RAJ_marginalized_muslim_community_happy
                }
            }
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_angry
                    remove_idea = RAJ_marginalized_muslim_community
                }
            }
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_angry
                }
                add_war_support = -0.05
            }


        }
    }

    focus = {
        id = RAJ_haripura_session_of_the_indian_national_congress
        icon = GFX_goal_generic_dangerous_deal
        prerequisite = {  focus  = RAJ_local_resistance_to_land_taxes }
        x = -2
        y = 0
        relative_position_id = RAJ_cripps_mission_dlc
        mutually_exclusive = { focus = RAJ_cripps_mission_dlc }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        completion_reward = {
            add_autonomy_score = { 
                value = 50
                localization = RAJ_haripura_session_of_the_indian_national_congress
            }
        }
    }

    focus = {
        id = RAJ_power_sharing_agreement
        icon = GFX_focus_generic_treaty
        prerequisite = { focus =  RAJ_india_united }
        x = 0
        y = 1
        relative_position_id = RAJ_india_united
        
        cost = 5

        ai_will_do = {
            factor = 1 
        }

        available = {
 
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            add_timed_idea = {
                idea = idea_RAJ_power_sharing_agreement
                days = 1460
            } 
            every_controlled_state = {
                limit = {
                    is_in_array = {
                        array = RAJ.owned_states_at_game_start
                        value = THIS
                    }
                    has_resistance = yes

                }

                add_compliance = -50
                add_resistance = -30
            }
        }
    }

    focus = {
        id = RAJ_a_permanent_muslim_governmental_seat
        icon = GFX_focus_TUR_turanist_ambition
        prerequisite = { focus = RAJ_power_sharing_agreement }
        x = 2
        y = 1
        relative_position_id = RAJ_power_sharing_agreement
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        complete_tooltip = {

        }

        completion_reward = {
            if = {
                limit = {
                    has_idea = RAJ_marginalized_muslim_community_angry
                }
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy_alt
                    remove_idea = RAJ_marginalized_muslim_community_angry
                }
            }
            else = {
                swap_ideas = {
                    add_idea = RAJ_marginalized_muslim_community_happy_alt
                    remove_idea = RAJ_marginalized_muslim_community
                }
            }
        }
    }

    focus = {
        id = RAJ_cabinet_mission_plan
        icon = GFX_focus_ARG_cut_ties_with_britain
        prerequisite = { focus = RAJ_power_sharing_agreement }
        x = 0
        y = 1
        relative_position_id = RAJ_power_sharing_agreement
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            add_ideas = idea_RAJ_guided_by_britain
        }
    }



    focus = {
        id = RAJ_lahore_resolution
        icon = GFX_focus_TUR_loosen_the_laws_on_secularism
        prerequisite = { focus = RAJ_the_pakistan_movement }
        x = 0
        y = 1
        relative_position_id = RAJ_the_pakistan_movement
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_TFV_AUTONOMY}

        complete_tooltip = {

        }

        completion_reward = {
           swap_ideas = {
               remove_idea = RAJ_marginalized_muslim_community_happy
               add_idea = RAJ_marginalized_muslim_community_very_happy
           }
        }
    }

    focus = {
        id = RAJ_united_bengal
        icon = GFX_focus_RAJ_united_bengal
        prerequisite = { focus = RAJ_lahore_resolution }
        x = -1
        y = 2
        relative_position_id = RAJ_lahore_resolution 
        mutually_exclusive = { focus = RAJ_eastern_pakistan }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }
        
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_united_bengal_tt
            add_autonomy_ratio = { 
                value = 0.23
                localization = RAJ_united_bengal
            }
            add_political_power = 250
        }
    }

    focus = {
        id = RAJ_eastern_pakistan
        icon = GFX_focus_RAJ_the_pakistan_movement
        prerequisite = { focus = RAJ_lahore_resolution }
        x =2
        y = 0
        relative_position_id = RAJ_united_bengal
        mutually_exclusive = { focus = RAJ_united_bengal }

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_eastern_pakistan_tt
            add_autonomy_ratio = { 
                value = 0.5 
                localization = RAJ_eastern_pakistan
            }


        }
    }

    focus = {
        id = RAJ_inclusive_nationalism
        icon = GFX_goal_tfv_saf_anti_colonialist_crusade
        prerequisite = { focus = RAJ_cabinet_mission_plan }
        prerequisite = { focus = RAJ_a_permanent_muslim_governmental_seat }
        x = 0
        y = 1
        relative_position_id = RAJ_cabinet_mission_plan
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        complete_tooltip = {

        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.25
                uses = 2
                category = land_doctrine
                name = RAJ_inclusive_nationalism
            }

            add_ideas = idea_RAJ_inclusive_nationalism

        }
    }

    focus = {
        id = RAJ_partition_preparation
        icon = GFX_goal_generic_position_armies
        prerequisite = { focus = RAJ_united_bengal focus = RAJ_eastern_pakistan }
        x = -2
        y = 1
        relative_position_id = RAJ_eastern_pakistan
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = yes
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}
        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_partition_preparation_tt
            effect_tooltip = {
                add_timed_idea = {
                    idea = idea_RAJ_partition_chaos_less_bad
                    days = 80
                }
            }
            custom_effect_tooltip = newline_tt
            custom_effect_tooltip = RAJ_partition_preparation_tt_2
            effect_tooltip = {
                add_timed_idea = {
                    idea = idea_RAJ_partition_chaos_bad
                    days = 80
                }
            }
            add_tech_bonus = {
                name = RAJ_partition_preparation
                bonus = 1
                uses = 1
                category = military_police_tech # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_hedgemony_of_the_subcontinent
        icon = GFX_focus_spa_the_spanish_miracle
        x = 0
        y = 1
        relative_position_id = RAJ_eastern_pakistan
        prerequisite = { focus = RAJ_eastern_pakistan  focus = RAJ_united_bengal }
        cost = 10
        available = {
          custom_trigger_tooltip = {
                tooltip = RAJ_hedgemony_of_the_subcontinent_tt
                all_of_scopes = {
                    array = RAJ.owned_states_at_game_start
                    is_owned_by = ROOT 
                }
             }
        }

        ai_will_do = {
            factor = 20
        }

        bypass = {


        }

        search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_ideas = idea_RAJ_hedgemony_of_the_subcontinent
        }
    }

    focus = {
        id = RAJ_a_secular_state
        icon = GFX_focus_generic_court
        prerequisite = { focus =  RAJ_inclusive_nationalism }
        x = 0
        y = 1
        relative_position_id = RAJ_inclusive_nationalism
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_stability = -0.15
            add_political_power = 150
            set_country_flag = RAJ_allow_release_states
        }
    }


    focus = {
        id = RAJ_indian_independence_act
        icon = GFX_focus_generic_self_management
        prerequisite = { focus = RAJ_haripura_session_of_the_indian_national_congress focus = RAJ_cripps_mission_dlc }
        x = 1
        y = 1
        relative_position_id = RAJ_haripura_session_of_the_indian_national_congress
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            is_subject = no
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_independence_movement_tt
            add_to_variable = { RAJ_autonomy_gain_independence_movement = 0.05 tooltip = autonomy_gain_tt }

            if  = {
                limit = { has_idea = RAJ_princely_states }
                remove_ideas = RAJ_princely_states
            }
        }
    }

    focus = {
        id = RAJ_tryst_with_destiny
        icon = {
            value = GFX_focus_RAJ_tryst_with_destiny
        } 
        prerequisite = { focus = RAJ_united_bengal focus = RAJ_eastern_pakistan focus = RAJ_a_secular_state }
        x = 2
        y = 1
        relative_position_id = RAJ_hedgemony_of_the_subcontinent
        

        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            is_subject = no
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.15
            }

            add_ideas = idea_RAJ_tryst_with_destiny
        }
    }


#
    focus = {
        id = RAJ_pledge_for_the_allies
        icon = GFX_focus_eng_the_sun_never_sets
        prerequisite = { focus =  RAJ_tryst_with_destiny }
        x = 0
        y = 1
        relative_position_id = RAJ_tryst_with_destiny
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            any_other_country = {
                NOT = {
                    has_government = democratic
                }
            }
        }

        search_filters = {FOCUS_FILTER_POLITICAL}

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        completion_reward = {
            if = {
                limit = {
                    ENG = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                }

                ENG = {
                    country_event = { id = generic.2 hours = 2 }
                }
            }
            else_if = {
                limit = {
                    USA = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                }

                USA = {
                    country_event = { id = generic.2 hours = 2 }
                }
            }

            else_if = {
                limit = {
                    FRA = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                }

                FRA = {
                    country_event = { id = generic.2 hours = 2 }
                }
            }
            else_if = {
                limit = {
                    any_other_country = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                }
                random_other_country = {
                    limit = {
                        is_faction_leader = yes
                        has_government = democratic
                    }
                    country_event = { id = generic.2 hours = 2 }   
                }
            }
            else = {
                create_faction = "Indian-Prosperity-Sphere"
            }
            set_rule = { 
                can_create_factions  = yes #
            }
        }
    }

    focus = {
        id = RAJ_preamble_to_the_constitution_of_india
        icon = GFX_focus_generic_the_giant_wakes
        prerequisite = { focus = RAJ_pledge_for_the_allies }
        x = 0
        y = 1 
        relative_position_id = RAJ_pledge_for_the_allies
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        complete_tooltip = {

        }

        completion_reward = {
            add_stability = 0.1
            add_popularity = {
                ideology = democratic
                popularity = 0.15
            }
        }
    }

    focus = {
        id = RAJ_india_indivisible
        icon = GFX_focus_RAJ_all_india_forward_bloc
        prerequisite = { focus = RAJ_preamble_to_the_constitution_of_india }
        x = 0
        y = 1
        relative_position_id = RAJ_preamble_to_the_constitution_of_india
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_india_indivisible_tt
        }
    }

    focus = {
        id = RAJ_defend_burma
            icon = GFX_goal_generic_defence
        prerequisite = { focus = RAJ_india_indivisible }
        x = 3
        y = 1
        relative_position_id = RAJ_india_indivisible
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_province = 4245
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            build_railway = {
                level = 2
                start_province = 4245
                target_province = 1330 
            }
        }
    }

    focus = {
        id = RAJ_an_economy_unbound
        icon = GFX_focus_SWE_landsverk
        prerequisite = { focus = RAJ_india_indivisible }
        x = -3
        y = 1
        relative_position_id = RAJ_india_indivisible
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            add_timed_idea = {
                 idea = idea_RAJ_an_economy_unbound
                 days = 260
             }
        }
    }

    focus = {
        id = RAJ_suppress_paramilitary_organizations
        icon = GFX_focus_PAR_neuter_the_guion_rojo
        prerequisite = { focus = RAJ_india_indivisible }
        x = 1
        y = 1
        relative_position_id = RAJ_india_indivisible
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}

        complete_tooltip = {

        }

        completion_reward = {
            remove_ideas = { idea_RAJ_remaining_paramilitary_organizations }
        }
    }

    focus = {
        id = RAJ_a_tiger_unchained
        icon = GFX_focus_RAJ_a_tiger_unchained
        prerequisite = { focus = RAJ_india_indivisible }
        x = 2
        y = 0
        relative_position_id = RAJ_an_economy_unbound 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        complete_tooltip = {

        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.3
                uses = 2
                category = special_forces_doctrine
                name = RAJ_a_tiger_unchained
            }

            add_ideas = idea_RAJ_a_tiger_unchained
        }
    }

    focus = {
        id = RAJ_import_substitution_industrialisation
        icon = GFX_goal_generic_construction
        prerequisite = { focus = RAJ_an_economy_unbound }
        x = 0
        y = 1
        relative_position_id = RAJ_an_economy_unbound
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_fight_malnutrition
        icon = GFX_focus_generic_field_hostpital
        prerequisite = { focus = RAJ_import_substitution_industrialisation }
        x = 0
        y = 1
        relative_position_id = RAJ_import_substitution_industrialisation 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}
        search_filters = {FOCUS_FILTER_STABILITY}

        complete_tooltip = {

        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 2
                category = support_tech # optional 
                # technology  = technology_id # optional
            }

            add_tech_bonus = {
                bonus = 0.5
                uses = 1
                category = motorized_equipment # optional 
                # technology  = technology_id # optional
            }

            add_stability = 0.03
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 20 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes
        }
    }

      focus = {
        id = RAJ_mixed_economy
        icon = GFX_focus_generic_resource_extraction
        prerequisite = { focus = RAJ_import_substitution_industrialisation }
        x = 2
        y = 0
        relative_position_id = RAJ_fight_malnutrition
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_mixed_economy_tt
            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = steel amount > 6 }
                    is_controlled_by = ROOT

                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = steel amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = steel amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = steel amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = steel amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = steel amount = 3 }
                }
            }

            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = oil amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = oil amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = oil amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = oil amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = oil amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = oil amount = 3 }
                }
            }

            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = chromium amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = chromium amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = chromium amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = chromium amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = chromium amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = chromium amount = 3 }
                }
            }

            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = rubber amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = rubber amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = rubber amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = rubber amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = rubber amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = rubber amount = 3 }
                }
            }

            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = tungsten amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = tungsten amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = tungsten amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = tungsten amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = tungsten amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = tungsten amount = 3 }
                }
            }

            #
            every_owned_state = {
                limit = {
                    has_resources_amount = { resource = aluminium amount > 6 }
                    is_controlled_by = ROOT
                    ROOT = { #To fix tooltip
                        OR = {
                            has_tech = excavation1
                            has_tech = excavation2
                            has_tech = excavation3
                            has_tech = excavation4
                            has_tech = excavation5
                        }
                    }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation1 } } 

                    add_resource = { type = aluminium amount = 3 }
                }

                if = {
                    limit = { ROOT = { has_tech = excavation2 } } 
                    add_resource = { type = aluminium amount = 3 }

                }
                if = {
                    limit = { ROOT = { has_tech = excavation3 } } 

                    add_resource = { type = aluminium amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation4 } } 

                      add_resource = { type = aluminium amount = 3 }
                }
                if = {
                    limit = { ROOT = { has_tech = excavation5 } } 
                      add_resource = { type = aluminium amount = 3 }
                }
            }
        }
    }

    focus = {
        id = RAJ_land_reforms
        icon = GFX_focus_generic_land_reclamation
        prerequisite = { focus = RAJ_import_substitution_industrialisation }
        x = 2
        y = 0
        relative_position_id = RAJ_mixed_economy
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                }
                add_extra_state_shared_building_slots = 1   
            }

            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                }
                add_extra_state_shared_building_slots = 1 
            }
            random_core_state = {
                limit = {
                    is_controlled_by = ROOT
                }
                add_extra_state_shared_building_slots = 1   
            }

        }
    }

    focus = {
        id = RAJ_education_efforts
        icon = GFX_focus_research
        prerequisite = { focus = RAJ_fight_malnutrition }
        x = 0
        y = 1
        relative_position_id = RAJ_fight_malnutrition
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            add_research_slot = 1
        }
    }

    focus = {
        id = RAJ_to_shake_the_world
        icon = GFX_focus_RAJ_to_shake_the_world
        prerequisite = { focus =  RAJ_mixed_economy focus =  RAJ_land_reforms  }
        prerequisite = { focus =  RAJ_education_efforts }
        x = 0
        y = 2
        relative_position_id = RAJ_mixed_economy
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            OR = {
                surrender_progress > 0.15
                AND = {
                    has_war_support > 0.59
                    num_of_factories > 60
                }
                has_idea = tot_economic_mobilisation
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}



        completion_reward = {
           add_research_slot = 1
           try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
           try_build_civ_in_core_otherwise_build_in_controlled_2_civs = yes
           try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
           try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
        }
    }

    #############
    ##DOCTRINE###
    #############
    

    focus = {
        id = RAJ_keep_british_generals
        icon = GFX_focus_RAJ_british_investors
        x = 20
        y = 0
        mutually_exclusive = { focus = RAJ_indianize_the_army }

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            RAJ_frank_messervy = {
                add_unit_leader_trait = ambusher	
            }
        }
    }

    focus = {
        id = RAJ_defense_of_india_act
        icon = GFX_goal_panzerwaffe
        prerequisite = { focus = RAJ_indianize_the_army focus = RAJ_keep_british_generals }
        x = -2
        y = 1
        relative_position_id = RAJ_indianize_the_army
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.5

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_idea = war_economy }
                }
                add_ideas = war_economy
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            every_owned_state = {
                limit = {
                    has_resistance = yes
                }
                add_resistance = -10
            }
        }
    }

    focus = {
        id = RAJ_learn_from_the_crown
        icon = GFX_focus_chi_british_cooperation
        prerequisite = { focus = RAJ_keep_british_generals }

        x = 0
        y = 1
        relative_position_id = RAJ_keep_british_generals

        cost = 5

        available = {
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            add_doctrine_cost_reduction = {
                name = RAJ_learn_from_the_crown
                cost_reduction = 0.75
                uses = 1
                category = land_doctrine
            }
        }
    }

    focus = {
        id = RAJ_join_the_shadow_scheme
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_learn_from_the_crown }

        x = -2
        y = 1
        relative_position_id = RAJ_learn_from_the_crown

        cost = 10

        available = {
            ENG = {
                has_completed_focus = shadow_scheme_focus
            }
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_core_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
            random_core_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
            random_core_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_colonial_cadet_exchange
        icon = GFX_focus_generic_fascist_troops
        prerequisite = { focus = RAJ_learn_from_the_crown }

        x = 0
        y = 1
        relative_position_id = RAJ_learn_from_the_crown

        cost = 10

        available = {
            has_manpower > 100000
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_generals.1 days = 1}
            }
            custom_effect_tooltip = if_they_accept_tt
            effect_tooltip = {
                add_manpower = -100000
                add_timed_idea = {
                     idea = idea_RAJ_soldiers_training_in_britain
                     days = 365
                }
            }
            custom_effect_tooltip = RAJ_colonial_cadet_exchange_tt
            effect_tooltip = {
                RAJ = {
                    division_template = {
                        name = "Royal Indian Infantry"
                        is_locked = yes
                        support={
                            artillery={ x=0 y=0 }
                            recon={ x=0 y=1 }
                        }
                        regiments={
                            infantry={ x=0 y=0 }
                            infantry={ x=0 y=1 }
                            infantry={ x=0 y=2 }
                            infantry={ x=1 y=0 }
                            infantry={ x=1 y=1 }
                            infantry={ x=1 y=2 }
                            infantry={ x=2 y=0 }
                            infantry={ x=2 y=1 }
                            infantry={ x=2 y=2 }
                        }
                    }

                    random_core_state = {
                        prioritize = { 439 }
                        create_unit = {
                            division = "name = \"Royal Indian Infantry\" division_template = \"Royal Indian Infantry\" start_experience_factor = 0.8 start_equipment_factor = 1.0 start_manpower_factor = 1.0"
                            owner = RAJ
                            allow_spawning_on_enemy_provs = no 
                            count = 10
                        }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_learn_from_the_secret_intelligence_service
        icon = GFX_focus_generic_secret_service_agency
        prerequisite = { focus = RAJ_colonial_cadet_exchange }

        x = -2
        y = 1
        relative_position_id = RAJ_colonial_cadet_exchange

        cost = 5

        allow_branch = {
            has_dlc = "La Resistance"
        }

        bypass = {

        }

        available = {
            is_in_faction_with = ENG
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_intelligence_agency = yes }
                }
                create_intelligence_agency = yes
            }
            add_ideas = { idea_RAJ_help_from_the_secret_intelligence_agency }
        }
    }

    focus = {
        id = RAJ_purchase_british_supply_equipment
        icon = GFX_focus_generic_british_trade
        prerequisite = { focus = RAJ_colonial_cadet_exchange }

        x = 0
        y = 1
        relative_position_id = RAJ_colonial_cadet_exchange

        cost = 10

        available = {
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_generals.7 days = 1 }
            }
            custom_effect_tooltip = if_they_accept_tt
            effect_tooltip = {
                RAJ = {
                    add_equipment_to_stockpile = { 
                        type = motorized_equipment_1
                        amount = 1600
                        producer = ENG
                    }
                    add_equipment_to_stockpile = { 
                        type = train_equipment
                        amount = 10
                        producer = ENG
                    }
                    add_equipment_to_stockpile = { 
                        type = support_equipment
                        amount = 500
                        producer = ENG
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_forming_an_indian_doctrine
        icon = GFX_focus_RAJ_indian_gurkhas
        prerequisite = { focus = RAJ_indianize_the_army }

        x = 0
        y = 1
        relative_position_id = RAJ_indianize_the_army

        cost = 5

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            army_experience = 50
            add_war_support = 0.05
        }
    }

    focus = {
        id = RAJ_model_after_germany
        icon = GFX_focus_chi_mission_to_germany
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = -2
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_usa }
        mutually_exclusive = { focus = RAJ_model_after_soviet }

        cost = 10

        available = {
            NOT = { has_war_with = GER }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = fascism
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_ger }
        }
    }

    focus = {
        id = RAJ_model_after_usa
        icon = GFX_focus_generic_befriend_usa
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = 0
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_germany }
        mutually_exclusive = { focus = RAJ_model_after_soviet }

        cost = 10

        available = {
            NOT = { has_war_with = USA }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_usa }
        }
    }

    focus = {
        id = RAJ_model_after_soviet
        icon = GFX_focus_chi_mission_to_the_soviet_union
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = 2
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_usa }
        mutually_exclusive = { focus = RAJ_model_after_germany }
        
        cost = 10

        available = {
            NOT = { has_war_with = SOV }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_sov }
        }
    }

    focus = {
        id = RAJ_automating_the_army
        icon = GFX_goal_generic_army_tanks
        prerequisite = { focus = RAJ_model_after_usa focus = RAJ_model_after_germany }


        x = -1
        y = 2
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_for_the_people_by_the_people }

        cost = 10

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 1.0
                uses = 1
                category = cat_mechanized_equipment
            }
            add_tech_bonus = {
                bonus = 0.75
                uses = 1
                category = armor
            }
        }
    }

    focus = {
        id = RAJ_for_the_people_by_the_people
        icon = GFX_focus_ETH_freedom_at_gunpoint
        prerequisite = { focus = RAJ_model_after_usa focus = RAJ_model_after_soviet }

        x = 1
        y = 2
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_automating_the_army }

        cost = 10

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 1
                uses = 1
                category = infantry_tech
            }
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 1
                uses = 1
                category = artillery
            }
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 1
                uses = 1
                category = support_tech
            }
        }
    }

    #############
    ##RAILWAYS###
    #############
    focus = {
        id = RAJ_east_india_railways_dlc
        icon = GFX_goal_generic_construct_infrastructure
        #prerequisite = { focus =  }
        x = 6
        y = 0
        relative_position_id = RAJ_indianize_the_army
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {

            indian_railways_increase_bonus = yes

            custom_effect_tooltip = generic_skip_one_line_tt

            if = {
                limit = {
                    controls_province = 2086
                    controls_province = 4245
                }

                build_railway = {
                    level = 1
                    start_province = 2086
                    target_province = 4245
                }
            }

            if = {
                limit = {
                    controls_state = 431
                }

                431 = {
                    add_building_construction = {
                        type = supply_node
                        level = 1
                        instant_build = yes
                        province = 7593
                    }
                }
            }

            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_the_calcutta_line
        icon = GFX_goal_fortify_the_westwall
        #prerequisite = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc
        
        prerequisite = { focus =  RAJ_east_india_railways_dlc }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            431 = {
                is_fully_controlled_by = ROOT
            }
            430 = {
                is_fully_controlled_by = ROOT
            }
            432 = {
                is_fully_controlled_by = ROOT
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {

            431 = {
                custom_effect_tooltip = RAJ_the_calcutta_line_tt
                hidden_effect = {

                    if = {
                        limit = {
                            any_province_building_level = {
                                province = {
                                    id = 1159
                                    id = 4245
                                    id = 10077
                                    id = 4644
                                    id = 7593
                                    id = 7537
                                }
                                building = bunker
                                level < 10
                            }
                        }
                        add_building_construction = {
                            type = bunker
                            level = 2
                            instant_build = yes
                            province = {
                                id = 1159
                                id = 4245
                                id = 10077
                                id = 4644
                                id = 7593
                                id = 7537
                            }
                        }
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            430 = {
                custom_effect_tooltip = RAJ_the_calcutta_line_tt
                hidden_effect = {
                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9935
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 2843
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 7124
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 4162
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 11929
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9993
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9993
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 4616
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 10443
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 10389
                    }   

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 12423
                    } 
                }         
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            432 = {
                add_building_construction = {
                    type = bunker
                    level = 2
                    instant_build = yes
                    province  = 13208
                }
            }

        }
    }

    focus = {
        id = RAJ_bombay_baroda_and_central_india_railway
        icon = GFX_goal_generic_construct_infrastructure
        #prerequisite = { focus =  }
        x = 4
        y = 0
        relative_position_id = RAJ_east_india_railways_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            indian_railways_increase_bonus = yes
            if = {
                limit = {
                    429 = {
                        infrastructure < 5
                    }
                }
                429 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 1
                        instant_build = yes
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt
            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 4950
                }

                build_railway = {
                    level = 2
                    start_province = 1349
                    target_province = 4950
                }
            }

            if = {
                limit = {
                    controls_province = 4950
                    controls_province = 2086
                }

                build_railway = {
                    level = 2
                    start_province = 4950
                    target_province = 2086
                }
            }

            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 9975
                }

                build_railway = {
                    level = 1
                    start_province = 1349
                    target_province = 9975
                }
            }

            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 9975
                }

                build_railway = {
                    level = 1
                    start_province = 9975
                    target_province = 2086
                }
            }

            add_to_variable = { RAJ_railway_focuses = 1 }

        }
    }

    focus = {
        id = RAJ_great_indian_peninsula_railway_dlc
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_east_india_railways_dlc focus = RAJ_bombay_baroda_and_central_india_railway }
        x = 2
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_south_indian_railway_company
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = -2
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_supply_center_fortifications
        icon = GFX_goal_generic_fortify_city
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_supply_center_fortifications_tt
            hidden_effect = {
                every_owned_state = {
                    add_building_construction = {
                        type = bunker
                        level = 3
                        instant_build = yes
                        province = {
                            all_provinces = yes
                            limit_to_supply_node = yes
                        }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_north_western_state_railway
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = 2
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }

        }
    }

    focus = {
        id = RAJ_prioritize_army_cargo
        icon = GFX_focus_GER_kriegslokomotive
        prerequisite = { focus = RAJ_supply_center_fortifications }
        x = -2
        y = 1
        relative_position_id = RAJ_supply_center_fortifications
        mutually_exclusive = { focus = RAJ_prioritize_civilian_cargo }
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            #add_ideas = idea_RAJ_army_cargo
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }

                add_equipment_bonus = {
                    name = RAJ_prioritize_army_cargo
                    bonus = {
                        train_equipment_3 = { #Valid for BBA and not BBA
                            armor_value = 0.1 # HP = BASE_TRAIN_HP + armor_value
                            air_attack = 0.15
                            instant = yes
                        }
                    }
                }

                set_technology = {
                    armored_train = 1
                    popup = no
                }
            }
            else = {
                add_ideas = idea_RAJ_cargo_no_nsb
            }


        }
    }

    focus = {
        id = RAJ_prioritize_civilian_cargo
        icon = GFX_focus_generic_railroad
        prerequisite = { focus = RAJ_supply_center_fortifications }
        x = 4
        y = 0
        relative_position_id = RAJ_prioritize_army_cargo
        mutually_exclusive = { focus = RAJ_prioritize_army_cargo }
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 10 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes
            add_to_variable = { famine_reduction = 1 }
            add_equipment_to_stockpile = { 
                type = train_equipment_1
                amount = 15
                producer = RAJ
            }
        }
    }

    focus = {
        id = RAJ_ammunition_factory_khadki
        icon = GFX_goal_generic_construct_mil_factory
        #prerequisite = { focus =  }
        x = 7
        y = 0
        relative_position_id = RAJ_bombay_baroda_and_central_india_railway
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_core_state = {
                limit = {
                    is_owned_by = RAJ
                }
                prioritize = { 429 } #optional: to pick those states first if they fulfill the limit
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }

            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                }
            }
            else = {
                upgrade_ordance_factories_no_aat = yes
            }
        }
    }

    focus = {
        id = RAJ_royal_indian_artillery_dlc
        #icon = GFX_
        prerequisite = {  }
        x = 9
        y = 0
        relative_position_id = RAJ_ammunition_factory_khadki
        icon = GFX_focus_SWE_let_fly_all_guns
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_royal_indian_artillery_dlc
                bonus = 0.5
                uses = 2
                category = artillery # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_military_pensions
        icon = GFX_focus_SWE_defense_act
        #prerequisite = { focus = RAJ_local_recruitment_offices }
        x = 9
        y = 0
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_WAR_SUPPORT}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_timed_idea = { idea = idea_RAJ_military_pensions days = 400 }
        }
    }
    
    focus = {
        id = RAJ_local_recruitment_offices
        icon = GFX_focus_SWE_varnplikt
        #prerequisite = { focus =  }
        x = 6
        y = 0
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_raj_or_raj_inheritor = yes
        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_local_recruitment_offices_tt
            remove_agrarian_society_if_void = yes

        }
    }

    focus = {
        id = RAJ_specialized_dietary_requirement
        icon = GFX_focus_RAJ_specialized_dietery_requirements
        prerequisite = { focus = RAJ_military_pensions focus = RAJ_royal_indian_artillery_dlc  }
        x = 2
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc 
        mutually_exclusive = { focus = RAJ_standardized_rations }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_ideas = idea_RAJ_specialized_dietary_requirement
        }
    }
    

    focus = {
        id = RAJ_standardized_rations
        icon = GFX_focus_SWE_rations
        prerequisite = { focus = RAJ_military_pensions focus = RAJ_royal_indian_artillery_dlc  }
        x = 2
        y = 0
        relative_position_id = RAJ_specialized_dietary_requirement
        mutually_exclusive = { focus = RAJ_specialized_dietary_requirement }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ideas = idea_RAJ_standardized_rations
        }
    }


    focus = {
        id = RAJ_quinine
        icon = GFX_focus_RAJ_quinine
        prerequisite = { focus = RAJ_specialized_dietary_requirement focus = RAJ_standardized_rations } 
        x = 1
        y = 1
        relative_position_id = RAJ_specialized_dietary_requirement
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            set_country_flag = has_quinine
            custom_effect_tooltip = RAJ_quinine_tt
            custom_effect_tooltip = newline_tt
            unlock_decision_tooltip = {
                decision = RAJ_deploy_emergency_healthcare
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
        }
    }
    
    focus = {
        id = RAJ_armoured_corps_center_and_school
        icon = GFX_goal_generic_army_tanks
        prerequisite = { focus = RAJ_royal_indian_artillery_dlc }
        x = -3
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            random_army_leader = {
                limit = {
                    NOT = { has_trait = panzer_leader }
                }
                add_trait = {
                    trait = panzer_leader
                }
            }
            add_tech_bonus = {
                name = RAJ_armoured_corps_center_and_school
                bonus = 0.3
                uses = 2
                category = armor # optional 
                # technology  = technology_id # optional
            }
        }
    }
    

    focus = {
        id = RAJ_legacy_of_military_service
        #icon = GFX_
        prerequisite = { focus = RAJ_local_recruitment_offices }
        x = 0
        y = 1
        relative_position_id = RAJ_local_recruitment_offices
        icon = GFX_focus_generic_commonwealth_build_infantry
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MANPOWER }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
        }
    }
    

    focus = {
        id = RAJ_indian_states_force
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_military_pensions }
        x = 0
        y = 2
        relative_position_id = RAJ_military_pensions
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            every_controlled_state = {
                random_select_amount = 2
                limit = {
                    is_in_array = {
                        array = ROOT.owned_states_at_game_start
                        value = THIS
                    }

                    has_resistance = yes
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    


    focus = {
        id = RAJ_womens_auxiliary_corps
        icon = GFX_focus_SWE_lottakoren
        prerequisite = { focus = RAJ_military_pensions }
        x = 1
        y = 1
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            add_ideas = idea_RAJ_womens_auxiliary_corps
        }
    }

    focus = {
        id = RAJ_indian_army_corps_of_engineers
        icon = GFX_focus_SOV_organize_wreckers
        prerequisite = { focus = RAJ_legacy_of_military_service focus = RAJ_military_pensions }
        x = -4
        y = 1
        relative_position_id = RAJ_legacy_of_military_service
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            every_army_leader = {
                random_select_amount = 2
                add_trait = {
                    trait = trait_engineer
                }
                add_logistics = 2
            }

            add_tech_bonus = {
                name = RAJ_indian_army_corps_of_engineers
                bonus = 1
                uses = 1
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
        }
    }
    

    focus = {
        id = RAJ_relax_agrarian_society_criteria
        icon = GFX_focus_secret_rearmament
        prerequisite = { focus = RAJ_legacy_of_military_service}
        x = -1
        y = 1
        relative_position_id = RAJ_legacy_of_military_service 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_stability > 0.69
        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}

        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
                        
        }
    }
    

    focus = {
        id = RAJ_mechanization_of_the_cavalry
        icon = GFX_focus_generic_mechanized
        prerequisite = { focus = RAJ_armoured_corps_center_and_school }
        x = 0
        y = 1
        relative_position_id = RAJ_armoured_corps_center_and_school 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_mechanization_of_the_cavalry
                bonus = 1
                uses = 1
                category = cat_mechanized_equipment # optional 
                # technology  = technology_id # optional
            }
            army_experience = 20
        }
    }
    

    focus = {
        id = RAJ_mountain_tanks
        icon = GFX_focus_generic_army_tanks2
        prerequisite = { focus = RAJ_mechanization_of_the_cavalry }
        x = 0
        y = 1
        relative_position_id = RAJ_mechanization_of_the_cavalry
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {

            custom_effect_tooltip = mountain_tanks_tt
           # hidden_effect = {
                set_technology = {
                    mountain_tanks = 1
                    popup = yes
                }
           # }
        }
    }
    

    focus = {
        id = RAJ_siege_batteries
        icon = GFX_focus_generic_railway_gun
        prerequisite = { focus = RAJ_indian_army_corps_of_engineers }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_army_corps_of_engineers
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }
                #Required techs for railway guns
                if = {
                    limit = {
                        NOT = { has_tech = armored_train }
                    }
                    set_technology = { armored_train = 1 }
                }
                if = {
                    limit = {
                        NOT = { has_tech = railway_gun }
                    }
                    set_technology = { railway_gun = 1 }
                }

                create_railway_gun = {
                    equipment = railway_gun_equipment_1
                    name = "BL 9.2-inch Railway Gun"
                }
            }
            else = {
                add_ideas = idea_RAJ_siege_batteries
            }

            random_army_leader = {
                limit = {
                    NOT = { has_trait = fortress_buster }
                }
                add_trait = {
                    trait = fortress_buster
                }
            }
        }
    }
    

    focus = {
        id = RAJ_mountain_guns
        icon = GFX_focus_RAJ_mountain_guns
        prerequisite = { focus = RAJ_royal_indian_artillery_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            custom_effect_tooltip = mountain_guns_tt
            hidden_effect = {
                set_technology = {
                    mountain_gun = 1
                    popup = no
                }
            }

        }
    }
    

    focus = {
        id = RAJ_frontier_corps
        icon = GFX_focus_generic_military_academy
        prerequisite = { focus = RAJ_military_pensions }
        x = -2
        y = 1
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = logistics_tech # optional 
                ahead_reduction = 2
                # technology  = technology_id # optional
            }
            add_doctrine_cost_reduction = {
                cost_reduction = 0.25
                uses = 1
                category = special_forces_doctrine
            }
        }
    }
    

    focus = {
        id = RAJ_regimental_loyalty
        icon = GFX_goal_generic_axis_build_infantry
        prerequisite = { focus = RAJ_legacy_of_military_service }
        x = 2
        y = 0
        relative_position_id = RAJ_relax_agrarian_society_criteria
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.55
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}

        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
        }
    }
    
    focus = {
        id = RAJ_the_burma_rifles
        icon = GFX_goal_generic_army_doctrines
        prerequisite = { focus = RAJ_frontier_corps }
        x = 0
        y = 1
        relative_position_id = RAJ_frontier_corps
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_doctrine_cost_reduction = {
                name = RAJ_the_burma_rifles
                cost_reduction = 0.35
                uses = 1
                category = land_doctrine
            }

            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = infantry_weapons # optional 
                # technology  = technology_id # optional
                name = RAJ_the_burma_rifles
            }
        }
    }

    focus = {
        id = RAJ_gurkhas
        icon = GFX_focus_RAJ_indian_gurkhas
        prerequisite = { focus = RAJ_the_burma_rifles  }
        x = 0
        y = 2
        relative_position_id = RAJ_the_burma_rifles
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        } 

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_doctrine_cost_reduction = {
                name = RAJ_gurkhas
                cost_reduction = 0.35
                uses = 3
                category = special_forces_doctrine
            }
            division_template = {
                name = "Gurkha Rifles"
                is_locked = no
                #division_names_group = NAMELIST_ID # optional
                priority = 2 # optional 
                #template_counter = <INT> # optional
                regiments = {
                    infantry = { x = 0 y = 0 }
                    infantry = { x = 0 y = 1 }
                    infantry = { x = 0 y = 2 }
                    infantry = { x = 0 y = 3 }
                    infantry = { x = 1 y = 0 }
                    infantry = { x = 1 y = 1 }
                    infantry = { x = 1 y = 2 }
                    infantry = { x = 1 y = 3 }
                    artillery_brigade = { x = 2 y = 0 }
                    
                }
                support = {
                    artillery = { x = 0 y = 0 }
                    engineer = { x = 0 y = 1 }
                    anti_air = { x = 0 y = 2 }
                }
            }

            random_owned_controlled_state = {

                prioritize = { 439 } #optional: to pick those states first if they fulfill the limit
                if = {
                    limit = {
                       ROOT = { is_subject_of = ENG } 
                    }


                    create_unit = {
                        division = "name = \"1st King George V's Own Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }

                    create_unit = {
                        division = "name = \"6th Queen Elizabeth's Own Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }
                }
                else = {
                    create_unit = {
                        division = "name = \"The Sirmoor Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }

                    create_unit = {
                        division = "name = \"Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }
                }
                
            }



        }
    }



    focus = {
        id = RAJ_lions_of_the_great_war_dlc
        icon = GFX_focus_RAJ_lions_of_the_great_war
        prerequisite = { focus = RAJ_gurkhas }
        x = 0
        y = 1
        relative_position_id = RAJ_gurkhas

        cost = 10

        ai_will_do = {
            factor = 25
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_XP }
        completion_reward = {
            add_ideas = idea_RAJ_lions_of_the_great_war
            army_experience = 30
            custom_effect_tooltip = RAJ_create_unit_sikh_tt
            hidden_effect = {

                division_template = {
                name = "Sikh Regiment" #sikh regiment, bro
                division_names_group = RAJ_INF_01
                regiments = {
                        infantry = { x = 0 y = 0 }
                        infantry = { x = 0 y = 1 }
                        infantry = { x = 0 y = 2 }
        
                        infantry = { x = 1 y = 0 }
                        infantry = { x = 1 y = 1 }
                        infantry = { x = 1 y = 2 }

                        infantry = { x = 2 y = 0 }
                        infantry = { x = 2 y = 1 }
                        infantry = { x = 2 y = 2 }
                            }
                        }
        
                    random_owned_controlled_state = {
                            prioritize = { 439 }
                            create_unit = { 
                                division = "name = \"1. Sikh Regiment\" division_template = \"Sikh Regiment\" start_experience_factor = 0.5" 
                                owner = RAJ
                                }
        
                    }
                }

        }
    }
    

    focus = {
        id = RAJ_abolish_agrarian_society_criteria
        icon = GFX_focus_generic_manpower
        prerequisite = { focus = RAJ_relax_agrarian_society_criteria  focus = RAJ_regimental_loyalty }
        x = -1
        y = 1
        relative_position_id = RAJ_regimental_loyalty
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.68
            OR = {
                has_war_with_major = yes
                surrender_progress > 0.2
            }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_abolish_agrarian_society_criteria_tt
            subtract_from_variable = { RAJ_recruitment_offices_timeout_max = 3 }
            remove_agrarian_society_if_void = yes
        }
    }

    

    focus = {
        id = RAJ_indian_territorial_force
        icon = GFX_goal_generic_more_territorial_claims
        prerequisite = { focus = RAJ_frontier_corps }
        x = -2
        y = 1
        relative_position_id = RAJ_frontier_corps
        

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no


        search_filters = { FOCUS_FILTER_MANPOWER }
        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.35
                uses = 1
                category = land_doctrine
            }

           custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.03 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.09 tooltip = mobilization_laws_cost_factor_tt }
        }
    }
    

    focus = {
        id = RAJ_military_engineer_services
        icon = GFX_goal_fortify_the_westwall
        prerequisite = { focus = RAJ_indian_army_corps_of_engineers }
        x = 2
        y = 1
        relative_position_id = RAJ_indian_army_corps_of_engineers
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                uses = 1
                ahead_reduction = 2
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_help_from_the_nagas
        icon = GFX_goal_generic_military_deal
        prerequisite = { focus = RAJ_indian_territorial_force  }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_territorial_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_help_from_the_nagas
                ahead_reduction = 1
                uses = 1
                category = recon_tech # optional 
            }
            hidden_effect = {
                set_technology = {
                    tech_recon_focus_bonus = 1
                    popup = no
                }
            }
            custom_effect_tooltip = tech_recon_focus_bonus_tt

        }
    }
    

    focus = {
        id = RAJ_re_establish_the_khyber_rifles
        icon = GFX_focus_ETH_freedom_at_gunpoint
        prerequisite = { focus = RAJ_indian_territorial_force focus = RAJ_mountain_guns }
        x = -4
        y = 1
        relative_position_id = RAJ_indian_territorial_force
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            random_army_leader = {
                limit = {
                    NOT = { has_trait = hill_fighter }   
                }

                add_trait = {
                    trait = hill_fighter
                }
            }

            random_army_leader = {
                limit = {
                    NOT = { has_trait = trait_mountaineer }   
                }

                add_trait = {
                    trait = trait_mountaineer
                }
            }

        }
    }
    

    focus = {
        id = RAJ_campaign_against_agrarian_societys
        icon = GFX_goal_generic_small_arms
        prerequisite = { focus = RAJ_abolish_agrarian_society_criteria }
        x = 0
        y = 1
        relative_position_id = RAJ_abolish_agrarian_society_criteria
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        search_filters = { FOCUS_FILTER_MANPOWER }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            unlock_decision_tooltip = {
                decision = RAJ_GOE_campaign_against_agrarian_societys
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
            remove_agrarian_society_if_void = yes
        }
    }
    
    focus = {
        id = RAJ_tata_steel_dlc
        icon = GFX_goal_generic_construct_civilian
        prerequisite = { focus = RAJ_bombay_baroda_and_central_india_railway }
        x = 0
        y = 1
        relative_position_id = RAJ_bombay_baroda_and_central_india_railway
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_state = 429
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            429 = {
                add_resource = {
                    type = steel
                    amount = 24
                }
            }
        }
    }

    focus = {
        id = RAJ_chindits_dlc
        icon = GFX_goal_generic_special_forces
        prerequisite = { focus = RAJ_re_establish_the_khyber_rifles }
        x = 0
        y = 1
        relative_position_id = RAJ_re_establish_the_khyber_rifles 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            if = {
                limit = {   #prevent ai from stealing orde from ETH if player
                    is_ai = yes
                }
                OR = {
                    any_other_country = {
                        has_character = RAJ_orde_wingate 
                        is_ai = yes 
                    }

                    any_other_country = {
                        NOT = { has_character = RAJ_orde_wingate  }
                    }
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {

            create_orde_wingate = yes
            if = {
                limit = {
                    RAJ_orde_wingate = {
                        has_character_flag = is_in_ethiopia
                    }
                    OR = {
                        ETH = { is_ai = yes }
                        AND = {
                            ETH = { is_ai = no }
                            RAJ = { is_ai = no }
                        }
                    }
                }

                RAJ_orde_wingate = {
                    hidden_effect = {
                        if = {
                            limit = {
                                has_character_flag = is_in_ethiopia
                                NOT = { ROOT = { has_war_with = ENG } }
                            } 
                            clr_character_flag = is_in_ethiopia
                        }
                        set_character_flag = is_in_raj
                    }
                    set_nationality = RAJ
                }
            }

            add_ideas = idea_RAJ_chindits
        }
    }
    

    focus = {
        id = RAJ_viceroys_body_guard
        icon = GFX_goal_generic_cavalry
        prerequisite = { focus = RAJ_indian_states_force }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_states_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_tech = tech_military_police }
                }
                set_technology = {
                    tech_military_police = 1
                    popup = yes
                }
            }

            add_tech_bonus = {
                name = RAJ_viceroys_body_guard
                bonus = 1
                uses = 1
                category = military_police_tech # optional 
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    is_subject = yes
                }
                division_template = {
                    name = "Viceroys Body Guard"
                    is_locked = no
                    #division_names_group = NAMELIST_ID # optional
                    priority = 2 # optional 
                    #template_counter = <INT> # optional
                    regiments = {
                        cavalry = { x = 0 y = 0 }
                        cavalry = { x = 0 y = 1 }
                        cavalry = { x = 0 y = 2 }
                        cavalry = { x = 0 y = 3 }
                        cavalry = { x = 1 y = 0 }
                        cavalry = { x = 1 y = 1 }
                        cavalry = { x = 1 y = 2 }
                        cavalry = { x = 1 y = 3 }
                        cavalry = { x = 2 y = 0 }
                        cavalry = { x = 2 y = 1 }
                        cavalry = { x = 2 y = 2 }
                        cavalry = { x = 2 y = 3 }
                    }
                    support = {
                        military_police = { x = 0 y  = 0 }
                    }
                }
                random_owned_controlled_state = {
                    prioritize = { 438 } #optional: to pick those states first if they fulfill the limit
                    create_unit = {
                        division = "name = \"Viceroys Body Guard\" division_template = \"Viceroys Body Guard\" start_experience_factor = 0.7 start_equipment_factor = 1 start_manpower_factor = 1"
                        owner = RAJ
                    }
                }
            }
            else = {
                division_template = {
                    name = "Presidents Bodyguard"
                    is_locked = no
                    #division_names_group = NAMELIST_ID # optional
                    priority = 2 # optional 
                    #template_counter = <INT> # optional
                    regiments = {
                        cavalry = { x = 0 y = 0 }
                        cavalry = { x = 0 y = 1 }
                        cavalry = { x = 0 y = 2 }
                        cavalry = { x = 0 y = 3 }
                        cavalry = { x = 1 y = 0 }
                        cavalry = { x = 1 y = 1 }
                        cavalry = { x = 1 y = 2 }
                        cavalry = { x = 1 y = 3 }
                        cavalry = { x = 2 y = 0 }
                        cavalry = { x = 2 y = 1 }
                        cavalry = { x = 2 y = 2 }
                        cavalry = { x = 2 y = 3 }
                    }
                    support = {
                        military_police = { x = 0 y  = 0 }
                    }
                }
                random_owned_controlled_state = {
                    prioritize = {  438 } #optional: to pick those states first if they fulfill the limit
                    create_unit = {
                        division = "name = \"Presidents Bodyguard\" division_template = \"Presidents Bodyguard\" start_experience_factor = 0.7 start_equipment_factor = 1 start_manpower_factor = 1"
                        owner = RAJ
                    }
                }
            }


        }
    }
    

    focus = {
        id = RAJ_engineering_revolution
        icon = GFX_focus_SWE_landsverk
        prerequisite = { focus = RAJ_mechanization_of_the_cavalry focus = RAJ_ordnance_factory_khamaria_jabalpur }
        x = -2
        y = 1
        relative_position_id = RAJ_mechanization_of_the_cavalry
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_engineering_revolution
                bonus = 1
                uses = 1
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
           try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
        }
    }
    

    focus = {
        id = RAJ_gun_and_shell_factory_cossipore
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_ammunition_factory_khadki }
        x = 2
        y = 1
        relative_position_id = RAJ_ammunition_factory_khadki
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_gun_and_shell_facatory_cassiopore
                    }
                }
            }
            else = {
                upgrade_ordance_factories_art_no_aat = yes
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    
    focus = {
        id = RAJ_rifle_factory_ishapore_west_bengal
        icon = GFX_goal_generic_small_arms
        prerequisite = { focus = RAJ_ammunition_factory_khadki }
        x = -2
        y = 1
        relative_position_id = RAJ_ammunition_factory_khadki
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                mio:RAJ_ammunition_factory_khadki_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_rifle_factory_ishapore
                    }
                }
            }
            else = {
                upgrade_ordance_factories_no_aat = yes
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
            
        }
    }

    focus = {
        id = RAJ_ordnance_factory_kanpur_uttar_pradesh
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_rifle_factory_ishapore_west_bengal }
        x = 0
        y = 1
        relative_position_id = RAJ_rifle_factory_ishapore_west_bengal   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_kanpur_uttar_pradesh_inf
                    }
                }

                mio:RAJ_ordnance_factory_kanpur_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_kanpur_uttar_pradesh_art
                    }
                }
            }
            else = {
                upgrade_ordance_factories_no_aat = yes
                upgrade_ordance_factories_art_no_aat = yes
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_ordnance_factory_medak
        icon = GFX_focus_CHL_domestic_production_of_the_willys_mb
        prerequisite = { focus = RAJ_rifle_factory_ishapore_west_bengal }
        x = -2
        y = 1
        relative_position_id = RAJ_rifle_factory_ishapore_west_bengal   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ordnance_factory_medak_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_apc_research_effort
                    }
                }
            }
            else = {
                add_tech_bonus = {
                    name = RAJ_ordnance_factory_medak
                    bonus = 0.75
                    uses = 1
                    category = cat_mechanized_equipment # optional 
                    # technology  = technology_id # optional
                }

            }
            try_build_mil_in_core_otherwise_build_in_controlled = yes

        }
    }





    focus = {
        id = RAJ_chariot_of_victory
        icon = GFX_focus_generic_mechanized
        prerequisite = { focus = RAJ_ordnance_factory_medak focus = RAJ_ordnance_factory_kanpur_uttar_pradesh }
        x = 1
        y = 1
        relative_position_id = RAJ_ordnance_factory_medak   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 1
                category = cat_mechanized_equipment # optional 
                name = RAJ_chariot_of_victory
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ordnance_factory_medak_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_chariot_of_victory
                    }
                }
            }
            else = {
                if = {
                    limit = {
                        has_idea = idea_medak
                    }
                    swap_ideas = {
                        remove_idea = idea_medak
                        add_idea = idea_medak_1
                    }
                }
                else = {
                    effect_tooltip = {
                        swap_ideas = {
                            remove_idea = idea_medak
                            add_idea = idea_medak_1
                        }
                    }
                }
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_cordite_factory_aruvankadu_tamil_nadu
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_gun_and_shell_factory_cossipore }
        x = -1
        y = 1
        relative_position_id = RAJ_gun_and_shell_factory_cossipore
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                mio:RAJ_ordnance_factory_kanpur_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_cordite_factory_aruvankadu_tamil_nadu
                        show_modifiers = yes
                    }
                }
            }
            else = {
                upgrade_ordance_factories_art_no_aat = yes
            }

             try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }

    

    focus = {
        id = RAJ_ordnance_factory_khamaria_jabalpur
        icon = GFX_focus_CHL_high_quality_nitrate
        prerequisite = { focus = RAJ_gun_and_shell_factory_cossipore }
        x = 1
        y = 1
        relative_position_id = RAJ_gun_and_shell_factory_cossipore
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
					add_mio_funds = 1000
					add_mio_funds_gain_factor = 0.10
					add_mio_research_bonus = 0.05
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_khamaria_jabalpur
                    }
                }
            }
            else = {
                upgrade_ordance_factories_no_aat = yes
            }

             
             try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_the_ordnance_factories_board
        icon = GFX_focus_eng_concessions_to_the_trade_unions
        prerequisite = { focus = RAJ_cordite_factory_aruvankadu_tamil_nadu focus = RAJ_ordnance_factory_kanpur_uttar_pradesh }
        x = -2
        y = 1
        relative_position_id = RAJ_cordite_factory_aruvankadu_tamil_nadu
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

            if = {
                limit = {
                    NOT = { has_dlc = "Arms Against Tyranny" }
                }
                has_completed_focus = RAJ_rifle_factory_ishapore_west_bengal
                has_completed_focus = RAJ_gun_and_shell_factory_cossipore
            }

            if = {
                limit = {
                     has_dlc = "Arms Against Tyranny"
                }
                OR = {
                    mio:RAJ_ammunition_factory_khadki_organization = { has_mio_size > 7  }                   
                    mio:RAJ_ordnance_factory_kanpur_organization  = { has_mio_size > 7  } 
                    mio:RAJ_ordnance_factory_medak_organization  = { has_mio_size > 7  }  
                }
            }
            
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            #if = {
            #    limit = {
            #        has_dlc = "Arms Against Tyranny"
            #    }

            #    unlock_mio_policy_tooltip = {
            #        policy = mio_policy_RAJ_general_ordnance_factory_board
            #    }
            #}
            #else = {
            #    try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            #}

            try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_smiling_buddah
        icon = GFX_focus_smiling_buddha
        prerequisite = { focus = RAJ_abolish_agrarian_society_criteria }
        x = 2
        y = 1
        relative_position_id = RAJ_abolish_agrarian_society_criteria
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    NOT = {
                        has_tech = atomic_research
                    }
                }
                add_tech_bonus = {
                    name = RAJ_the_smiling_buddha
                    bonus = 3.0
                    uses = 1
                    category = nuclear
                }
                add_breakthrough_progress = {
                    specialization = specialization_nuclear
                    value = 0.5
                }
            }
            else = {
                add_breakthrough_progress = {
                    specialization = specialization_nuclear
                    value = 1
                }
            }

        }
    }

}       
