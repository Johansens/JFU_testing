# For minor countries where advisors are not defined
# Generate them from a generic template

# Political advisors
every_possible_country = {
	limit = {
		NOT = { OR = { tag = GER tag = ENG tag = SOV original_tag = FRA tag = ITA tag = JAP tag = USA tag = AST tag = RAJ tag = CAN tag = SAF tag = CZE tag = ROM tag = CHI tag = MAN tag = MEX tag = HOL original_tag = SPR original_tag = POL } }
		# avoid generic advisors in temporary countries
		is_dynamic_country = no
		NOT = {
			has_allowed_idea_with_traits = { idea = communist_revolutionary characters = yes }
		}
		if = {
			limit = { has_dlc = "Battle for the Bosporus" }
			NOT = {  tag = GRE }
		}
		if = {
			limit = { has_dlc = "By Blood Alone" }
			NOT = { OR = { tag = ETH  } }
		}
	}
}

every_possible_country = {
	limit = {
		NOT = { OR = { tag = GER tag = ENG tag = SOV original_tag = FRA tag = ITA tag = JAP tag = USA tag = AST tag = RAJ tag = CAN tag = SAF tag = CZE tag = CHI tag = MAN tag = MEX tag = HOL original_tag = SPR original_tag = POL } }
		is_dynamic_country = no
		NOT = {
			has_allowed_idea_with_traits = { idea = democratic_reformer characters = yes }
		}
		if = {
			limit = { has_dlc = "Battle for the Bosporus" }
			NOT = {  tag = GRE }
		}
		if = {
			limit = { has_dlc = "By Blood Alone" }
			NOT = { OR = { tag = ETH  } }
		}
	}
	generate_character = {
		token_base = generic_democratic_reformer # token will be TAG_token_base
		advisor = {
			slot = political_advisor
			traits = { democratic_reformer }
			available = {
				if = {
					limit = { 
						original_tag = NZL
						has_dlc = "Together for Victory"
					}
					OR = {
						has_completed_focus = NZL_strengthen_the_commonwealth
					}
				}
			}
			ai_will_do = {
				factor = 0
			}
		}
		portraits = { 
			army = { small = GFX_idea_generic_democratic_reformer }
		}
	}
}

every_possible_country = {
	limit = {
		NOT = { OR = { tag = GER tag = ENG tag = SOV original_tag = FRA tag = ITA tag = JAP tag = USA tag = AST tag = RAJ tag = CAN tag = SAF tag = ROM tag = CZE tag = CHI tag = MAN tag = MEX tag = HOL original_tag = SPR original_tag = POL } }
		is_dynamic_country = no
		NOT = {
			has_allowed_idea_with_traits = { idea = fascist_demagogue characters = yes }
		}
		if = {
			limit = { has_dlc = "Battle for the Bosporus" }
			NOT = {  tag = GRE }
		}
		if = {
			limit = { has_dlc = "By Blood Alone" }
			NOT = { OR = { tag = ETH  } }
		}
	}
}

every_possible_country = {
	limit = {
		has_dlc = "La Resistance"
		# china gets a special one via focus
		NOT = { original_tag = CHI }
		if = {
			limit = {
				has_dlc = "Battle for the Bosporus"
			}
			NOT = {
				tag = GRE
			}
		}
		if = {
			limit = { has_dlc = "By Blood Alone" }
			NOT = { OR = { tag = ETH  } }
		}
		NOT = {
			has_allowed_idea_with_traits = { idea = head_of_intelligence characters = yes }
		}
		is_dynamic_country = no
	}
	generate_character = {
		token_base = generic_head_of_intelligence # token will be TAG_token_base
		advisor = {
			slot = political_advisor
			traits = { head_of_intelligence }
			available = {
				has_intelligence_agency = yes
			}
			ai_will_do = {
				factor = 1
				modifier = {
					has_intelligence_agency = no
					factor = 0
				}
			}
		}
		portraits = { 
			army = { small = GFX_idea_generic_head_of_intelligence }
		}
	}
}

every_possible_country = {
	limit = {
		original_tag = MAN
	}
	generate_character = {
		token_base = generic_captain_of_industry # token will be TAG_token_base
		advisor = {
			slot = political_advisor
			traits = { captain_of_industry }
		}
		portraits = { 
			army = { small = GFX_idea_generic_captain_of_industry }
		}
	}
	generate_character = {
		token_base = generic_fortification_engineer # token will be TAG_token_base
		advisor = {
			slot = political_advisor
			traits = { fortification_engineer }
		}
		portraits = { 
			army = { small = GFX_idea_generic_fortification_engineer }
		}
	}
	generate_character = {
		token_base = generic_war_industrialist # token will be TAG_token_base
		advisor = {
			slot = political_advisor
			traits = { war_industrialist }
		}
		portraits = { 
			army = { small = GFX_idea_generic_war_industrialist }
		}
	}
	generate_character = { #Apparently MAN needs this to get an Illusive Gentleman with the new character sytem
		token_base = generic_head_of_intelligence # token will be TAG_token_base
		advisor = {
			slot = political_advisor
			traits = { head_of_intelligence }
			available = {
				has_intelligence_agency = yes
			}
			ai_will_do = {
				factor = 1
				modifier = {
					has_intelligence_agency = no
					factor = 0
				}
			}
		}
		portraits = { 
			army = { small = GFX_idea_generic_head_of_intelligence }
		}
	}
}