add_namespace = nsb_news

# The Death of Stalin
news_event = {
	id = nsb_news.11
	title = nsb_news.11.t
	desc = nsb_news.11.desc
	picture = GFX_news_event_generic_funeral
	
	is_triggered_only = yes
	
	option = {
		name = nsb_news.11.a
		trigger = { 
			NOT = { has_country_leader_ideology = stalinism } 
		}
	}
	option = {
		name = nsb_news.11.b
		trigger = { has_country_leader_ideology = stalinism }
	}

}
# Beriya Coup
news_event = {
	id = nsb_news.12
	title = nsb_news.12.t
	desc = nsb_news.12.desc
	picture = GFX_news_event_soviet_tanks
	
	is_triggered_only = yes
	
	option = {
		name = nsb_news.12.a
		trigger = { 
			NOT = { has_country_leader_ideology = stalinism } 
		}
	}
	option = {
		name = nsb_news.12.b
		trigger = { has_country_leader_ideology = stalinism }
	}

}
# Trotsky Assassination (raid on his villa)
news_event = {
	id = nsb_news.100
	title = news.37.t
	desc = nsb_news.100.desc
	picture = GFX_news_event_024
	
	major = yes
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					tag = SOV
				}
				SOV_kill_trotsky_effect = yes
			}
		}
	}
	
	option = {
		name = news.37.a
		trigger = { 
			NOT = { 
				TAG = SOV 
				is_in_faction_with = SOV
				tag = MEX
			} 
		}
	}

	option = {
		name = news.37.a
		trigger = {
			tag = MEX
			NOT = { is_in_faction_with = SOV }
		}

		effect_tooltip = {
			retire_character = MEX_leon_trotsky
		}
	}

	option = {
		name = news.37.b
		trigger = { TAG = SOV }

		if = {
			limit = {
				has_idea = trotskyite_plot_nsb
			}
			swap_ideas = {
				remove_idea = trotskyite_plot_nsb
				add_idea = trotskyite_plot_purged
			}
		}
	}

	option = {
		name = news.37.c
		trigger = { 
			is_in_faction_with = SOV
			NOT = {
				tag = SOV
			} 
		}
	}
}

# Successful Defensive Pact with Allies -> SOV-FRA (default) + maybe POL
news_event = {
	id = nsb_news.102
	title = nsb_news.102.t
	desc = {
		text = nsb_news.102.desc_default
		trigger = {
			NOT = { has_global_flag = SOV_collective_security_pact_poland_inlcuded_flag }
		}
	}
	desc = {
		text = nsb_news.102.desc_poland
		trigger = {
			has_global_flag = SOV_collective_security_pact_poland_inlcuded_flag
		}
	}
	picture = "[GetSovietPactImage]"
	
	major = yes
	
	is_triggered_only = yes
	
	option = { #Other people around
		name = nsb_news.102.a

		trigger = {
			NOT = {
				tag = SOV
				tag = event_target:SOV_collective_security_pact_integrant
				AND = {
					tag = POL
					has_global_flag = SOV_collective_security_pact_poland_inlcuded_flag
				}
			}
		}
	}

	option = { #Integrants of the pact
		name = nsb_news.102.b

		trigger = {
			OR = {
				tag = SOV
				tag = event_target:SOV_collective_security_pact_integrant
				AND = {
					tag = POL
					has_global_flag = SOV_collective_security_pact_poland_inlcuded_flag
				}
			}
		}

		hidden_effect = { #Clean things up thank you
			if = {
				limit = {
					tag = SOV
					has_global_flag = SOV_collective_security_pact_poland_inlcuded_flag
				}
				clr_global_flag = SOV_collective_security_pact_poland_inlcuded_flag
			}
			clear_global_event_target = SOV_collective_security_pact_integrant
		}
	}
}

# Successful Soviet-German Trade Agreement
news_event = {
	id = nsb_news.103
	title = nsb_news.103.t
	desc = nsb_news.103.desc
	picture = GFX_news_event_aid_pact
	
	major = yes
	
	is_triggered_only = yes
	
	option = { #SOV || GER
		name = nsb_news.103.a

		trigger = {
			OR = {
				tag = SOV
				tag = GER
			}
		}
	}

	option = { #Others
		name = nsb_news.103.b

		trigger = {
			NOT = {
				tag = SOV
				tag = GER
			}
		}
	}
}