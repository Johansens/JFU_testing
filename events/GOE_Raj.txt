###########################
# RAJ GOE events Events
###########################

add_namespace = GOE_RAJ
add_namespace = GOE_RAJ_partition
add_namespace = GOE_RAJ_famine
add_namespace = GOE_RAJ_eic
add_namespace = GOE_RAJ_princely
add_namespace = GOE_RAJ_navy
add_namespace = GOE_RAJ_goa
add_namespace = GOE_RAJ_generals
add_namespace = GOE_RAJ_mughals_peace_deal

##DESC
#country_event = {
#	id = GOE_RAJ.X
#	title = GOE_RAJ.X.t	
#	desc = GOE_RAJ.X.desc	
#	picture = GFX_report_event_generic_sign_treaty2
#	
#	is_triggered_only = yes
#
#
#	option = { 
#		name = GOE_RAJ.X.a
#		ai_chance = {
#			base = Y
#		}
#	}
#	option = { 
#		name = GOE_RAJ.X.b
#		ai_chance = {
#			base = Y
#		}
#	}
#}

#Bose Freed from prison
country_event = {
	id = GOE_RAJ.26
	title = GOE_RAJ.26.t	
	desc = GOE_RAJ.26.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = GOE_RAJ.26.a
		if = {
			limit = { has_dlc = "Graveyard of Empires" }
			RAJ_subhas_chanda_bose = {
				swap_country_leader_traits = {
					remove = in_prison 
					add = nationalistic_freedom_fighter
				}
			}
		}

	 }
}

#RAJ wants to white peace
country_event = {
	id = GOE_RAJ.27
	title = GOE_RAJ.27.t	
	desc = GOE_RAJ.27.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 0
	 		modifier = {
	 			any_state = {
	 				is_core_of = RAJ
	 				is_fully_controlled_by = ROOT	
	 			}

	 			add = 1
	 		}
		}
		name = GOE_RAJ.27.a #no
		FROM = { country_event = { id = GOE_RAJ.28 hours = 2 } }
	 }

	 option = {
	 	ai_chance = {
	 		base = 1
	 	}
	 	name = GOE_RAJ.27.b #yes
	 	white_peace = {
	 		tag = RAJ
	 	}
	 }
}


#RAJ wants to white peace
country_event = {
	id = GOE_RAJ.28
	title = GOE_RAJ.28.t	
	desc = GOE_RAJ.28.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = GOE_RAJ.28.a #no
	 }
}



#Retire Freeman-Freeman
country_event = {
	id = GOE_RAJ.29
	title = GOE_RAJ.29.t	
	desc = GOE_RAJ.29.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = GOE_RAJ.29.a #no
		ai_chance = {
			base = 3
		}
		retire_country_leader = yes
		add_country_leader_role = {
			character =  RAJ_lord_linlithgow # optional if inside character scope
			promote_leader = yes
			country_leader={
				ideology=centrism
				expire="1965.1.1.1"
				id=-1
				traits = {
					aloof_authority
				}
			}
		}	
	}

	#Keep Freeman-Freeman
	option = {
		name = GOE_RAJ.29.b
		ai_chance = {
			base = 0
			modifier = {
				is_historical_focus_on = no
				add = 1
			}

		}
	}
}

#UK independence
country_event = {
	id = GOE_RAJ.30
	title = GOE_RAJ.30.t	
	desc = GOE_RAJ.30.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = GOE_RAJ.30.a 
		ai_chance = {
			base = 1
		}
		add_ideas = idea_RAJ_the_long_goodbye
		effect_tooltip = {
			if = {
				limit = {
					NOT = {
						has_autonomy_state = autonomy_dominion
					}
				}
				set_autonomy = {
					target=RAJ
					autonomy_state = autonomy_dominion
					freedom_level = 0 # 0-1 
					end_wars  = no # default yes. will not cancel non civil wars if set to no
					end_civil_wars = no # default yes. will not cancel civil wars if set to no
				}
			}
		}
	}

	#Keep current leader, for some reason
	option = {
		name = GOE_RAJ.30.b
		ai_chance = {
			base = 0


		}
	}
}


#UK independence
country_event = {
	id = GOE_RAJ.31
	title = GOE_RAJ.31.t	
	desc = GOE_RAJ.31.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = GOE_RAJ.31.a
		ai_chance = {
			base = 1
		}
		add_timed_idea = {
			idea = idea_RAJ_sold_parts_of_india_to_private_investors
			days = 365
		}
		custom_effect_tooltip =  GOE_RAJ.31.a_tt
	}

	option = {
		name = GOE_RAJ.31.b
		trigger = {
			is_ai = no
			FROM = { is_ai = yes }
		}

		ai_chance = {
			base = 0
		}

		add_timed_idea = {
			idea = idea_RAJ_great_depression_1
			days = 365
		}

		if = {
			limit = {
				FROM = { has_completed_focus = RAJ_great_depression_price_controls }
			}
			FROM = {	
				uncomplete_national_focus = {
					focus = RAJ_great_depression_price_controls
					uncomplete_children = yes
					refund_political_power = yes
				}
			}
		}

		FROM = { set_country_flag = ENG_rejected_eic } #activate the other AI strat


		if = {
			limit = {
				FROM = { has_idea = idea_RAJ_price_controls }
			}
			remove_ideas = {
				idea_RAJ_price_controls
			}
		} 

		if = {
			limit = {
				FROM = { has_idea = idea_RAJ_price_controls_2 }
			}
			remove_ideas = {
				idea_RAJ_price_controls_2
			}
		} 


	}
}

#UK - Mughal uprising
country_event = {
	id = GOE_RAJ.33
	title = GOE_RAJ.33.t	
	desc = GOE_RAJ.33.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes
	option = {
		name = GOE_RAJ.33.a
		ai_chance = {
			base = 1
		}
		custom_effect_tooltip = 6_month_timer_mughal_tt
		trigger = {
			NOT = {
				TAG = RAJ
			}
		}
	}
	option = {
		name = GOE_RAJ.33.c
		ai_chance = {
			base = 1
		}
		custom_effect_tooltip = GOE_RAJ_33_c_tt
		trigger = {
			TAG = RAJ
		}
	}
}

#UK 
country_event = {
	id = GOE_RAJ.34
	title = GOE_RAJ.34.t	
	desc = GOE_RAJ.34.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = GOE_RAJ.32.a
		ai_chance = {
			base = 1
		}

		#hidden_effect = {
		#	every_state = {
		#		limit = {
		#			is_in_array = {
		#				array = RAJ.owned_states_at_game_start
		#				value = THIS
		#			}
		#			is_controlled_by = RAJ
		#		}
#
		#		#set_state_flag = RAJ_mughals_has_taken_this
		#	}
		#}
		#RAJ = {
		#	white_peace = {
		#		tag = ENG
		#	}
#
		#}
#
		#every_other_country = {
		#	limit = {
		#		is_in_faction_with = ENG
		#		has_war_with = RAJ
		#	}
#
		#	RAJ = {
		#		white_peace = {
		#			tag = ENG
		#		}
		#	}
		#}

		#hidden_effect = {
		#	every_state = {
		#		limit = {
		#			has_state_flag = RAJ_mughals_has_taken_this
		#		}
#
		#		RAJ = { transfer_state = PREV }
		#	}
		#}

	}
}


#Reset resesalbles can join facrtion after X time from 13_on_action
country_event = {
	id = GOE_RAJ.35
	is_triggered_only = yes
	hidden = yes
	immediate = {
		set_rule = { 
			 can_join_factions = yes 
		}
	}

}
##########
#Partition
##########


country_event = {
	id = GOE_RAJ_partition.1
	title = GOE_RAJ_partition.1.t	
	desc = GOE_RAJ_partition.1.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	hidden = yes

	is_triggered_only = yes


	immediate = {
		if = {
			limit = {
				NOT = {
					has_country_flag = stop_unrest_events
				}
			}

			random_scope_in_array = {
				array = RAJ.owned_states_at_game_start 
				limit = { 
					is_controlled_by = ROOT 
					has_resistance = yes
				}

				set_variable = { RAJ.unrest_target_state = THIS }
				random_list = {
					log = yes 
					seed = random
					10 = {
						ROOT = { country_event = { id = GOE_RAJ_partition.2 hours = 2  } } #Add resistance
						modifier = {
							var:RAJ.unrest_target_state = { resistance > 97  }
							factor = 0
						}
					}

					3 = {
						ROOT = { country_event = { id = GOE_RAJ_partition.3 hours = 2  } }
						modifier = {
							var:RAJ.unrest_target_state = {
								industrial_complex < 1
								arms_factory < 1
								dockyard < 1
								infrastructure < 2 

							}
							factor = 0.5
						}

						modifier = {
							var:RAJ.unrest_target_state = { resistance > 40 }
							add = 3
						}

						modifier = {
							var:RAJ.unrest_target_state = { resistance > 60 }
							add = 10
						}
					}
					10 = {
						ROOT = { country_event = { id = GOE_RAJ_partition.4 hours = 2 } }
					}
				}
			}



			country_event = {
				id = GOE_RAJ_partition.1
				days = 180 # optional - can take hours/days/months
				random_days = 20 # optional - can take hours/days/months
			}



		}
	}
}

country_event = {
	id = GOE_RAJ_partition.2
	title = GOE_RAJ_partition.2.t	
	desc = GOE_RAJ_partition.2.desc	
	picture = GFX_report_event_generic_sign_treaty2
	


	is_triggered_only = yes

	option = {
		name =  GOE_RAJ_partition.2.a
		if = {
			limit = {
				is_ai = yes	
			}
			var:RAJ.unrest_target_state = { 
				add_resistance = 15 
				custom_effect_tooltip = currentStateResistance
			}

		}
		else = {
			var:RAJ.unrest_target_state = { 
				add_resistance = 65 
				custom_effect_tooltip = currentStateResistance
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				var:RAJ.unrest_target_state = { 
					resistance < 25 
				}
				add = 1
			}
		}
		clear_variable = RAJ.unrest_target_state
		hidden_effect = {
			check_painful_memory = yes
		}
		custom_effect_tooltip = GOE_RAJ_partition_become_free_to_stop_the_chaos_tt
	}

	option = {
		name =  GOE_RAJ_partition.2.b
		ai_chance = {
			base = 1
			modifier = {
				var:RAJ.unrest_target_state = { 
					resistance > 39 
				}
				factor = 100
			}
		}
		trigger = { 
			OR = {
				var:RAJ.unrest_target_state = { 
					compliance > 24 
				}

				var:RAJ.unrest_target_state = { 
					resistance > 24 
				}
			}
		}

		if = {
			limit = {
				is_ai = yes	
			}
			var:RAJ.unrest_target_state = { 
				add_resistance = 5 
				custom_effect_tooltip = currentStateResistance
				custom_effect_tooltip = newline_tt
				add_compliance = -10
				custom_effect_tooltip = currentStateCompliance
			}

		}
		else = {
			var:RAJ.unrest_target_state = { 
				add_resistance = 20 
				custom_effect_tooltip = currentStateResistance
				custom_effect_tooltip = newline_tt
				add_compliance = -35
				custom_effect_tooltip = currentStateCompliance
			}
		}
		clear_variable = RAJ.unrest_target_state
		hidden_effect = {
			check_painful_memory = yes
		}
		custom_effect_tooltip = GOE_RAJ_partition_become_free_to_stop_the_chaos_tt
		
	}
}


#riots 
country_event = {
	id = GOE_RAJ_partition.3
	title = GOE_RAJ_partition.3.t	
	desc = GOE_RAJ_partition.3.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes

	option = {
		name =  GOE_RAJ_partition.3.a
		var:RAJ.unrest_target_state = {
			if = {
				limit = {
					industrial_complex > 0
				}
				damage_building = {
					type = industrial_complex 
					damage = 3 # levels of damage 
				}
			}

			if = {
				limit = {
					arms_factory > 0
				}
				damage_building = {
					type = arms_factory 
					damage = 3 # levels of damage 
				}
			}

			if = {
				limit = {
					dockyard > 0
				}
				damage_building = {
					type = dockyard 
					damage = 3 # levels of damage 
				}
			}


			if = {
				limit = {
					infrastructure > 0
				}
				damage_building = {
					type = infrastructure 
					damage = 3 # levels of damage 
				}
			}
		}
		clear_variable = RAJ.unrest_target_state
		hidden_effect = {
			check_painful_memory = yes
		}
		custom_effect_tooltip = GOE_RAJ_partition_become_free_to_stop_the_chaos_tt
	}
}

country_event = {
	id = GOE_RAJ_partition.4
	title = GOE_RAJ_partition.4.t	
	desc = GOE_RAJ_partition.4.desc	
	picture = GFX_report_event_generic_sign_treaty2
	



	is_triggered_only = yes

	option = {
		name =  GOE_RAJ_partition.4.a
		add_stability = -0.045
		clear_variable = RAJ.unrest_target_state
		hidden_effect = {
			check_painful_memory = yes
		}
		custom_effect_tooltip = GOE_RAJ_partition_become_free_to_stop_the_chaos_tt
	}

	option = {
		name =  GOE_RAJ_partition.4.b
		add_stability = -0.02
		add_political_power = -35
		clear_variable = RAJ.unrest_target_state
		hidden_effect = {
			check_painful_memory = yes
		}

		custom_effect_tooltip = GOE_RAJ_partition_become_free_to_stop_the_chaos_tt
	}

	option = {
		name =  GOE_RAJ_partition.4.c
		if = {
			limit = {
				is_ai = yes
			}
			var:RAJ.unrest_target_state = {
				add_resistance = 5
				custom_effect_tooltip = currentStateResistance
				custom_effect_tooltip = newline_tt
				add_compliance = -5
				custom_effect_tooltip = currentStateCompliance
			}
		}
		else = {

			var:RAJ.unrest_target_state = {
				add_resistance = 25
				custom_effect_tooltip = currentStateResistance
				custom_effect_tooltip = newline_tt
				add_compliance = -25
				custom_effect_tooltip = currentStateCompliance
			}
		}


		trigger = {
			var:RAJ.unrest_target_state = {
				compliance > 20
				resistance < 80
			}
		}
		clear_variable = RAJ.unrest_target_state

		hidden_effect = {
			check_painful_memory = yes
		}
		custom_effect_tooltip = GOE_RAJ_partition_become_free_to_stop_the_chaos_tt

	}
}

#Clashes between Muslims and Hindus
country_event = {
	id = GOE_RAJ_partition.5
	title = GOE_RAJ_partition.5.t	
	desc = GOE_RAJ_partition.5.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = { #do nothing
		name =  GOE_RAJ_partition.5.a
		every_controlled_state = {
			limit = {
				is_in_array = {
					array = RAJ.owned_states_at_game_start
					value = THIS
				}

				has_resistance = yes
			}

			add_compliance = -5
			add_resistance = 5
			
		}
	}

	option = { #intervene
		name =  GOE_RAJ_partition.5.b
		add_political_power = -40
	}
	
}


#India becomes free - RAJ

country_event = {
	id = GOE_RAJ_partition.6
	title = GOE_RAJ_partition.6.t	
	desc = GOE_RAJ_partition.6.desc	
	picture = GFX_report_event_generic_sign_treaty2
	

	immediate = {

		drop_cosmetic_tag = yes
		hidden_effect = {
			set_politics = {
				ruling_party = democratic
				elections_allowed = yes
				last_election = "1939.1.1"
				election_frequency = 48
			}
			set_rule = { can_declare_war_on_same_ideology = yes }
			set_rule = {  can_only_justify_war_on_threat_country = no }
			set_rule = { can_join_factions = no }
		}
		set_country_flag = stop_unrest_events
		if = {
			limit = {
				ROOT = { is_subject_of = ENG }
				NOT = { has_global_flag = RAJ_GOE_partition_has_happened }
			}
			ENG = { set_autonomy = { target = RAJ autonomy_state = autonomy_free } }
		}

		if = {
			limit = {
				is_in_faction_with = ENG
			}
			leave_faction = yes
		}

		if = {
			limit = {
				has_war = yes
				is_in_faction = no
			}
			set_major = yes
		}

		RAJ = {  
			set_variable = { pressure_left = 8 } 
			set_variable = { default_pressure = pressure_left }
		}


		set_variable = { no_independence = 100 }
	}

	is_triggered_only = yes

	option = {
		trigger = {
			NOT = { has_completed_focus = RAJ_india_united }
		}
		name =  GOE_RAJ_partition.6.a
		RAJ = {
			add_ideas = idea_RAJ_remaining_paramilitary_organizations
		}



		country_event = {
			id = GOE_RAJ_partition.7
			hours = 4
		}

		custom_effect_tooltip = idea_RAJ_princely_state_aggression_tt
		hidden_effect = {
			add_timed_idea = {
				idea = idea_RAJ_princely_state_aggression #Update idea_RAJ_princely_state_aggression_tt if channging!
				days = 180
			}
		}

		if = {
			limit = {
				has_completed_focus = RAJ_partition_preparation
			}
			add_timed_idea = {
				idea = idea_RAJ_partition_chaos_less_bad
				days = 80
			}
		}
		else = {
			add_timed_idea = {
				idea = idea_RAJ_partition_chaos_bad
				days = 80
			}
		}

		if = {
			limit = {
				has_dlc = "Graveyard of Empires"
				ROOT = {
					original_tag = RAJ
					NOT = {
						has_completed_focus = RAJ_a_secular_state
					}
				}
			}
		}
	}

	option = {
		trigger = {
			 has_completed_focus = RAJ_india_united
		}
		name =  GOE_RAJ_partition.6.a
		RAJ = {
			add_ideas = idea_RAJ_remaining_paramilitary_organizations
		}
		add_timed_idea = {
			idea = idea_RAJ_partition_india_united
			days = 1080
		}
		country_event = {
			id = GOE_RAJ_partition.7
			hours = 4
		}
	}
}


#Leadership event
	country_event = {
	id = GOE_RAJ_partition.7
	title = GOE_RAJ_partition.7.t	
	desc = GOE_RAJ_partition.7.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = { #Nehru
		name = GOE_RAJ_partition.7.a
		if = {
			limit = {
				NOT = {
					has_country_leader = {
						ruling_only = yes
						character = RAJ_GOE_jawaharlal_nehru 
					}
				}
			}

			retire_country_leader = yes
			add_country_leader_role = {
				character =  RAJ_GOE_jawaharlal_nehru 
				promote_leader = yes
				country_leader={
					ideology=liberalism
					expire="1965.1.1.1"
					traits = { socialist_modernizer top_down_heavy_policies }
				}
			
			}
		}
		else = {
			add_country_leader_trait = socialist_modernizer
			add_country_leader_trait = top_down_heavy_policies
		}

		ai_chance = {
			base = 10
		}
	}

	#Gandhi
	option = {
		name =  GOE_RAJ_partition.7.b
		if = {
			limit = {
				has_completed_focus = RAJ_viceroys_body_guard
				divisions_in_state = {
					state = 439
					size > 0 # use < or >
					unit = cavalry # optional. specific unit eg. mountaineers, light_tank
				}
			}
			country_event = {	#Gandhi survives
				id = GOE_RAJ_partition.8
				days = 10
				random_days = 5
			}
		}

		if = {
			limit = {
				NOT = {
					has_country_leader = {
						ruling_only = yes
						character = RAJ_mahatma_mohandas_gandhi # recommended
					}
				}
			}

			retire_country_leader = yes
			add_country_leader_role = {
				character =  RAJ_mahatma_mohandas_gandhi # optional if inside character scope
				promote_leader = yes
				country_leader={
					ideology=liberalism
					expire="1965.1.1.1"
					traits = { spiritual_leader skeptical_towards_industrialization }
				}
			
			}
		}
		else = {
			add_country_leader_trait = spiritual_leader
			add_country_leader_trait = skeptical_towards_industrialization
		}

		ai_chance = {
			base = 0
			modifier = {
				is_historical_focus_on = no
				add = 10
			}
		}

	}

	#Jinnah
	option = { 
		name = GOE_RAJ_partition.7.c
		trigger = {
			has_completed_focus = RAJ_a_secular_state	
		}


		if = {
			limit = {
				NOT = {
					has_country_leader = {
						ruling_only = yes
						character = RAJ_GOE_muhammad_ali_jinnah 
					}
				}
			}

			retire_country_leader = yes
			add_country_leader_role = {
				character =  RAJ_GOE_muhammad_ali_jinnah 
				promote_leader = yes
				country_leader={
					ideology=liberalism
					expire="1965.1.1.1"
					traits = { all_india_muslim_league_leader minority_leader }
				}
			
			}
		}
		else = {
			add_country_leader_trait = all_india_muslim_league_leader
			add_country_leader_trait = minority_leader
		}

		ai_chance = {
			base = 0
			modifier = {
				is_historical_focus_on = no
				add = 3
			}
		}
	}

	option = {
		name = GOE_RAJ_partition.7.d
		trigger = {
			NOT = {
				has_war_with = ENG
			}
		}


		if = {
			limit = {
				NOT = {
					has_country_leader = {
						ruling_only = yes
						character = RAJ_louis_mountbatten 
					}
				}
			}

			retire_country_leader = yes
			add_country_leader_role = {
				character =  RAJ_louis_mountbatten 
				promote_leader = yes
				country_leader={
					ideology=liberalism
					expire="1965.1.1.1"
					traits = { the_last_viceroy }
				}
			
			}
		}
		else = {
			add_country_leader_trait = the_last_viceroy
		}

		ai_chance = {
			base = 0
			modifier = {
				is_historical_focus_on = no
				add = 3
			}
		}
	}
}

#Gandhi survives assasination attempt
country_event = {
	id = GOE_RAJ_partition.8
	title = GOE_RAJ_partition.8.t	
	desc = GOE_RAJ_partition.8.desc	
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_country_flag = gandhi_survives_assasination_attempt
			mark_focus_tree_layout_dirty = yes
		}
	}

	option = {
		name = GOE_RAJ_partition.8.a
	}
}

#Gandthi dies
country_event = {
	id = GOE_RAJ_partition.9
	title = GOE_RAJ_partition.9.t	
	desc = GOE_RAJ_partition.9.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	fire_only_once = yes
	trigger = {
		date > 1948.1.29
		has_global_flag = RAJ_GOE_partition_has_happened
		NOT = { has_country_flag = gandhi_survives_assasination_attempt }
	}

	option = {
		name = GOE_RAJ_partition.9.a
		if = {
			limit ={
				has_country_leader = {
					ruling_only = yes
					character = RAJ_mahatma_mohandas_gandhi # recommended
				}
			}

			kill_country_leader = yes
			add_country_leader_role = {
				character =  RAJ_GOE_jawaharlal_nehru # optional if inside character scope
				promote_leader = yes
				country_leader={
					ideology=liberalism
					expire="1965.1.1.1"
					id=-1
					traits = {}
				} 
			}
		}
	}
}

#War on the Indian subcontinent
country_event = {
	id = GOE_RAJ_partition.10
	title = GOE_RAJ_partition.10.t	
	desc = GOE_RAJ_partition.10.desc	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	option = {
		name = GOE_RAJ_partition.10.a

		ai_chance = {
			base = 0.5
		}
	}
	option = {
		name = GOE_RAJ_partition.10.b
		declare_war_on = {
			target = RAJ
			type = independence_wargoal 
		}

		ai_chance = {
			base = 1
			modifier = {
				RAJ = {
					is_ai = no
				}

				add = 10
			}
		}
	}
}


##########
# FAMINE #
##########

#Brown spot disease
country_event = {
	id = GOE_RAJ_famine.1
	title = GOE_RAJ_famine.1.t	
	desc = GOE_RAJ_famine.1.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	immediate = {
		hidden_effect = {
			country_event = { id =  GOE_RAJ_famine.2 days = 20 random_days = 55 }
		}
	}

	trigger = {
		always = no
		has_dlc = "Graveyard of Empires"
		has_idea = RAJ_risk_of_famine
		original_tag = RAJ
		OR = {
			OR = {
				any_of_scopes = {
					array =  RAJ.owned_states_at_game_start 
					controller = {
						has_war_with = RAJ
						NOT = { original_tag = RAJ }
					}
					NOT = { has_state_flag = RAJ_time_to_retake_state_famine }
				}
			

				#BRM = {
				#	any_core_state = {
				#		controller = {
				#			has_war_with = RAJ
				#			NOT = { original_tag = BRM }
				#		}

				#		NOT = { has_state_flag = RAJ_time_to_retake_state_famine }
				#	}
				#}
			}
		}


	}

	fire_only_once = yes

	mean_time_to_happen = {
	    months = 1
	    days = 10
	}
	option = {
		name = GOE_RAJ_famine.1.a
		add_stability = -0.01
		
	}
}

#Cyclone strikes
country_event = {
	id = GOE_RAJ_famine.2
	title = GOE_RAJ_famine.2.t	
	desc = GOE_RAJ_famine.2.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			country_event = { id =  GOE_RAJ_famine.3 days = 1 random_days = 55 }
		}
	}

	option = {
		name = GOE_RAJ_famine.2.a
		var:global.famine_state = {
			damage_building = {
				type = industrial_complex 
				damage = 2 # levels of damage 
			}

			damage_building = {
				type = infrastructure 
				damage = 2 # levels of damage 
			}
		}
	}
}

#Unreliable forecasts
country_event = {
	id = GOE_RAJ_famine.3
	title = GOE_RAJ_famine.3.t	
	desc = GOE_RAJ_famine.3.desc	
	picture = GFX_report_event_generic_sign_treaty2
	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = GOE_RAJ_famine.4 days = 1 random_days = 55 }
		}
	}


	option = {
		name = GOE_RAJ_famine.3.a
		add_stability = -0.02
		
	}
}

#Provincial Trade Barriers
country_event = {
	id = GOE_RAJ_famine.4
	title = GOE_RAJ_famine.4.t	
	desc = GOE_RAJ_famine.4.desc	
	picture = GFX_report_event_generic_sign_treaty2
    fire_only_once = yes
	immediate = {
		hidden_effect = {
			country_event = { id =  GOE_RAJ_famine.5 days = 1 random_days = 55 }
		}
	}
	
	is_triggered_only = yes


	option = {
		name = GOE_RAJ_famine.4.a
		add_stability = -0.02
		
	}
}

# Price Chaos in [?global.famine_state.GetName]
country_event = {
	id = GOE_RAJ_famine.5
	title = GOE_RAJ_famine.5.t	
	desc = GOE_RAJ_famine.5.desc	
	picture = GFX_report_event_generic_sign_treaty2
	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id =  GOE_RAJ_famine.6 days = 20 random_days = 55 }
		}
	}
	option = {
		name = GOE_RAJ_famine.5.a
		add_war_support = -0.02
		
	}
}


#"Prioritized Distribution in [?global.famine_state.GetName]"
country_event = {
	id = GOE_RAJ_famine.6
	title = GOE_RAJ_famine.6.t	
	desc = GOE_RAJ_famine.6.desc	
	picture = GFX_report_event_generic_sign_treaty2
	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id =  GOE_RAJ_famine.7 days = 20 random_days = 55 }
		}
	}

	option = {
		name = GOE_RAJ_famine.6.a
		if = {
			limit = {
				var:global.famine_state = {
					has_resistance = yes
				}
			}

			if = {
				limit = {
					is_ai = yes
				}
				var:global.famine_state = { add_resistance = 5 }
			}
			else = {
				var:global.famine_state = { add_resistance = 30 }
			}
			
		}
		
	}
}


#Famine starts 
country_event = {
	id = GOE_RAJ_famine.7
	title = GOE_RAJ_famine.7.t	
	desc = GOE_RAJ_famine.7.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	#fire_only_once = yes
	immediate = {
		set_country_flag = RAJ_famine_has_started
		set_variable = { RAJ_famine_political_power_factor = -0.15 }
		set_variable = { RAJ_famine_stability_factor = -0.15 }
		if = { 
			limit = { NOT = { has_country_flag  = RAJ_famine_has_started } }
			set_country_flag = RAJ_famine_has_started #for easier debugging
		}

		#Amount of times famine can spread
		set_variable_to_random = { 
			var = RAJ_famine_spread_times 
			min = RAJ_famine_spread_times_min # optional 
			max = RAJ_famine_spread_times_max # optional 
			integer = yes
		} 
	}
	option = {

		name = GOE_RAJ_famine.7.a
		unlock_decision_category_tooltip = RAJ_GOE_famine_cat
		if = { #If by some chance the state is lost pre famine or cheesed away, take another one 
			limit = {
				var:global.famine_state = {
					NOT = { is_controlled_by = ROOT }
				}
			}

			random_scope_in_array = {
				array = RAJ.owned_states_at_game_start
				limit = { 
					is_controlled_by = ROOT 
					is_core_of = ROOT
				}
				set_variable = { global.famine_state = THIS }
			}
			
		}


		var:global.famine_state = {
			add_dynamic_modifier = {
				modifier = idea_RAJ_famine_state
			}

			if = {
				limit = { is_core_of = ROOT }

				set_state_flag = pre_famine_core
				remove_core_of = ROOT
				
				if = {
					limit = { has_resistance = no }
					start_resistance = yes
					force_enable_resistance = { 
						clear = no
						occupier = ROOT
						occupied = DIP
					}
				}
				
			}
			add_core_of = DIP
		}

		hidden_effect = {
			calculate_famine_shield_and_risk = yes
			calculate_famine_black_market = yes
		}
		subtract_from_variable = { RAJ_famine_spread_times = 1 }
		ROOT= { add_dynamic_modifier = { modifier = idea_RAJ_famine_country } }
		hidden_effect =  { country_event = { id =  GOE_RAJ_famine.8 days = 30 random_days = 2 } }
		custom_effect_tooltip = GOE_RAJ_famine.7.tt
		
	}
}

#Famine selector 
country_event = {
	id = GOE_RAJ_famine.8
	title = GOE_RAJ_famine.8.t	
	desc = GOE_RAJ_famine.8.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	hidden = yes
	is_triggered_only = yes
	#fire_only_once = yes

	immediate = {
		if = {
			limit = { 
				has_dynamic_modifier = {
				 	modifier = idea_RAJ_famine_country
				 }
				 NOT = { has_country_flag = famine_is_over }
			}
			calculate_famine_shield_and_risk = yes
			random_list = {
				log = no 
				seed = random 

				var:RAJ_famine_shield = {
					#othing happens, preventative measures stopped famine from spreading, reduces the time famine is active
					subtract_from_variable = { RAJ_famine_spread_times = 3 }
					add_to_variable = { RAJ_famine_reduction_from_shield = 3 } #these needs to be the same
					add_to_variable = { RAJ_times_shield_has_blocked_spread = 1 }

					subtract_from_variable = { RAJ_famine_spread_times_max = 3 }
					subtract_from_variable = { RAJ_famine_spread_times_min = 3 }
					

				}
				
				var:RAJ_famine_spreads = {


					subtract_from_variable = { RAJ_famine_spread_times = 1 }
					subtract_from_variable = { RAJ_famine_spread_times_max = 1 }
					subtract_from_variable = { RAJ_famine_spread_times_min = 1 }


					random_state = {
						limit = {
							has_dynamic_modifier = { modifier = idea_RAJ_famine_state }
							 any_neighbor_state = {
							 	NOT = {  has_dynamic_modifier = { modifier = idea_RAJ_famine_state } }
							 }
						}
						random_neighbor_state = {
							limit = {
							 	NOT = {  
			 						has_dynamic_modifier = { modifier = idea_RAJ_famine_state }
							 	}
							}
							if = {
								limit = { is_in_array = { RAJ.owned_states_at_game_start = THIS } }
								add_dynamic_modifier = { modifier = idea_RAJ_famine_state }

								ROOT = {  
									add_to_variable = { RAJ_famine_political_power_factor = -0.1 }
									add_to_variable = { RAJ_famine_stability_factor = -0.1 }
								}

								if = {
									limit = {
										is_core_of = ROOT
									}

									set_state_flag = pre_famine_core
									remove_core_of = ROOT
								}
								add_core_of = DIP
								if = {
									limit = {
										has_resistance = no
									}
									start_resistance = yes
									force_enable_resistance = {
										occupier = ROOT
										occupied = DIP
									}
								}
							}

						}
					}

				}
			}
			calculate_famine_black_market = yes
			if = {
				limit = {
					check_variable = { RAJ_famine_spread_times > 0 }
				}

				hidden_effect =  { country_event = { id =  GOE_RAJ_famine.8 days = 30 random_days = 2 } }
			}
			else = { #end of famine
				every_state = {
					
					if = {
						limit = { has_dynamic_modifier = { modifier = idea_RAJ_famine_state } }
						remove_dynamic_modifier = { modifier = idea_RAJ_famine_state }
					}

				}

				remove_dynamic_modifier = { modifier = idea_RAJ_famine_country }
				country_event = { id = GOE_RAJ_famine.13 hours = 1 }
			}
			
		}
	}
}

#RAJ Asks for Aid
country_event = {
	id = GOE_RAJ_famine.9
	title = GOE_RAJ_famine.9.t	
	desc = GOE_RAJ_famine.9.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	#fire_only_once = yes

	#no
	option = {
		name = GOE_RAJ_famine.9.a
		FROM = {
			country_event = { id = GOE_RAJ_famine.10 days = 5 random_days = 4 }

			add_opinion_modifier = {
				target = PREV
				modifier = RAJ_did_not_help_famine
			}
			if = {
				limit = { 
					FROM = { 
						is_subject = yes
						is_subject_of = ROOT 
					} 
				}
				effect_tooltip = { 
					FROM = { 
						add_autonomy_ratio = {  #UPDATE GOE_RAJ_famine.10 if changing
						 	value = 0.1 
						 } 
					} 
				}
			}
		}

		ai_chance = {
			base = 1
			modifier = {
				has_country_leader = {
					character = ENG_winston_churchill 
				}

				factor = 6
			}
		}
	}

	#yes
	option = {
		name = GOE_RAJ_famine.9.b
		add_political_power = 150
		add_equipment_to_stockpile = { 
			type = convoy_1
			amount = -75
			producer = ROOT
		}



		add_timed_idea = {
			idea = idea_RAJ_famine_assistance_to_raj
			days = 365
		}

		FROM = {
			country_event = { id = GOE_RAJ_famine.11 days = 5 random_days = 4 }
			add_opinion_modifier = {
				target = PREV
				modifier = RAJ_did_help_famine
			}
		}



		ai_chance = {
			base = 2
			modifier = {
				OR = {
					original_tag = AUS
					original_tag = IRQ
					is_in_faction_with = FROM
				}
				factor = 3
			}
		}
	}

	#yes but less
	option = {
		name = GOE_RAJ_famine.9.c
		add_political_power = 50
		add_equipment_to_stockpile = { 
			type = convoy_1
			amount = -25
			producer = ROOT
		}

		add_timed_idea = {
			idea = idea_RAJ_famine_assistance_to_raj
			days = 90
		}

		FROM = {
			country_event = { id = GOE_RAJ_famine.12 days = 5 random_days = 4 }
			add_opinion_modifier = {
				target = PREV
				modifier = RAJ_did_help_famine
			}
		}


		ai_chance = {
			base = 3
			modifier = {
				is_in_faction_with = FROM
				original_tag = CAN
				factor = 3
			}
		}
	}

	#yes
}

#FROM refuses
country_event = {
	id = GOE_RAJ_famine.10
	title = GOE_RAJ_famine.10.t	
	desc = GOE_RAJ_famine.10.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	option = {
		name = GOE_RAJ_famine.10.a
		if = {
			limit = {
				is_subject = yes
				is_subject_of = FROM
			}
			FROM = {  #update GOE_RAJ_famine.9 if changing
				add_autonomy_ratio = { 
				 	value = 0.1 
				 } 
			} 
		}

	}
}

#FROM delivers big aid
country_event = {
	id = GOE_RAJ_famine.11
	title = GOE_RAJ_famine.11.t	
	desc = GOE_RAJ_famine.11.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	option = {
		name = GOE_RAJ_famine.11.a
		add_to_variable = { RAJ_famine_shield = 4 tooltip = RAJ_famine_shield_tt  }
		hidden_effect = { calculate_famine_shield_and_risk = yes }

	}
}

#FROM delivers small aid
country_event = {
	id = GOE_RAJ_famine.12
	title = GOE_RAJ_famine.12.t	
	desc = GOE_RAJ_famine.12.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	option = {
		name = GOE_RAJ_famine.12.a
		add_to_variable = { RAJ_famine_shield = 2 tooltip = RAJ_famine_shield_tt  }
		hidden_effect = { calculate_famine_shield_and_risk = yes }

	}
}

##End of Famine
country_event = {
	id = GOE_RAJ_famine.13
	title = GOE_RAJ_famine.13.t	
	desc = GOE_RAJ_famine.13.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	immediate = {
		set_country_flag = famine_is_over
	}

	is_triggered_only = yes
	option = {
		name = GOE_RAJ_famine.13.a
		add_stability = 0.1
		every_state = {
			limit = {
				has_state_flag = pre_famine_core
			}
			add_core_of = ROOT
			
			if = {
				limit = {
					is_core_of = DIP
				}
				remove_core_of = DIP
			}
			
		}
	}
}


#taxes
country_event = {
	id = GOE_RAJ_eic.1
	is_triggered_only = yes
	hidden = yes
	immediate = {
		calc_expected_consumer_goods_for_taxes = yes
		country_event = {
			id = GOE_RAJ_eic.1
			days = 12 # optional - can take hours/days/months
		}
	}
}

#pick leader trait
country_event = {
	id = GOE_RAJ_eic.2
	title = GOE_RAJ_eic.2.t	
	desc = GOE_RAJ_eic.2.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes

	option = {
		name = GOE_RAJ_eic.2.a
		add_country_leader_trait = flexible_industrialist
	}

	option = {
		name = GOE_RAJ_eic.2.b
		add_country_leader_trait = frugal_pennypincher
	}

	option = {
		name = GOE_RAJ_eic.2.c
		add_country_leader_trait = the_government_connection
	}

	option = {
		name = GOE_RAJ_eic.2.d
		add_country_leader_trait = ruthless_tycoon
	}
}

#opium trade
country_event = {
	id = GOE_RAJ_eic.3
	title = GOE_RAJ_eic.3.t	
	desc = GOE_RAJ_eic.3.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes

	option = {
		name = GOE_RAJ_eic.3.a
		FROM = {
			country_event = { id = GOE_RAJ_eic.4 days = 3 random_days = 2 }
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = ROOT
				}
			}
		}

		ai_chance = {
			base = 0
			modifier = {
				has_stability < 0.35
				add = 3
			}
		}
	}

	option = {
		name = GOE_RAJ_eic.3.b
		add_ideas = idea_RAJ_permit_opium_trade
		custom_effect_tooltip = RAJ_force_china_to_accept_opium_trade_tt
		if = {
			limit = {
				original_tag = CHI
			}
			FROM = { 
				transfer_state = 743 
				country_event = { id = GOE_RAJ_eic.5 days = 3 random_days = 2 }
			}

		}
		else = {
			if = {
				limit = {
					controls_state = 743
					owns_state = 743
				}

				FROM = { 
					transfer_state = 743 
					country_event = { id = GOE_RAJ_eic.5 days = 3 random_days = 2 }
				}
			}
		}

		ai_chance = {
			base = 5
			modifier = {
				original_tag = CHI
				NOT = { controls_state = 743 }
				factor = 0
			}

			modifier = {
				original_tag = GER
				NOT = { controls_state = 743 }
				factor = 0
			}
		}
	}
}


#pick leader trait
country_event = {
	id = GOE_RAJ_eic.4
	title = GOE_RAJ_eic.4.t	
	desc = GOE_RAJ_eic.4.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes

	option = {
		name = GOE_RAJ_eic.4.a
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}


country_event = {
	id = GOE_RAJ_eic.5
	title = GOE_RAJ_eic.5.t	
	desc = GOE_RAJ_eic.5.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes

	option = {
		name = GOE_RAJ_eic.5.a
		hidden_effect = {
			set_global_flag = worldwide_opium_trade #walthu
		}
	}
}

#RAJ wants to buy some land
country_event = {
	id = GOE_RAJ_eic.6
	title = GOE_RAJ_eic.6.t	
	desc = GOE_RAJ_eic.6.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes

	option = { #not this state
		name = GOE_RAJ_eic.6.a
		hidden_effect = {
			FROM = { clr_country_flag = is_trying_to_buy_land } 
		}

		event_target:RAJ_i_want_to_buy_this_land = {
			set_state_flag = {
				flag = rejected_selling_this_state_to_eic
				days = 120
				value = 1
			}
		}
		clear_global_event_target = RAJ_i_want_to_buy_this_land
		custom_effect_tooltip = GOE_RAJ_eic.6.a_tt
		FROM = { country_event = { id = GOE_RAJ_eic.7 hours = 2 } }
		ai_chance = {
			base = 1
			modifier = {
				event_target:RAJ_i_want_to_buy_this_land = {
					check_variable = { state_strategic_value > 270 }
				}
				factor = 8
			}

			modifier = {
				event_target:RAJ_i_want_to_buy_this_land = {
					check_variable = { state_strategic_value > 200 }
				}
				add = 1
			}

			modifier = {
				event_target:RAJ_i_want_to_buy_this_land = {
					check_variable = { state_strategic_value > 230 }
				}
				add = 1
			}

			modifier = {
				event_target:RAJ_i_want_to_buy_this_land = {
					check_variable = { state_strategic_value > 150 }
				}
				add = 1
			}

			modifier = {
				event_target:RAJ_i_want_to_buy_this_land = {
					check_variable = { state_strategic_value > 100 }
				}
				add = 1
			}

			modifier = {
				event_target:RAJ_i_want_to_buy_this_land = {
					check_variable = { state_strategic_value > 60 }
				}
				factor = 1
			}

			modifier = {
				event_target:RAJ_i_want_to_buy_this_land = {
					check_variable = { state_strategic_value < 60 } #
				}
				factor = 0.7
			}

			modifier = {
				original_tag = RAJ
				factor = 0
			}
		}
	}

	option = { #not ever stop bothering me
		name = GOE_RAJ_eic.6.b

		ai_chance = {
			base = 0
		}

		hidden_effect = {
			set_country_flag = rejected_ever_selling_land_to_eic
			FROM = { 
				clr_country_flag = is_trying_to_buy_land 
			} 
			clear_global_event_target = RAJ_i_want_to_buy_this_land

		}
		custom_effect_tooltip = GOE_RAJ_eic.6.b_tt
		FROM = { country_event = { id = GOE_RAJ_eic.8 hours = 2 } }
	}

	option = { #yes ok
		name = GOE_RAJ_eic.6.c
		if = {
			limit = {
				has_event_target = RAJ_i_want_to_buy_this_land
				event_target:RAJ_i_want_to_buy_this_land = {
					is_in_array = {
						array = RAJ.owned_states_at_game_start
						value = THIS
					}
				}
			}

			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
			RAJ = { hidden_effect = { set_country_flag = use_rebate } }

		}
		else = {
			if = {
				limit = {
					AND = {
						OR = {
							event_target:RAJ_i_want_to_buy_this_land = { has_state_category = wasteland }
							event_target:RAJ_i_want_to_buy_this_land = { has_state_category = enclave }
							event_target:RAJ_i_want_to_buy_this_land = { has_state_category = tiny_island }
						}
						NOT = {
							OR = {
								event_target:RAJ_i_want_to_buy_this_land = { state = 446 }
								event_target:RAJ_i_want_to_buy_this_land = { state = 685 }
							}
						}
					}
				}
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 1
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = pastoral }
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = small_island }
					}
				}
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 3
					}
				}
			}
			else_if = {
				limit = {
					event_target:RAJ_i_want_to_buy_this_land = { has_state_category = rural }
				}
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 4
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = town }
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = large_town }
					}
				}
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 6
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = city }
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = large_city }
					}
				}
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 8
					}
				}
			}
			else_if = {
				limit = {
					event_target:RAJ_i_want_to_buy_this_land = { has_state_category = metropolis }
				}
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 10
					}
				}
			}
			else_if = {
				limit = {
					event_target:RAJ_i_want_to_buy_this_land = { has_state_category = megalopolis }
				}
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 15
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { state = 446 }
						event_target:RAJ_i_want_to_buy_this_land = { state = 685 }
					}
				}
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 8
					}
				}
			}
			else = {
				ROOT = { 
					add_offsite_building = {
						type = industrial_complex
						level = 5
					}
				}
			}
		}

		RAJ = {  
			transfer_state = event_target:RAJ_i_want_to_buy_this_land 
			country_event = { id = GOE_RAJ_eic.9 hours = 2 }
			hidden_effect = {
				clr_country_flag = is_trying_to_buy_land 
			}
		}
		hidden_effect = {

		}

		ai_chance = {
			base = 2.25
			
		}
	}
}

#Reject buying this state
country_event = {
	id = GOE_RAJ_eic.7
	title = GOE_RAJ_eic.7.t	
	desc = GOE_RAJ_eic.7.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes

	option = {
		name = GOE_RAJ_eic.7.a
	}
}

#RAJ wants to buy some land
country_event = {
	id = GOE_RAJ_eic.8
	title = GOE_RAJ_eic.8.t	
	desc = GOE_RAJ_eic.8.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes
	option = {
		name = GOE_RAJ_eic.8.a
	}
}

#RAJ wants to buy some land
# i actually want to cry. this is the worst system in the entire game. why did we not just make a centralized variable from the start this took me so many hours to fix -lily
country_event = {
	id = GOE_RAJ_eic.9
	title = GOE_RAJ_eic.9.t	
	desc = GOE_RAJ_eic.9.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes

	option = {
		name = GOE_RAJ_eic.9.a
		if = {
			limit = {
				RAJ = { has_country_flag = use_rebate }
			}
			

			RAJ = {
				for_loop_effect = {
					end = 1
					value = temp
					random_controlled_state = {
						limit = {
							industrial_complex > 0
							NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
						}
						remove_building = {
							type = industrial_complex 
							level = 1
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = {
					AND = {
						OR = {
							event_target:RAJ_i_want_to_buy_this_land = { has_state_category = wasteland }
							event_target:RAJ_i_want_to_buy_this_land = { has_state_category = enclave }
							event_target:RAJ_i_want_to_buy_this_land = { has_state_category = tiny_island }
						}
						NOT = {
							OR = {
									event_target:RAJ_i_want_to_buy_this_land = { state = 446 }
									event_target:RAJ_i_want_to_buy_this_land = { state = 685 }
							}
						}
					}
				}
				RAJ = {
					for_loop_effect = {
						end = 1
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = pastoral }
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = small_island }
					}
				}
				RAJ = {
					for_loop_effect = {
						end = 3
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					event_target:RAJ_i_want_to_buy_this_land = { has_state_category = rural }
				}
				RAJ = {
					for_loop_effect = {
						end = 4
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = town }
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = large_town }
					}
				}
				RAJ = {
					for_loop_effect = {
						end = 6
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = city }
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = large_city }
					}
				}
				RAJ = {
					for_loop_effect = {
						end = 8
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					event_target:RAJ_i_want_to_buy_this_land = { has_state_category = metropolis }
				}
				RAJ = {
					for_loop_effect = {
						end = 10
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { has_state_category = megalopolis }
					}
				}
				RAJ = {
					for_loop_effect = {
						end = 15
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						event_target:RAJ_i_want_to_buy_this_land = { state = 446 }
						event_target:RAJ_i_want_to_buy_this_land = { state = 685 }
					}
				}
				RAJ = {
					for_loop_effect = {
						end = 8
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
			else = {
				RAJ = {
					for_loop_effect = {
						end = 5
						value = temp
						random_controlled_state = {
							limit = {
								industrial_complex > 0
								NOT = { state = event_target:RAJ_i_want_to_buy_this_land  }
							}
							remove_building = {
								type = industrial_complex 
								level = 1
							}
						}
					}
				}
			}
		}
		hidden_effect = { RAJ = { clr_country_flag = use_rebate } }
		clear_global_event_target = RAJ_i_want_to_buy_this_land
		
		hidden_effect = {
				clr_country_flag = is_trying_to_buy_land 	
		}
		hidden_effect = { controlled_civilian_factories_excluding_trade = yes }
	}
}

#RAJ wants to buy some people
country_event = {
	id = GOE_RAJ_eic.10
	title = GOE_RAJ_eic.10.t	
	desc = GOE_RAJ_eic.10.desc	
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes

	#no
	option = {
		name = GOE_RAJ_eic.10.a
		ai_chance = {
			base = 1
			modifier = {
				industrial_complex > 25
				add = 0.5
			}

			modifier = {
				var:RAJ_wants_to_buy_army_chief = {
					skill > 3
				}
				add = 1
			}

			modifier = {
				var:RAJ_wants_to_buy_army_chief = {
					skill > 4
				}
				add = 5
			}

			modifier = {
				check_variable = { army_leaders^num < 5 }
				add = 10
				is_major = yes
			}

			modifier = {
				check_variable = { army_leaders^num < 3 }
				add = 10
				is_major = no
			}
		}
		FROM = { 
			country_event = { id = GOE_RAJ_eic.11 hours = 2 } 
		}

		var:RAJ_wants_to_buy_army_chief = {
			set_character_flag = RAJ_not_for_sale
		}
		clear_variable = RAJ_wants_to_buy_army_chief

	}

	option = {
		name = GOE_RAJ_eic.10.b
		ai_chance = {
			base = 0
		}
		set_country_flag = RAJ_stop_bothering_me_about_army_leaders
	}

	#ok
	option = {
		name = GOE_RAJ_eic.10.c
		ai_chance = {
			base = 1
			modifier = {
				industrial_complex < 10
				add = 2
			}

			modifier = {
				var:RAJ_wants_to_buy_army_chief = {
					skill < 2
				}
				add = 10
			}

			modifier = {
				var:RAJ_wants_to_buy_army_chief = {
					skill < 3
				}
				add = 5
			}

			modifier = {
				check_variable = { army_leaders^num > 5 }
				add = 10
				is_major = yes
			}

			modifier = {
				check_variable = { army_leaders^num > 3 }
				add = 10
				is_major = no
			}
		}
		add_offsite_building = {
			type = industrial_complex 
			level = 4
		}

		var:RAJ_wants_to_buy_army_chief = {
			set_nationality = FROM
		}
		FROM = { 
			country_event = { id = GOE_RAJ_eic.13 hours = 2 } 
		}

		clear_variable = RAJ_wants_to_buy_army_chief
	}
}

#not this one
country_event = {
	id = GOE_RAJ_eic.11
	title = GOE_RAJ_eic.11.t	
	desc = GOE_RAJ_eic.11.desc	
	is_triggered_only = yes
	option = {
		name = GOE_RAJ_eic.11.a
		add_political_power = 5
		clr_country_flag = is_haggling_for_army_leader	
		hidden_effect = { controlled_civilian_factories_excluding_trade = yes }
	}
}


#stop bothering me
country_event = {
	id = GOE_RAJ_eic.12
	title = GOE_RAJ_eic.12.t	
	desc = GOE_RAJ_eic.12.desc	
	is_triggered_only = yes
	option = {
		name = GOE_RAJ_eic.13.a
		add_political_power = 5
		clr_country_flag = is_haggling_for_army_leader	
		hidden_effect = { controlled_civilian_factories_excluding_trade = yes }
	}
}


country_event = {
	id = GOE_RAJ_eic.13
	title = GOE_RAJ_eic.13.t	
	desc = GOE_RAJ_eic.13.desc	
	is_triggered_only = yes
	option = {
		name = GOE_RAJ_eic.12.a
		add_political_power = 5
		clr_country_flag = is_haggling_for_army_leader	
		every_controlled_state = {
			random_select_amount = 4
			limit = { industrial_complex > 0 }
			remove_building = {
				type = industrial_complex 
				level = 1
			}
		}
		hidden_effect = { controlled_civilian_factories_excluding_trade = yes }
	}
}

# pick a leader - the legacy of babur
country_event = {
	id = GOE_RAJ_princely.1
	title = GOE_RAJ_princely.1.t
	desc = GOE_RAJ_princely.1.desc
	is_triggered_only = yes
	picture = GFX_report_event_indian_soldiers
	option = {
		name = GOE_RAJ_princely.1.a	
	}
	option = {
		name = GOE_RAJ_princely.1.b
			RAJ = {
			    add_country_leader_role = {
				    character = RAJ_mirza_khurshid_jah_bahadur
				    promote_leader = yes
				    country_leader = {
				        ideology = despotism
				        expire = "1965.1.1.1"
				        traits = { RAJ_heir_of_the_empire }
				        id=-1
				    }
				}
			}
			#retire_country_leader = yes
	}
	option = {
		name = GOE_RAJ_princely.1.c	
	}
	option = {
		name = GOE_RAJ_princely.1.d
	}
}

country_event = {
	id = GOE_RAJ_princely.2
	title = GOE_RAJ_princely.2.t
	desc = GOE_RAJ_princely.2.desc
	is_triggered_only = yes
	picture = GFX_report_event_indian_soldiers
	option = {
		name = GOE_RAJ_princely.2.a
	}
	option = {
		name = GOE_RAJ_princely.2.d
		ROOT = {
			country_event = { id = GOE_RAJ_princely.1 }
		}
	}
}

#country_event = {
#	id = GOE_RAJ_princely.3
#	title = GOE_RAJ_princely.3.t
#	desc = GOE_RAJ_princely.3.desc
#	is_triggered_only = yes
#	picture = GFX_report_event_indian_soldiers
	#option = {
	#	name = GOE_RAJ_princely.3.a
	#	RJP = {
	#		RAJ_umed_singh = {
	#			set_nationality = RAJ
	#			set_character_flag = is_mughal_emperor
	#		}
	#		promote_character = RAJ_umed_singh
	#	}	
	#}
	#option = {
	#	name = GOE_RAJ_princely.3.b
	#	WIS = {
	#		RAJ_pratap_singh_rao_gaekwad = {
	#			set_nationality = RAJ
	#			set_character_flag = is_mughal_emperor
	#		}
	#		promote_character = RAJ_pratap_singh_rao_gaekwad
	#	}	
	#}
	#option = {
	#	name = GOE_RAJ_princely.3.c
	#	MYS = {
	#		RAJ_maharaja_jayachamarajendra_wadiyar = {
	#			set_nationality = RAJ
	#			set_character_flag = is_mughal_emperor
	#		}
	#		promote_character = RAJ_maharaja_jayachamarajendra_wadiyar
	#	}	
	#}
#	option = {
#		name = GOE_RAJ_princely.3.d
#		ROOT = {
#			country_event = { id = GOE_RAJ_princely.1 }
#		}
#	}
#}


# (RAJ) proposes naval agreement
country_event = {
	id = GOE_RAJ_navy.1
	picture = GFX_report_event_generic_read_write
	title = GOE_RAJ_navy.1.t
	desc = GOE_RAJ_navy.1.desc
	is_triggered_only = yes
	option = { #yes
		name = GOE_RAJ_navy.1.a

		ai_chance = {
			base = 0.9
		}

		ENG = {
			add_ideas = RAJ_british_naval_agreement
		}
		RAJ = {
			add_ideas = RAJ_british_naval_agreement
			country_event = { id = GOE_RAJ_navy.2 days = 1 }
		}
	}
	option = { #no
		name = GOE_RAJ_navy.1.b

		ai_chance = {
			base = 0.1
		}

		RAJ = {
			country_event = { id = GOE_RAJ_navy.3 days = 1 }
		}
	}
}


# (ENG) accepts!
country_event = {
	id = GOE_RAJ_navy.2
	picture = GFX_report_event_generic_sign_treaty2
	title = GOE_RAJ_navy.2.t
	desc = GOE_RAJ_navy.2.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_navy.2.a
		effect_tooltip = {
			add_ideas = RAJ_british_naval_agreement
			ENG = { add_ideas = RAJ_british_naval_agreement }
		}
	}
}
# (ENG) rejects!
country_event = {
	id = GOE_RAJ_navy.3
	picture = GFX_report_event_generic_read_write
	title = GOE_RAJ_navy.3.t
	desc = GOE_RAJ_navy.3.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_navy.3.a
	}
}

# (RAJ) requests transfer of british commanders
country_event = {
	id = GOE_RAJ_navy.4
	picture = GFX_report_event_british_inspect_troops
	title = GOE_RAJ_navy.4.t
	desc = GOE_RAJ_navy.4.desc
	is_triggered_only = yes
	option = { #yes
		name = GOE_RAJ_navy.4.a

		random_navy_leader = {
			limit = {
				skill < 4
			}
			set_nationality = RAJ
			set_character_flag = transfered_commander_raj_navy
		}

		add_political_power = 200
		add_cic = 1500

		ai_chance = {
			base = 0.7
		}

		RAJ = {
			country_event = { id = GOE_RAJ_navy.5 days = 1}
		}

	}
	option = { #no
		name = GOE_RAJ_navy.4.b

		ai_chance = {
			base = 0.3
		}

		RAJ = {
			country_event = { id = GOE_RAJ_navy.6 days = 1}
		}

	}
}

# (ENG) accepts!
country_event = {
	id = GOE_RAJ_navy.5
	picture = GFX_report_event_generic_sign_treaty2
	title = GOE_RAJ_navy.5.t
	desc = GOE_RAJ_navy.5.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_navy.5.a

		RAJ = {
			effect_tooltip = {
				every_navy_leader = {
					limit = {
						has_character_flag = transfered_commander_raj_navy
					}
				}
				custom_effect_tooltip = GOE_RAJ_transfered_commander_tt
			}
		}

	}
}
# (ENG) rejects!
country_event = {
	id = GOE_RAJ_navy.6
	picture = GFX_report_event_generic_read_write
	title = GOE_RAJ_navy.6.t
	desc = GOE_RAJ_navy.6.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_navy.6.a
	}
}

# (RAJ) proposes purchasing decommissioned ships
country_event = {
	id = GOE_RAJ_navy.7
	picture = GFX_report_event_usa_destroyers
	title = GOE_RAJ_navy.7.t
	desc = GOE_RAJ_navy.7.desc
	is_triggered_only = yes
	option = { #yes
		name = GOE_RAJ_navy.7.a

		ai_chance = {
			base = 0.9
		}

		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			ENG = {
				add_cic = 2000
				create_equipment_variant = {
					name="C Class Calcutta"
					type = ship_hull_cruiser_1
					modules={
						fixed_ship_engine_slot=cruiser_ship_engine_1
						mid_1_custom_slot=ship_light_medium_battery_1
						fixed_ship_battery_slot=ship_light_battery_1
						fixed_ship_fire_control_system_slot=ship_fire_control_system_1
					}
				}
			}

			RAJ = {
				create_ship = {
					type = ship_hull_cruiser_1
					equipment_variant = "C Class Calcutta"
					creator = ENG
					name = "C Class Calcutta"
				}
				create_ship = {
					type = ship_hull_cruiser_1
					equipment_variant = "C Class Calcutta"
					creator = ENG
					name = "C Class Calcutta"
				}
				create_ship = {
					type = ship_hull_cruiser_1
					equipment_variant = "C Class Calcutta"
					creator = ENG
					name = "C Class Calcutta"
				}
				create_ship = {
					type = ship_hull_cruiser_1
					equipment_variant = "C Class Calcutta"
					creator = ENG
					name = "C Class Calcutta"
				}
				country_event = { id = GOE_RAJ_navy.8 days = 1 }
			}
		}
		else = {
			ENG = {
				add_cic = 2000
				create_equipment_variant = {
					name="C Class Calcutta"
					type = light_cruiser_1
					modules= {
						fixed_ship_anti_air_slot=ship_anti_air_1
						fixed_ship_engine_slot=cruiser_ship_engine_1
						mid_1_custom_slot=ship_torpedo_1
						mid_2_custom_slot=ship_anti_air_1
						rear_1_custom_slot=ship_light_medium_battery_1
						fixed_ship_battery_slot=ship_light_medium_battery_1
						fixed_ship_fire_control_system_slot=ship_fire_control_system_0
					}
				}
			}

			RAJ = {
				create_ship = {
					type = light_cruiser_1
					equipment_variant = "C Class Calcutta"
					creator = ENG
					name = "C Class Calcutta"
				}
				create_ship = {
					type = light_cruiser_1
					equipment_variant = "C Class Calcutta"
					creator = ENG
					name = "C Class Calcutta"
				}
				create_ship = {
					type = light_cruiser_1
					equipment_variant = "C Class Calcutta"
					creator = ENG
					name = "C Class Calcutta"
				}
				create_ship = {
					type = light_cruiser_1
					equipment_variant = "C Class Calcutta"
					creator = ENG
					name = "C Class Calcutta"
				}
				country_event = { id = GOE_RAJ_navy.8 days = 1 }
			}
		}

	}
	option = { #no
		name = GOE_RAJ_navy.7.b

		ai_chance = {
			base = 0.1
		}

		RAJ = {
			country_event = { id = GOE_RAJ_navy.9 days = 1 }
		}
	}
}

# (ENG) accepts!
country_event = {
	id = GOE_RAJ_navy.8
	picture = GFX_report_event_generic_sign_treaty2
	title = GOE_RAJ_navy.8.t
	desc = GOE_RAJ_navy.8.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_navy.8.a

		effect_tooltip = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				ENG = {
					add_cic = 2000
					create_equipment_variant = {
						name="C Class Calcutta"
						type = ship_hull_cruiser_1
						modules={
							fixed_ship_engine_slot=cruiser_ship_engine_1
							mid_1_custom_slot=ship_light_medium_battery_1
							fixed_ship_battery_slot=ship_light_battery_1
							fixed_ship_fire_control_system_slot=ship_fire_control_system_1
						}
					}
				}

				RAJ = {
					create_ship = {
						type = ship_hull_cruiser_1
						equipment_variant = "C Class Calcutta"
						creator = ENG
						name = "C Class Calcutta"
					}
					create_ship = {
						type = ship_hull_cruiser_1
						equipment_variant = "C Class Calcutta"
						creator = ENG
						name = "C Class Calcutta"
					}
					create_ship = {
						type = ship_hull_cruiser_1
						equipment_variant = "C Class Calcutta"
						creator = ENG
						name = "C Class Calcutta"
					}
					create_ship = {
						type = ship_hull_cruiser_1
						equipment_variant = "C Class Calcutta"
						creator = ENG
						name = "C Class Calcutta"
					}
					country_event = { id = GOE_RAJ_navy.8 days = 1 }
				}
			}
			else = {
				ENG = {
					add_cic = 2000
					create_equipment_variant = {
						name="C Class Calcutta"
						type = light_cruiser_1
						modules= {
							fixed_ship_anti_air_slot=ship_anti_air_1
							fixed_ship_engine_slot=cruiser_ship_engine_1
							mid_1_custom_slot=ship_torpedo_1
							mid_2_custom_slot=ship_anti_air_1
							rear_1_custom_slot=ship_light_medium_battery_1
							fixed_ship_battery_slot=ship_light_medium_battery_1
							fixed_ship_fire_control_system_slot=ship_fire_control_system_0
						}
					}
				}

				RAJ = {
					create_ship = {
						type = light_cruiser_1
						equipment_variant = "C Class Calcutta"
						creator = ENG
						name = "C Class Calcutta"
					}
					create_ship = {
						type = light_cruiser_1
						equipment_variant = "C Class Calcutta"
						creator = ENG
						name = "C Class Calcutta"
					}
					create_ship = {
						type = light_cruiser_1
						equipment_variant = "C Class Calcutta"
						creator = ENG
						name = "C Class Calcutta"
					}
					create_ship = {
						type = light_cruiser_1
						equipment_variant = "C Class Calcutta"
						creator = ENG
						name = "C Class Calcutta"
					}
					country_event = { id = GOE_RAJ_navy.8 days = 1 }
				}
			}
		}
	}
}
# (ENG) rejects!
country_event = {
	id = GOE_RAJ_navy.9
	picture = GFX_report_event_generic_read_write
	title = GOE_RAJ_navy.9.t
	desc = GOE_RAJ_navy.9.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_navy.9.a
	}
}

# (RAJ) obtain modern ship contracts
country_event = {
	id = GOE_RAJ_navy.10
	picture = GFX_report_event_usa_british_sailors_destroyers
	title = GOE_RAJ_navy.10.t
	desc = GOE_RAJ_navy.10.desc
	is_triggered_only = yes
	option = { #yes
		name = GOE_RAJ_navy.10.a

		ai_chance = {
			base = 0.9
		}

		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			ENG = {
				add_cic = 3000
				create_equipment_variant = {
					name="S Class Calcutta"
					type = ship_hull_cruiser_2
					modules={
						fixed_ship_engine_slot=cruiser_ship_engine_2
						front_1_custom_slot=ship_light_medium_battery_1
						mid_1_custom_slot=ship_light_battery_1
						fixed_ship_battery_slot=ship_light_medium_battery_1
						fixed_ship_fire_control_system_slot=ship_fire_control_system_1
					}
				}
			}

			RAJ = {

				create_ship = {
					type = ship_hull_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				create_ship = {
					type = ship_hull_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				create_ship = {
					type = ship_hull_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				create_ship = {
					type = ship_hull_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				create_ship = {
					type = ship_hull_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				country_event = { id = GOE_RAJ_navy.11 days = 1 }
			}
		}

		else = {
			ENG = {
				add_cic = 3000
				create_equipment_variant = {
					name="S Class Calcutta"
					type = light_cruiser_2
					modules = {
						fixed_ship_anti_air_slot=ship_anti_air_3
						fixed_ship_engine_slot=cruiser_ship_engine_2
						mid_1_custom_slot=ship_torpedo_2
						mid_2_custom_slot=ship_anti_air_3
						rear_1_custom_slot=ship_light_medium_battery_2
						fixed_ship_battery_slot=ship_light_medium_battery_2
						fixed_ship_fire_control_system_slot=ship_fire_control_system_0
					}
				}
			}

			RAJ = {

				create_ship = {
					type = light_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				create_ship = {
					type = light_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				create_ship = {
					type = light_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				create_ship = {
					type = light_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				create_ship = {
					type = light_cruiser_2
					equipment_variant = "S Class Calcutta"
					creator = ENG
					name = "S Class Calcutta"
				}
				country_event = { id = GOE_RAJ_navy.11 days = 1 }
			}
		}
	}
	option = { #no
		name = GOE_RAJ_navy.10.b

		ai_chance = {
			base = 0.1
		}

		RAJ = {
			country_event = { id = GOE_RAJ_navy.12 days = 1 }
		}
	}
}

# (ENG) accepts!
country_event = {
	id = GOE_RAJ_navy.11
	picture = GFX_report_event_generic_sign_treaty2
	title = GOE_RAJ_navy.11.t
	desc = GOE_RAJ_navy.11.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_navy.11.a

		effect_tooltip = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				ENG = {
					add_cic = 3000
					create_equipment_variant = {
						name="S Class Calcutta"
						type = ship_hull_cruiser_2
						modules={
							fixed_ship_engine_slot=cruiser_ship_engine_2
							front_1_custom_slot=ship_light_medium_battery_1
							mid_1_custom_slot=ship_light_battery_1
							fixed_ship_battery_slot=ship_light_medium_battery_1
							fixed_ship_fire_control_system_slot=ship_fire_control_system_1
						}
					}
				}

				RAJ = {

					create_ship = {
						type = ship_hull_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					create_ship = {
						type = ship_hull_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					create_ship = {
						type = ship_hull_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					create_ship = {
						type = ship_hull_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					create_ship = {
						type = ship_hull_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					country_event = { id = GOE_RAJ_navy.11 days = 1 }
				}
			}

			else = {
				ENG = {
					add_cic = 3000
					create_equipment_variant = {
						name="S Class Calcutta"
						type = light_cruiser_2
						modules = {
							fixed_ship_anti_air_slot=ship_anti_air_3
							fixed_ship_engine_slot=cruiser_ship_engine_2
							mid_1_custom_slot=ship_torpedo_2
							mid_2_custom_slot=ship_anti_air_3
							rear_1_custom_slot=ship_light_medium_battery_2
							fixed_ship_battery_slot=ship_light_medium_battery_2
							fixed_ship_fire_control_system_slot=ship_fire_control_system_0
						}
					}
				}

				RAJ = {

					create_ship = {
						type = light_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					create_ship = {
						type = light_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					create_ship = {
						type = light_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					create_ship = {
						type = light_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					create_ship = {
						type = light_cruiser_2
						equipment_variant = "S Class Calcutta"
						creator = ENG
						name = "S Class Calcutta"
					}
					country_event = { id = GOE_RAJ_navy.11 days = 1 }
				}
			}
		}
	}
}
# (ENG) rejects!
country_event = {
	id = GOE_RAJ_navy.12
	picture = GFX_report_event_generic_read_write
	title = GOE_RAJ_navy.12.t
	desc = GOE_RAJ_navy.12.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_navy.12.a
	}
}

# India demands goa
country_event = {
	id = GOE_RAJ_goa.1
	picture = GFX_report_event_generic_military_parade
	title = GOE_RAJ_goa.1.t
	desc = GOE_RAJ_goa.1.desc
	is_triggered_only = yes
	option = { # give them
		name = GOE_RAJ_goa.1.a
		RAJ = {
			country_event = { id = GOE_RAJ_goa.2 days = 1 }
			321 = {
				transfer_state_to = RAJ
			}
		}
	}
	option = { # dont
		name = GOE_RAJ_goa.1.b
		RAJ = {
			country_event = { id = GOE_RAJ_goa.3 days = 1 }
		}
		effect_tooltip = {
			RAJ = {
				create_wargoal = {
					type = take_claimed_state
					target = POR
					generator = { 321 }
				}
			}
		}
	}
}

# portugal releases goa
country_event = {
	id = GOE_RAJ_goa.2
	picture = GFX_report_event_generic_sign_treaty3
	title = GOE_RAJ_goa.2.t
	desc = GOE_RAJ_goa.2.desc
	is_triggered_only = yes
	option = { # yay
		name = GOE_RAJ_goa.2.a
		effect_tooltip = {
			321 = {
				transfer_state_to = RAJ
			}
		}
	}
}

# portugal refuses
country_event = {
	id = GOE_RAJ_goa.3
	picture = GFX_report_event_generic_sign_treaty3
	title = GOE_RAJ_goa.3.t
	desc = GOE_RAJ_goa.3.desc
	is_triggered_only = yes
	option = { # this means war!
		name = GOE_RAJ_goa.3.a
		RAJ = {
			create_wargoal = {
				type = take_claimed_state
				target = POR
				generator = { 321 }
			}
		}
	}
}

### GOE_RAJ_generals

# colonial cadet exchange request - RAJ->ENG
country_event = {
	id = GOE_RAJ_generals.1
	picture = GFX_report_event_indian_soldiers
	title = GOE_RAJ_generals.1.t
	desc = GOE_RAJ_generals.1.desc
	is_triggered_only = yes
	option = { # yes
		name = GOE_RAJ_generals.1.a

		ai_chance = {
			base = 0.9
		}

		ENG = {
			add_political_power = 200
		}

		custom_effect_tooltip = newline_tt

		RAJ = {
			country_event = { id = GOE_RAJ_generals.2 days = 1 }
			add_manpower = -100000
			add_timed_idea = {
			 	idea = idea_RAJ_soldiers_training_in_britain
			 	days = 365
			 }
            custom_effect_tooltip = RAJ_colonial_cadet_exchange_tt
			effect_tooltip = {
	            effect_tooltip = {
                    division_template = {
                        name = "Royal Indian Infantry"
                        is_locked = yes
                        support={
                            artillery={ x=0 y=0 }
                            recon={ x=0 y=1 }
                        }
                        regiments={
                            infantry={ x=0 y=0 }
                            infantry={ x=0 y=1 }
                            infantry={ x=0 y=2 }
                            infantry={ x=1 y=0 }
                            infantry={ x=1 y=1 }
                            infantry={ x=1 y=2 }
                            infantry={ x=2 y=0 }
                            infantry={ x=2 y=1 }
                            infantry={ x=2 y=2 }
                        }
                    }

                    random_core_state = {
                        prioritize = { 439 }
                        create_unit = {
                            division = "name = \"Royal Indian Infantry\" division_template = \"Royal Indian Infantry\" start_experience_factor = 0.7 start_equipment_factor = 1.0 start_manpower_factor = 1.0"
                            owner = RAJ
                            allow_spawning_on_enemy_provs = no 
                            count = 10
                        }
                    }
	            }
			}
		}
	}
	option = { # no
		name = GOE_RAJ_generals.1.b

		ai_chance = {
			base = 0.1
		}

		RAJ = {
			country_event = { id = GOE_RAJ_generals.3 days = 1 }
		}
	}
}

# colonial cadet exchange response yes - ENG->RAJ
country_event = {
	id = GOE_RAJ_generals.2
	picture = GFX_report_event_generic_sign_treaty2
	title = GOE_RAJ_generals.2.t
	desc = GOE_RAJ_generals.2.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_generals.2.a
		effect_tooltip = {
			add_timed_idea = {
			 	idea = idea_RAJ_soldiers_training_in_britain
			 	days = 365
			 }
		}
	}
}

# colonial cadet exchange response no ENG->RAJ
country_event = {
	id = GOE_RAJ_generals.3
	picture = GFX_report_event_generic_read_write
	title = GOE_RAJ_generals..t
	desc = GOE_RAJ_generals.3.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_generals.2.a
	}
}

# join the shadow scheme request - RAJ->ENG
#country_event = {
#	id = GOE_RAJ_generals.4
#	picture = GFX_report_event_generic_factory
#	title = GOE_RAJ_generals.4.t
#	desc = GOE_RAJ_generals.4.desc
#	is_triggered_only = yes
#	option = { # yes
#		name = GOE_RAJ_generals.4.a
#
#		ai_chance = {
#			base = 0.9
#		}
#
#		RAJ = {
#			country_event = { id = GOE_RAJ_generals.5 days = 1 }
#		}
#	}
#	option = { # no
#		name = GOE_RAJ_generals.4.b
#
#		ai_chance = {
#			base = 0.1
#		}
#
#		RAJ = {
#			country_event = { id = GOE_RAJ_generals.6 days = 1 }
#		}
#	}
#}
#
## join the shadow scheme response yes - ENG->RAJ
#country_event = {
#	id = GOE_RAJ_generals.5
#	picture = GFX_report_event_generic_sign_treaty2
#	title = GOE_RAJ_generals.5.t
#	desc = GOE_RAJ_generals.5.desc
#	is_triggered_only = yes
#	option = { #ok
#		name = GOE_RAJ_generals.2.a
#	}
#}
#
## join the shadow scheme response no ENG->RAJ
#country_event = {
#	id = GOE_RAJ_generals.6
#	picture = GFX_report_event_generic_read_write
#	title = GOE_RAJ_generals.6.t
#	desc = GOE_RAJ_generals.6.desc
#	is_triggered_only = yes
#	option = { #ok
#		name = GOE_RAJ_generals.2.a
#	}
#}

# purchase british supply equipment request - RAJ->ENG
country_event = {
	id = GOE_RAJ_generals.7
	picture = GFX_report_event_generic_truck
	title = GOE_RAJ_generals.7.t
	desc = GOE_RAJ_generals.7.desc
	is_triggered_only = yes
	option = { # yes
		name = GOE_RAJ_generals.7.a

		ai_chance = {
			base = 0.9
		}

		ENG = {
			add_political_power = 150
			add_cic = 5000
		}

		RAJ = {
			country_event = { id = GOE_RAJ_generals.8 days = 1 }
			add_equipment_to_stockpile = { 
				type = motorized_equipment
				amount = 600
				producer = ENG
			}
			add_equipment_to_stockpile = { 
				type = train_equipment
				amount = 10
				producer = ENG
			}
			add_equipment_to_stockpile = { 
				type = support_equipment
				amount = 500
				producer = ENG
			}

		}
	}
	option = { # no
		name = GOE_RAJ_generals.7.b

		ai_chance = {
			base = 0.1
		}

		RAJ = {
			country_event = { id = GOE_RAJ_generals.9 days = 1 }
		}
	}
}

# purchase british supply equipment response yes - ENG->RAJ
country_event = {
	id = GOE_RAJ_generals.8
	picture = GFX_report_event_generic_sign_treaty2
	title = GOE_RAJ_generals.8.t
	desc = GOE_RAJ_generals.8.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_generals.2.a

		effect_tooltip = {
			RAJ = {
				add_equipment_to_stockpile = { 
					type = motorized_equipment_1
					amount = 600
					producer = ENG
				}
				add_equipment_to_stockpile = { 
					type = train_equipment
					amount = 10
					producer = ENG
				}
				add_equipment_to_stockpile = { 
					type = support_equipment
					amount = 500
					producer = ENG
				}
			}
		}
	}
}

# purchase british supply equipment response no ENG->RAJ
country_event = {
	id = GOE_RAJ_generals.9
	picture = GFX_report_event_generic_read_write
	title = GOE_RAJ_generals.9.t
	desc = GOE_RAJ_generals.9.desc
	is_triggered_only = yes
	option = { #ok
		name = GOE_RAJ_generals.2.a
	}
}

country_event = {
	id = GOE_RAJ_mughals_peace_deal.1
	picture = GFX_report_event_generic_read_write
	title = GOE_RAJ_mughals_peace_deal.1.t
	desc = GOE_RAJ_mughals_peace_deal.1.desc
	is_triggered_only = yes
	fire_only_once = yes
	option = { #ok
		name = GOE_RAJ_mughals_peace_deal.1.a
		every_enemy_country = {
			limit = { 
				OR = {
					original_tag = ENG
					is_in_faction_with = ENG
					has_country_flag = RAJ_mughal_was_in_faction_with_eng
					original_tag = RAJ
				}
			}
			white_peace = ROOT
		}
		IF = {
			limit = {
				RAJ = { has_country_flag = RAJ_mughal_captured_states }
			}
			event_target:UK_INDIA = {
				every_owned_state = {
					limit = {
						OR = {
							state = 440
							state = 986
							state = 439
							state = 441
							state = 787
						}
					}
					transfer_state_to = RAJ
					add_core_of = RAJ
				}
			}
		}
	}
}
